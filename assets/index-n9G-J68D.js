var cd=Object.defineProperty;var ud=(e,t,r)=>t in e?cd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t,r)=>ud(e,typeof t!="symbol"?t+"":t,r);function fd(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Pc={exports:{}},Ke=Pc.exports={},qt,zt;function vo(){throw new Error("setTimeout has not been defined")}function go(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?qt=setTimeout:qt=vo}catch{qt=vo}try{typeof clearTimeout=="function"?zt=clearTimeout:zt=go}catch{zt=go}})();function Bc(e){if(qt===setTimeout)return setTimeout(e,0);if((qt===vo||!qt)&&setTimeout)return qt=setTimeout,setTimeout(e,0);try{return qt(e,0)}catch{try{return qt.call(null,e,0)}catch{return qt.call(this,e,0)}}}function ld(e){if(zt===clearTimeout)return clearTimeout(e);if((zt===go||!zt)&&clearTimeout)return zt=clearTimeout,clearTimeout(e);try{return zt(e)}catch{try{return zt.call(null,e)}catch{return zt.call(this,e)}}}var ir=[],Xr=!1,Nr,ri=-1;function hd(){!Xr||!Nr||(Xr=!1,Nr.length?ir=Nr.concat(ir):ri=-1,ir.length&&Tc())}function Tc(){if(!Xr){var e=Bc(hd);Xr=!0;for(var t=ir.length;t;){for(Nr=ir,ir=[];++ri<t;)Nr&&Nr[ri].run();ri=-1,t=ir.length}Nr=null,Xr=!1,ld(e)}}Ke.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ir.push(new Oc(e,t)),ir.length===1&&!Xr&&Bc(Tc)};function Oc(e,t){this.fun=e,this.array=t}Oc.prototype.run=function(){this.fun.apply(null,this.array)};Ke.title="browser";Ke.browser=!0;Ke.env={};Ke.argv=[];Ke.version="";Ke.versions={};function ur(){}Ke.on=ur;Ke.addListener=ur;Ke.once=ur;Ke.off=ur;Ke.removeListener=ur;Ke.removeAllListeners=ur;Ke.emit=ur;Ke.prependListener=ur;Ke.prependOnceListener=ur;Ke.listeners=function(e){return[]};Ke.binding=function(e){throw new Error("process.binding is not supported")};Ke.cwd=function(){return"/"};Ke.chdir=function(e){throw new Error("process.chdir is not supported")};Ke.umask=function(){return 0};var Cc=Pc.exports;const bd=dd(Cc),pd=fd({__proto__:null,default:bd},[Cc]);var mi={},_i={};_i.byteLength=gd;_i.toByteArray=_d;_i.fromByteArray=Ad;var Gt=[],St=[],yd=typeof Uint8Array<"u"?Uint8Array:Array,ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qr=0,vd=ja.length;qr<vd;++qr)Gt[qr]=ja[qr],St[ja.charCodeAt(qr)]=qr;St[45]=62;St[95]=63;function Nc(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function gd(e){var t=Nc(e),r=t[0],n=t[1];return(r+n)*3/4-n}function md(e,t,r){return(t+r)*3/4-r}function _d(e){var t,r=Nc(e),n=r[0],i=r[1],a=new yd(md(e,n,i)),s=0,o=i>0?n-4:n,h;for(h=0;h<o;h+=4)t=St[e.charCodeAt(h)]<<18|St[e.charCodeAt(h+1)]<<12|St[e.charCodeAt(h+2)]<<6|St[e.charCodeAt(h+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=St[e.charCodeAt(h)]<<2|St[e.charCodeAt(h+1)]>>4,a[s++]=t&255),i===1&&(t=St[e.charCodeAt(h)]<<10|St[e.charCodeAt(h+1)]<<4|St[e.charCodeAt(h+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function wd(e){return Gt[e>>18&63]+Gt[e>>12&63]+Gt[e>>6&63]+Gt[e&63]}function Sd(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(wd(n));return i.join("")}function Ad(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(Sd(e,s,s+a>o?o:s+a));return n===1?(t=e[r-1],i.push(Gt[t>>2]+Gt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Gt[t>>10]+Gt[t>>4&63]+Gt[t<<2&63]+"=")),i.join("")}var Ro={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ro.read=function(e,t,r,n,i){var a,s,o=i*8-n-1,h=(1<<o)-1,g=h>>1,p=-7,y=r?i-1:0,A=r?-1:1,E=e[t+y];for(y+=A,a=E&(1<<-p)-1,E>>=-p,p+=o;p>0;a=a*256+e[t+y],y+=A,p-=8);for(s=a&(1<<-p)-1,a>>=-p,p+=n;p>0;s=s*256+e[t+y],y+=A,p-=8);if(a===0)a=1-g;else{if(a===h)return s?NaN:(E?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-g}return(E?-1:1)*s*Math.pow(2,a-n)};Ro.write=function(e,t,r,n,i,a){var s,o,h,g=a*8-i-1,p=(1<<g)-1,y=p>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=n?0:a-1,B=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-s))<1&&(s--,h*=2),s+y>=1?t+=A/h:t+=A*Math.pow(2,1-y),t*h>=2&&(s++,h/=2),s+y>=p?(o=0,s=p):s+y>=1?(o=(t*h-1)*Math.pow(2,i),s=s+y):(o=t*Math.pow(2,y-1)*Math.pow(2,i),s=0));i>=8;e[r+E]=o&255,E+=B,o/=256,i-=8);for(s=s<<i|o,g+=i;g>0;e[r+E]=s&255,E+=B,s/=256,g-=8);e[r+E-B]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=_i,r=Ro,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=H,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const S=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(S,f),S.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(S){if(S>i)throw new RangeError('The value "'+S+'" is invalid for option "size"');const f=new Uint8Array(S);return Object.setPrototypeOf(f,o.prototype),f}function o(S,f,l){if(typeof S=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(S)}return h(S,f,l)}o.poolSize=8192;function h(S,f,l){if(typeof S=="string")return A(S,f);if(ArrayBuffer.isView(S))return B(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(se(S,ArrayBuffer)||S&&se(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(S,SharedArrayBuffer)||S&&se(S.buffer,SharedArrayBuffer)))return O(S,f,l);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=S.valueOf&&S.valueOf();if(x!=null&&x!==S)return o.from(x,f,l);const T=K(S);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return o.from(S[Symbol.toPrimitive]("string"),f,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}o.from=function(S,f,l){return h(S,f,l)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function g(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function p(S,f,l){return g(S),S<=0?s(S):f!==void 0?typeof l=="string"?s(S).fill(f,l):s(S).fill(f):s(S)}o.alloc=function(S,f,l){return p(S,f,l)};function y(S){return g(S),s(S<0?0:D(S)|0)}o.allocUnsafe=function(S){return y(S)},o.allocUnsafeSlow=function(S){return y(S)};function A(S,f){if((typeof f!="string"||f==="")&&(f="utf8"),!o.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const l=q(S,f)|0;let x=s(l);const T=x.write(S,f);return T!==l&&(x=x.slice(0,T)),x}function E(S){const f=S.length<0?0:D(S.length)|0,l=s(f);for(let x=0;x<f;x+=1)l[x]=S[x]&255;return l}function B(S){if(se(S,Uint8Array)){const f=new Uint8Array(S);return O(f.buffer,f.byteOffset,f.byteLength)}return E(S)}function O(S,f,l){if(f<0||S.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<f+(l||0))throw new RangeError('"length" is outside of buffer bounds');let x;return f===void 0&&l===void 0?x=new Uint8Array(S):l===void 0?x=new Uint8Array(S,f):x=new Uint8Array(S,f,l),Object.setPrototypeOf(x,o.prototype),x}function K(S){if(o.isBuffer(S)){const f=D(S.length)|0,l=s(f);return l.length===0||S.copy(l,0,0,f),l}if(S.length!==void 0)return typeof S.length!="number"||Be(S.length)?s(0):E(S);if(S.type==="Buffer"&&Array.isArray(S.data))return E(S.data)}function D(S){if(S>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return S|0}function H(S){return+S!=S&&(S=0),o.alloc(+S)}o.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==o.prototype},o.compare=function(f,l){if(se(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),se(l,Uint8Array)&&(l=o.from(l,l.offset,l.byteLength)),!o.isBuffer(f)||!o.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===l)return 0;let x=f.length,T=l.length;for(let R=0,L=Math.min(x,T);R<L;++R)if(f[R]!==l[R]){x=f[R],T=l[R];break}return x<T?-1:T<x?1:0},o.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(f,l){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return o.alloc(0);let x;if(l===void 0)for(l=0,x=0;x<f.length;++x)l+=f[x].length;const T=o.allocUnsafe(l);let R=0;for(x=0;x<f.length;++x){let L=f[x];if(se(L,Uint8Array))R+L.length>T.length?(o.isBuffer(L)||(L=o.from(L)),L.copy(T,R)):Uint8Array.prototype.set.call(T,L,R);else if(o.isBuffer(L))L.copy(T,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=L.length}return T};function q(S,f){if(o.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||se(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const l=S.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&l===0)return 0;let T=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return re(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return fe(S).length;default:if(T)return x?-1:re(S).length;f=(""+f).toLowerCase(),T=!0}}o.byteLength=q;function Y(S,f,l){let x=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,f>>>=0,l<=f))return"";for(S||(S="utf8");;)switch(S){case"hex":return m(this,f,l);case"utf8":case"utf-8":return b(this,f,l);case"ascii":return P(this,f,l);case"latin1":case"binary":return I(this,f,l);case"base64":return d(this,f,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,f,l);default:if(x)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),x=!0}}o.prototype._isBuffer=!0;function C(S,f,l){const x=S[f];S[f]=S[l],S[l]=x}o.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<f;l+=2)C(this,l,l+1);return this},o.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<f;l+=4)C(this,l,l+3),C(this,l+1,l+2);return this},o.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<f;l+=8)C(this,l,l+7),C(this,l+1,l+6),C(this,l+2,l+5),C(this,l+3,l+4);return this},o.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?b(this,0,f):Y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(f){if(!o.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:o.compare(this,f)===0},o.prototype.inspect=function(){let f="";const l=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(f+=" ... "),"<Buffer "+f+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(f,l,x,T,R){if(se(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(l===void 0&&(l=0),x===void 0&&(x=f?f.length:0),T===void 0&&(T=0),R===void 0&&(R=this.length),l<0||x>f.length||T<0||R>this.length)throw new RangeError("out of range index");if(T>=R&&l>=x)return 0;if(T>=R)return-1;if(l>=x)return 1;if(l>>>=0,x>>>=0,T>>>=0,R>>>=0,this===f)return 0;let L=R-T,de=x-l;const Re=Math.min(L,de),ge=this.slice(T,R),_e=f.slice(l,x);for(let Pe=0;Pe<Re;++Pe)if(ge[Pe]!==_e[Pe]){L=ge[Pe],de=_e[Pe];break}return L<de?-1:de<L?1:0};function z(S,f,l,x,T){if(S.length===0)return-1;if(typeof l=="string"?(x=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Be(l)&&(l=T?0:S.length-1),l<0&&(l=S.length+l),l>=S.length){if(T)return-1;l=S.length-1}else if(l<0)if(T)l=0;else return-1;if(typeof f=="string"&&(f=o.from(f,x)),o.isBuffer(f))return f.length===0?-1:Z(S,f,l,x,T);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(S,f,l):Uint8Array.prototype.lastIndexOf.call(S,f,l):Z(S,[f],l,x,T);throw new TypeError("val must be string, number or Buffer")}function Z(S,f,l,x,T){let R=1,L=S.length,de=f.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(S.length<2||f.length<2)return-1;R=2,L/=2,de/=2,l/=2}function Re(_e,Pe){return R===1?_e[Pe]:_e.readUInt16BE(Pe*R)}let ge;if(T){let _e=-1;for(ge=l;ge<L;ge++)if(Re(S,ge)===Re(f,_e===-1?0:ge-_e)){if(_e===-1&&(_e=ge),ge-_e+1===de)return _e*R}else _e!==-1&&(ge-=ge-_e),_e=-1}else for(l+de>L&&(l=L-de),ge=l;ge>=0;ge--){let _e=!0;for(let Pe=0;Pe<de;Pe++)if(Re(S,ge+Pe)!==Re(f,Pe)){_e=!1;break}if(_e)return ge}return-1}o.prototype.includes=function(f,l,x){return this.indexOf(f,l,x)!==-1},o.prototype.indexOf=function(f,l,x){return z(this,f,l,x,!0)},o.prototype.lastIndexOf=function(f,l,x){return z(this,f,l,x,!1)};function N(S,f,l,x){l=Number(l)||0;const T=S.length-l;x?(x=Number(x),x>T&&(x=T)):x=T;const R=f.length;x>R/2&&(x=R/2);let L;for(L=0;L<x;++L){const de=parseInt(f.substr(L*2,2),16);if(Be(de))return L;S[l+L]=de}return L}function j(S,f,l,x){return ae(re(f,S.length-l),S,l,x)}function te(S,f,l,x){return ae(ue(f),S,l,x)}function M(S,f,l,x){return ae(fe(f),S,l,x)}function c(S,f,l,x){return ae(le(f,S.length-l),S,l,x)}o.prototype.write=function(f,l,x,T){if(l===void 0)T="utf8",x=this.length,l=0;else if(x===void 0&&typeof l=="string")T=l,x=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(x)?(x=x>>>0,T===void 0&&(T="utf8")):(T=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const R=this.length-l;if((x===void 0||x>R)&&(x=R),f.length>0&&(x<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let L=!1;for(;;)switch(T){case"hex":return N(this,f,l,x);case"utf8":case"utf-8":return j(this,f,l,x);case"ascii":case"latin1":case"binary":return te(this,f,l,x);case"base64":return M(this,f,l,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,f,l,x);default:if(L)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),L=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function d(S,f,l){return f===0&&l===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(f,l))}function b(S,f,l){l=Math.min(S.length,l);const x=[];let T=f;for(;T<l;){const R=S[T];let L=null,de=R>239?4:R>223?3:R>191?2:1;if(T+de<=l){let Re,ge,_e,Pe;switch(de){case 1:R<128&&(L=R);break;case 2:Re=S[T+1],(Re&192)===128&&(Pe=(R&31)<<6|Re&63,Pe>127&&(L=Pe));break;case 3:Re=S[T+1],ge=S[T+2],(Re&192)===128&&(ge&192)===128&&(Pe=(R&15)<<12|(Re&63)<<6|ge&63,Pe>2047&&(Pe<55296||Pe>57343)&&(L=Pe));break;case 4:Re=S[T+1],ge=S[T+2],_e=S[T+3],(Re&192)===128&&(ge&192)===128&&(_e&192)===128&&(Pe=(R&15)<<18|(Re&63)<<12|(ge&63)<<6|_e&63,Pe>65535&&Pe<1114112&&(L=Pe))}}L===null?(L=65533,de=1):L>65535&&(L-=65536,x.push(L>>>10&1023|55296),L=56320|L&1023),x.push(L),T+=de}return _(x)}const v=4096;function _(S){const f=S.length;if(f<=v)return String.fromCharCode.apply(String,S);let l="",x=0;for(;x<f;)l+=String.fromCharCode.apply(String,S.slice(x,x+=v));return l}function P(S,f,l){let x="";l=Math.min(S.length,l);for(let T=f;T<l;++T)x+=String.fromCharCode(S[T]&127);return x}function I(S,f,l){let x="";l=Math.min(S.length,l);for(let T=f;T<l;++T)x+=String.fromCharCode(S[T]);return x}function m(S,f,l){const x=S.length;(!f||f<0)&&(f=0),(!l||l<0||l>x)&&(l=x);let T="";for(let R=f;R<l;++R)T+=we[S[R]];return T}function u(S,f,l){const x=S.slice(f,l);let T="";for(let R=0;R<x.length-1;R+=2)T+=String.fromCharCode(x[R]+x[R+1]*256);return T}o.prototype.slice=function(f,l){const x=this.length;f=~~f,l=l===void 0?x:~~l,f<0?(f+=x,f<0&&(f=0)):f>x&&(f=x),l<0?(l+=x,l<0&&(l=0)):l>x&&(l=x),l<f&&(l=f);const T=this.subarray(f,l);return Object.setPrototypeOf(T,o.prototype),T};function w(S,f,l){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+f>l)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(f,l,x){f=f>>>0,l=l>>>0,x||w(f,l,this.length);let T=this[f],R=1,L=0;for(;++L<l&&(R*=256);)T+=this[f+L]*R;return T},o.prototype.readUintBE=o.prototype.readUIntBE=function(f,l,x){f=f>>>0,l=l>>>0,x||w(f,l,this.length);let T=this[f+--l],R=1;for(;l>0&&(R*=256);)T+=this[f+--l]*R;return T},o.prototype.readUint8=o.prototype.readUInt8=function(f,l){return f=f>>>0,l||w(f,1,this.length),this[f]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(f,l){return f=f>>>0,l||w(f,2,this.length),this[f]|this[f+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(f,l){return f=f>>>0,l||w(f,2,this.length),this[f]<<8|this[f+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(f,l){return f=f>>>0,l||w(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(f,l){return f=f>>>0,l||w(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},o.prototype.readBigUInt64LE=me(function(f){f=f>>>0,V(f,"offset");const l=this[f],x=this[f+7];(l===void 0||x===void 0)&&ce(f,this.length-8);const T=l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,R=this[++f]+this[++f]*2**8+this[++f]*2**16+x*2**24;return BigInt(T)+(BigInt(R)<<BigInt(32))}),o.prototype.readBigUInt64BE=me(function(f){f=f>>>0,V(f,"offset");const l=this[f],x=this[f+7];(l===void 0||x===void 0)&&ce(f,this.length-8);const T=l*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],R=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x;return(BigInt(T)<<BigInt(32))+BigInt(R)}),o.prototype.readIntLE=function(f,l,x){f=f>>>0,l=l>>>0,x||w(f,l,this.length);let T=this[f],R=1,L=0;for(;++L<l&&(R*=256);)T+=this[f+L]*R;return R*=128,T>=R&&(T-=Math.pow(2,8*l)),T},o.prototype.readIntBE=function(f,l,x){f=f>>>0,l=l>>>0,x||w(f,l,this.length);let T=l,R=1,L=this[f+--T];for(;T>0&&(R*=256);)L+=this[f+--T]*R;return R*=128,L>=R&&(L-=Math.pow(2,8*l)),L},o.prototype.readInt8=function(f,l){return f=f>>>0,l||w(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},o.prototype.readInt16LE=function(f,l){f=f>>>0,l||w(f,2,this.length);const x=this[f]|this[f+1]<<8;return x&32768?x|4294901760:x},o.prototype.readInt16BE=function(f,l){f=f>>>0,l||w(f,2,this.length);const x=this[f+1]|this[f]<<8;return x&32768?x|4294901760:x},o.prototype.readInt32LE=function(f,l){return f=f>>>0,l||w(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},o.prototype.readInt32BE=function(f,l){return f=f>>>0,l||w(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},o.prototype.readBigInt64LE=me(function(f){f=f>>>0,V(f,"offset");const l=this[f],x=this[f+7];(l===void 0||x===void 0)&&ce(f,this.length-8);const T=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(x<<24);return(BigInt(T)<<BigInt(32))+BigInt(l+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),o.prototype.readBigInt64BE=me(function(f){f=f>>>0,V(f,"offset");const l=this[f],x=this[f+7];(l===void 0||x===void 0)&&ce(f,this.length-8);const T=(l<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(T)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x)}),o.prototype.readFloatLE=function(f,l){return f=f>>>0,l||w(f,4,this.length),r.read(this,f,!0,23,4)},o.prototype.readFloatBE=function(f,l){return f=f>>>0,l||w(f,4,this.length),r.read(this,f,!1,23,4)},o.prototype.readDoubleLE=function(f,l){return f=f>>>0,l||w(f,8,this.length),r.read(this,f,!0,52,8)},o.prototype.readDoubleBE=function(f,l){return f=f>>>0,l||w(f,8,this.length),r.read(this,f,!1,52,8)};function $(S,f,l,x,T,R){if(!o.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>T||f<R)throw new RangeError('"value" argument is out of bounds');if(l+x>S.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(f,l,x,T){if(f=+f,l=l>>>0,x=x>>>0,!T){const de=Math.pow(2,8*x)-1;$(this,f,l,x,de,0)}let R=1,L=0;for(this[l]=f&255;++L<x&&(R*=256);)this[l+L]=f/R&255;return l+x},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(f,l,x,T){if(f=+f,l=l>>>0,x=x>>>0,!T){const de=Math.pow(2,8*x)-1;$(this,f,l,x,de,0)}let R=x-1,L=1;for(this[l+R]=f&255;--R>=0&&(L*=256);)this[l+R]=f/L&255;return l+x},o.prototype.writeUint8=o.prototype.writeUInt8=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,1,255,0),this[l]=f&255,l+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,2,65535,0),this[l]=f&255,this[l+1]=f>>>8,l+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,2,65535,0),this[l]=f>>>8,this[l+1]=f&255,l+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,4,4294967295,0),this[l+3]=f>>>24,this[l+2]=f>>>16,this[l+1]=f>>>8,this[l]=f&255,l+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,4,4294967295,0),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4};function G(S,f,l,x,T){U(f,x,T,S,l,7);let R=Number(f&BigInt(4294967295));S[l++]=R,R=R>>8,S[l++]=R,R=R>>8,S[l++]=R,R=R>>8,S[l++]=R;let L=Number(f>>BigInt(32)&BigInt(4294967295));return S[l++]=L,L=L>>8,S[l++]=L,L=L>>8,S[l++]=L,L=L>>8,S[l++]=L,l}function F(S,f,l,x,T){U(f,x,T,S,l,7);let R=Number(f&BigInt(4294967295));S[l+7]=R,R=R>>8,S[l+6]=R,R=R>>8,S[l+5]=R,R=R>>8,S[l+4]=R;let L=Number(f>>BigInt(32)&BigInt(4294967295));return S[l+3]=L,L=L>>8,S[l+2]=L,L=L>>8,S[l+1]=L,L=L>>8,S[l]=L,l+8}o.prototype.writeBigUInt64LE=me(function(f,l=0){return G(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=me(function(f,l=0){return F(this,f,l,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(f,l,x,T){if(f=+f,l=l>>>0,!T){const Re=Math.pow(2,8*x-1);$(this,f,l,x,Re-1,-Re)}let R=0,L=1,de=0;for(this[l]=f&255;++R<x&&(L*=256);)f<0&&de===0&&this[l+R-1]!==0&&(de=1),this[l+R]=(f/L>>0)-de&255;return l+x},o.prototype.writeIntBE=function(f,l,x,T){if(f=+f,l=l>>>0,!T){const Re=Math.pow(2,8*x-1);$(this,f,l,x,Re-1,-Re)}let R=x-1,L=1,de=0;for(this[l+R]=f&255;--R>=0&&(L*=256);)f<0&&de===0&&this[l+R+1]!==0&&(de=1),this[l+R]=(f/L>>0)-de&255;return l+x},o.prototype.writeInt8=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,1,127,-128),f<0&&(f=255+f+1),this[l]=f&255,l+1},o.prototype.writeInt16LE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,2,32767,-32768),this[l]=f&255,this[l+1]=f>>>8,l+2},o.prototype.writeInt16BE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,2,32767,-32768),this[l]=f>>>8,this[l+1]=f&255,l+2},o.prototype.writeInt32LE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,4,2147483647,-2147483648),this[l]=f&255,this[l+1]=f>>>8,this[l+2]=f>>>16,this[l+3]=f>>>24,l+4},o.prototype.writeInt32BE=function(f,l,x){return f=+f,l=l>>>0,x||$(this,f,l,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[l]=f>>>24,this[l+1]=f>>>16,this[l+2]=f>>>8,this[l+3]=f&255,l+4},o.prototype.writeBigInt64LE=me(function(f,l=0){return G(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=me(function(f,l=0){return F(this,f,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(S,f,l,x,T,R){if(l+x>S.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function J(S,f,l,x,T){return f=+f,l=l>>>0,T||ie(S,f,l,4),r.write(S,f,l,x,23,4),l+4}o.prototype.writeFloatLE=function(f,l,x){return J(this,f,l,!0,x)},o.prototype.writeFloatBE=function(f,l,x){return J(this,f,l,!1,x)};function W(S,f,l,x,T){return f=+f,l=l>>>0,T||ie(S,f,l,8),r.write(S,f,l,x,52,8),l+8}o.prototype.writeDoubleLE=function(f,l,x){return W(this,f,l,!0,x)},o.prototype.writeDoubleBE=function(f,l,x){return W(this,f,l,!1,x)},o.prototype.copy=function(f,l,x,T){if(!o.isBuffer(f))throw new TypeError("argument should be a Buffer");if(x||(x=0),!T&&T!==0&&(T=this.length),l>=f.length&&(l=f.length),l||(l=0),T>0&&T<x&&(T=x),T===x||f.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),f.length-l<T-x&&(T=f.length-l+x);const R=T-x;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,x,T):Uint8Array.prototype.set.call(f,this.subarray(x,T),l),R},o.prototype.fill=function(f,l,x,T){if(typeof f=="string"){if(typeof l=="string"?(T=l,l=0,x=this.length):typeof x=="string"&&(T=x,x=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!o.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(f.length===1){const L=f.charCodeAt(0);(T==="utf8"&&L<128||T==="latin1")&&(f=L)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(l<0||this.length<l||this.length<x)throw new RangeError("Out of range index");if(x<=l)return this;l=l>>>0,x=x===void 0?this.length:x>>>0,f||(f=0);let R;if(typeof f=="number")for(R=l;R<x;++R)this[R]=f;else{const L=o.isBuffer(f)?f:o.from(f,T),de=L.length;if(de===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(R=0;R<x-l;++R)this[R+l]=L[R%de]}return this};const pe={};function ne(S,f,l){pe[S]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(S,f){return`The "${S}" argument must be of type number. Received type ${typeof f}`},TypeError),ne("ERR_OUT_OF_RANGE",function(S,f,l){let x=`The value of "${S}" is out of range.`,T=l;return Number.isInteger(l)&&Math.abs(l)>2**32?T=he(String(l)):typeof l=="bigint"&&(T=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(T=he(T)),T+="n"),x+=` It must be ${f}. Received ${T}`,x},RangeError);function he(S){let f="",l=S.length;const x=S[0]==="-"?1:0;for(;l>=x+4;l-=3)f=`_${S.slice(l-3,l)}${f}`;return`${S.slice(0,l)}${f}`}function ee(S,f,l){V(f,"offset"),(S[f]===void 0||S[f+l]===void 0)&&ce(f,S.length-(l+1))}function U(S,f,l,x,T,R){if(S>l||S<f){const L=typeof f=="bigint"?"n":"";let de;throw f===0||f===BigInt(0)?de=`>= 0${L} and < 2${L} ** ${(R+1)*8}${L}`:de=`>= -(2${L} ** ${(R+1)*8-1}${L}) and < 2 ** ${(R+1)*8-1}${L}`,new pe.ERR_OUT_OF_RANGE("value",de,S)}ee(x,T,R)}function V(S,f){if(typeof S!="number")throw new pe.ERR_INVALID_ARG_TYPE(f,"number",S)}function ce(S,f,l){throw Math.floor(S)!==S?(V(S,l),new pe.ERR_OUT_OF_RANGE("offset","an integer",S)):f<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,S)}const oe=/[^+/0-9A-Za-z-_]/g;function Q(S){if(S=S.split("=")[0],S=S.trim().replace(oe,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function re(S,f){f=f||1/0;let l;const x=S.length;let T=null;const R=[];for(let L=0;L<x;++L){if(l=S.charCodeAt(L),l>55295&&l<57344){if(!T){if(l>56319){(f-=3)>-1&&R.push(239,191,189);continue}else if(L+1===x){(f-=3)>-1&&R.push(239,191,189);continue}T=l;continue}if(l<56320){(f-=3)>-1&&R.push(239,191,189),T=l;continue}l=(T-55296<<10|l-56320)+65536}else T&&(f-=3)>-1&&R.push(239,191,189);if(T=null,l<128){if((f-=1)<0)break;R.push(l)}else if(l<2048){if((f-=2)<0)break;R.push(l>>6|192,l&63|128)}else if(l<65536){if((f-=3)<0)break;R.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((f-=4)<0)break;R.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return R}function ue(S){const f=[];for(let l=0;l<S.length;++l)f.push(S.charCodeAt(l)&255);return f}function le(S,f){let l,x,T;const R=[];for(let L=0;L<S.length&&!((f-=2)<0);++L)l=S.charCodeAt(L),x=l>>8,T=l%256,R.push(T),R.push(x);return R}function fe(S){return t.toByteArray(Q(S))}function ae(S,f,l,x){let T;for(T=0;T<x&&!(T+l>=f.length||T>=S.length);++T)f[T+l]=S[T];return T}function se(S,f){return S instanceof f||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===f.name}function Be(S){return S!==S}const we=function(){const S="0123456789abcdef",f=new Array(256);for(let l=0;l<16;++l){const x=l*16;for(let T=0;T<16;++T)f[x+T]=S[l]+S[T]}return f}();function me(S){return typeof BigInt>"u"?je:S}function je(){throw new Error("BigInt not supported")}})(mi);Object.assign(self,{process:pd,global:self,Buffer:mi.Buffer});var Et={},kc={},Rc={},Ur={},wi={},Ut={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.KeySize=or.KeyType=void 0;var ks;(function(e){e[e.ED25519=0]="ED25519",e[e.SECP256K1=1]="SECP256K1"})(ks||(or.KeyType=ks={}));or.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64};var Si={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.KeyPairBase=void 0;class Ed{}fn.KeyPairBase=Ed;var Ln={},tt={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.DEFAULT_FUNCTION_CALL_GAS=void 0;Ai.DEFAULT_FUNCTION_CALL_GAS=30000000000000n;var Lo={},Kn={};const xd="Exceeded the maximum amount of gas allowed to burn per contract",Id="Method name is empty",Md="Wasmer compilation error: {{msg}}",Pd="Smart contract panicked: {{panic_msg}}",Bd="Error creating Wasm memory",Td="Exceeded the prepaid gas",Od="Method name is not valid UTF8 string",Cd="String encoding is bad UTF-16 sequence",Nd="WebAssembly trap: {{msg}}",kd="Gas instrumentation failed or contract has denied instructions.",Rd="{{promise_idx}} does not correspond to existing promises",Ld="Accessed invalid promise result index: {{result_idx}}",Kd="Error happened while deserializing the module",jd="Contract method is not found",Dd="Accessed invalid register id: {{register_id}}",Ud="VM Logic returned an invalid receipt index: {{receipt_index}}",$d="Method name is empty in contract call",Fd="Returning joint promise is currently prohibited",qd="Stack instrumentation failed",zd="Cannot find contract code for account {{account_id}}",Hd="Invalid method signature",Gd="Integer overflow happened during contract execution",Vd="MemoryAccessViolation",Jd="Iterator index {{iterator_index}} does not exist",Wd="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",Zd="VM Logic returned an invalid account id",Xd="Error happened while serializing the module",Yd="Actions can only be appended to non-joint promise.",Qd="Internal memory declaration has been found in the module",e0="Error happened during instantiation",t0="{{method_name}} is not allowed in view calls",r0="VM Logic returned an invalid method name",n0="String encoding is bad UTF-8 sequence",i0="Exceeded the account balance",a0="Wasm contract link error: {{msg}}",o0="VM Logic provided an invalid public key",s0="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",c0="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",u0="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",f0="Transaction gas or balance cost is too high",d0="Transaction is not signed with the given public key",l0=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,h0="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",b0="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",p0="Transaction has expired",y0="Account {{account_id}} is staking and can not be deleted",v0="Signer {{signer_id}} does not exist",g0="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",m0="The public key {{public_key}} is already used for an existing access key",_0="Invalid signer account ID {{signer_id}} according to requirements",w0="The new account_id {{account_id}} can't be created by {{predecessor_id}}",S0="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",A0="Account {{account_id}} is not yet staked, but tried to unstake",E0="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",x0="Can't create a new account {{account_id}}, because it already exists",I0="Transaction parent block hash doesn't belong to the current chain",M0="Can't complete the action because account {{account_id}} doesn't exist",P0="Can't complete the action because access key {{public_key}} doesn't exist",B0="Transaction method name {{method_name}} isn't allowed by the access key",T0="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",O0="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",C0="Invalid receiver account ID {{receiver_id}} according to requirements",N0="Account {{account_id}} tries to remove an access key that doesn't exist",k0="Timeout exceeded",R0="Connection closed",L0="Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",K0="Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later",j0={GasLimitExceeded:xd,MethodEmptyName:Id,WasmerCompileError:Md,GuestPanic:Pd,Memory:Bd,GasExceeded:Td,MethodUTF8Error:Od,BadUTF16:Cd,WasmTrap:Nd,GasInstrumentation:kd,InvalidPromiseIndex:Rd,InvalidPromiseResultIndex:Ld,Deserialization:Kd,MethodNotFound:jd,InvalidRegisterId:Dd,InvalidReceiptIndex:Ud,EmptyMethodName:$d,CannotReturnJointPromise:Fd,StackHeightInstrumentation:qd,CodeDoesNotExist:zd,MethodInvalidSignature:Hd,IntegerOverflow:Gd,MemoryAccessViolation:Vd,InvalidIteratorIndex:Jd,IteratorWasInvalidated:Wd,InvalidAccountId:Zd,Serialization:Xd,CannotAppendActionToJointPromise:Yd,InternalMemoryDeclared:Qd,Instantiate:e0,ProhibitedInView:t0,InvalidMethodName:r0,BadUTF8:n0,BalanceExceeded:i0,LinkError:a0,InvalidPublicKey:o0,ActorNoPermission:s0,LackBalanceForState:c0,ReceiverMismatch:u0,CostOverflow:f0,InvalidSignature:d0,AccessKeyNotFound:l0,NotEnoughBalance:h0,NotEnoughAllowance:b0,Expired:p0,DeleteAccountStaking:y0,SignerDoesNotExist:v0,TriesToStake:g0,AddKeyAlreadyExists:m0,InvalidSigner:_0,CreateAccountNotAllowed:w0,RequiresFullAccess:S0,TriesToUnstake:A0,InvalidNonce:E0,AccountAlreadyExists:x0,InvalidChain:I0,AccountDoesNotExist:M0,AccessKeyDoesNotExist:P0,MethodNameMismatch:B0,DeleteAccountHasRent:T0,DeleteAccountHasEnoughBalance:O0,InvalidReceiver:C0,DeleteKeyDoesNotExist:N0,Timeout:k0,Closed:R0,ShardCongested:L0,ShardStuck:K0};var D0=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ErrorMessages=void 0;const U0=D0(j0);Kn.ErrorMessages=U0.default;var xt={},yt={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.Assignable=void 0;class $0{constructor(t){Object.keys(t).map(r=>{this[r]=t[r]})}}Ei.Assignable=$0;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.Enum=void 0;let F0=class{constructor(t){if(Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(r=>{this[r]=t[r]})}};xi.Enum=F0;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.ErrorContext=Vt.TypedError=Vt.ArgumentTypeError=Vt.PositionalArgsError=void 0;class q0 extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}Vt.PositionalArgsError=q0;class z0 extends Error{constructor(t,r,n){super(`Expected ${r} for '${t}' argument, but got '${JSON.stringify(n)}'`)}}Vt.ArgumentTypeError=z0;class H0 extends Error{constructor(r,n,i){super(r);k(this,"type");k(this,"context");this.type=n||"UntypedError",this.context=i}}Vt.TypedError=H0;class G0{constructor(t){k(this,"transactionHash");this.transactionHash=t}}Vt.ErrorContext=G0;var Lc={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.IdType=void 0;var Rs;(function(e){e.Transaction="transaction",e.Receipt="receipt"})(Rs||(Ii.IdType=Rs={}));var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.FinalExecutionStatusBasic=Yr.ExecutionStatusBasic=void 0;var Ls;(function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"})(Ls||(Yr.ExecutionStatusBasic=Ls={}));var Ks;(function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"})(Ks||(Yr.FinalExecutionStatusBasic=Ks={}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=void 0;var t=Ii;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return t.IdType}});var r=Yr;Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return r.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}})})(Lc);(function(e){var t=X&&X.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=X&&X.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ei,e),r(xi,e),r(Vt,e),r(Lc,e)})(yt);var Kc={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(X,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var r=Object.prototype.toString,n=Array.isArray||function(d){return r.call(d)==="[object Array]"};function i(c){return typeof c=="function"}function a(c){return n(c)?"array":typeof c}function s(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(c,d){return c!=null&&typeof c=="object"&&d in c}function h(c,d){return c!=null&&typeof c!="object"&&c.hasOwnProperty&&c.hasOwnProperty(d)}var g=RegExp.prototype.test;function p(c,d){return g.call(c,d)}var y=/\S/;function A(c){return!p(y,c)}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function B(c){return String(c).replace(/[&<>"'`=\/]/g,function(b){return E[b]})}var O=/\s*/,K=/\s+/,D=/\s*=/,H=/\s*\}/,q=/#|\^|\/|>|\{|&|=|!/;function Y(c,d){if(!c)return[];var b=!1,v=[],_=[],P=[],I=!1,m=!1,u="",w=0;function $(){if(I&&!m)for(;P.length;)delete _[P.pop()];else P=[];I=!1,m=!1}var G,F,ie;function J(Q){if(typeof Q=="string"&&(Q=Q.split(K,2)),!n(Q)||Q.length!==2)throw new Error("Invalid tags: "+Q);G=new RegExp(s(Q[0])+"\\s*"),F=new RegExp("\\s*"+s(Q[1])),ie=new RegExp("\\s*"+s("}"+Q[1]))}J(d||te.tags);for(var W=new Z(c),pe,ne,he,ee,U,V;!W.eos();){if(pe=W.pos,he=W.scanUntil(G),he)for(var ce=0,oe=he.length;ce<oe;++ce)ee=he.charAt(ce),A(ee)?(P.push(_.length),u+=ee):(m=!0,b=!0,u+=" "),_.push(["text",ee,pe,pe+1]),pe+=1,ee===`
`&&($(),u="",w=0,b=!1);if(!W.scan(G))break;if(I=!0,ne=W.scan(q)||"name",W.scan(O),ne==="="?(he=W.scanUntil(D),W.scan(D),W.scanUntil(F)):ne==="{"?(he=W.scanUntil(ie),W.scan(H),W.scanUntil(F),ne="&"):he=W.scanUntil(F),!W.scan(F))throw new Error("Unclosed tag at "+W.pos);if(ne==">"?U=[ne,he,pe,W.pos,u,w,b]:U=[ne,he,pe,W.pos],w++,_.push(U),ne==="#"||ne==="^")v.push(U);else if(ne==="/"){if(V=v.pop(),!V)throw new Error('Unopened section "'+he+'" at '+pe);if(V[1]!==he)throw new Error('Unclosed section "'+V[1]+'" at '+pe)}else ne==="name"||ne==="{"||ne==="&"?m=!0:ne==="="&&J(he)}if($(),V=v.pop(),V)throw new Error('Unclosed section "'+V[1]+'" at '+W.pos);return z(C(_))}function C(c){for(var d=[],b,v,_=0,P=c.length;_<P;++_)b=c[_],b&&(b[0]==="text"&&v&&v[0]==="text"?(v[1]+=b[1],v[3]=b[3]):(d.push(b),v=b));return d}function z(c){for(var d=[],b=d,v=[],_,P,I=0,m=c.length;I<m;++I)switch(_=c[I],_[0]){case"#":case"^":b.push(_),v.push(_),b=_[4]=[];break;case"/":P=v.pop(),P[5]=_[2],b=v.length>0?v[v.length-1][4]:d;break;default:b.push(_)}return d}function Z(c){this.string=c,this.tail=c,this.pos=0}Z.prototype.eos=function(){return this.tail===""},Z.prototype.scan=function(d){var b=this.tail.match(d);if(!b||b.index!==0)return"";var v=b[0];return this.tail=this.tail.substring(v.length),this.pos+=v.length,v},Z.prototype.scanUntil=function(d){var b=this.tail.search(d),v;switch(b){case-1:v=this.tail,this.tail="";break;case 0:v="";break;default:v=this.tail.substring(0,b),this.tail=this.tail.substring(b)}return this.pos+=v.length,v};function N(c,d){this.view=c,this.cache={".":this.view},this.parent=d}N.prototype.push=function(d){return new N(d,this)},N.prototype.lookup=function(d){var b=this.cache,v;if(b.hasOwnProperty(d))v=b[d];else{for(var _=this,P,I,m,u=!1;_;){if(d.indexOf(".")>0)for(P=_.view,I=d.split("."),m=0;P!=null&&m<I.length;)m===I.length-1&&(u=o(P,I[m])||h(P,I[m])),P=P[I[m++]];else P=_.view[d],u=o(_.view,d);if(u){v=P;break}_=_.parent}b[d]=v}return i(v)&&(v=v.call(this.view)),v};function j(){this.templateCache={_cache:{},set:function(d,b){this._cache[d]=b},get:function(d){return this._cache[d]},clear:function(){this._cache={}}}}j.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},j.prototype.parse=function(d,b){var v=this.templateCache,_=d+":"+(b||te.tags).join(":"),P=typeof v<"u",I=P?v.get(_):void 0;return I==null&&(I=Y(d,b),P&&v.set(_,I)),I},j.prototype.render=function(d,b,v,_){var P=this.parse(d,_),I=b instanceof N?b:new N(b,void 0);return this.renderTokens(P,I,v,d,_)},j.prototype.renderTokens=function(d,b,v,_,P){for(var I="",m,u,w,$=0,G=d.length;$<G;++$)w=void 0,m=d[$],u=m[0],u==="#"?w=this.renderSection(m,b,v,_):u==="^"?w=this.renderInverted(m,b,v,_):u===">"?w=this.renderPartial(m,b,v,P):u==="&"?w=this.unescapedValue(m,b):u==="name"?w=this.escapedValue(m,b):u==="text"&&(w=this.rawValue(m)),w!==void 0&&(I+=w);return I},j.prototype.renderSection=function(d,b,v,_){var P=this,I="",m=b.lookup(d[1]);function u(G){return P.render(G,b,v)}if(m){if(n(m))for(var w=0,$=m.length;w<$;++w)I+=this.renderTokens(d[4],b.push(m[w]),v,_);else if(typeof m=="object"||typeof m=="string"||typeof m=="number")I+=this.renderTokens(d[4],b.push(m),v,_);else if(i(m)){if(typeof _!="string")throw new Error("Cannot use higher-order sections without the original template");m=m.call(b.view,_.slice(d[3],d[5]),u),m!=null&&(I+=m)}else I+=this.renderTokens(d[4],b,v,_);return I}},j.prototype.renderInverted=function(d,b,v,_){var P=b.lookup(d[1]);if(!P||n(P)&&P.length===0)return this.renderTokens(d[4],b,v,_)},j.prototype.indentPartial=function(d,b,v){for(var _=b.replace(/[^ \t]/g,""),P=d.split(`
`),I=0;I<P.length;I++)P[I].length&&(I>0||!v)&&(P[I]=_+P[I]);return P.join(`
`)},j.prototype.renderPartial=function(d,b,v,_){if(v){var P=i(v)?v(d[1]):v[d[1]];if(P!=null){var I=d[6],m=d[5],u=d[4],w=P;return m==0&&u&&(w=this.indentPartial(P,u,I)),this.renderTokens(this.parse(w,_),b,v,w)}}},j.prototype.unescapedValue=function(d,b){var v=b.lookup(d[1]);if(v!=null)return v},j.prototype.escapedValue=function(d,b){var v=b.lookup(d[1]);if(v!=null)return te.escape(v)},j.prototype.rawValue=function(d){return d[1]};var te={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(c){M.templateCache=c},get templateCache(){return M.templateCache}},M=new j;return te.clearCache=function(){return M.clearCache()},te.parse=function(d,b){return M.parse(d,b)},te.render=function(d,b,v,_){if(typeof d!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+a(d)+'" was given as the first argument for mustache#render(template, view, partials)');return M.render(d,b,v,_)},te.escape=B,te.Scanner=Z,te.Context=N,te.Writer=j,te})})(Kc);var V0=Kc.exports,Ko={},mo={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=mi,n=r.Buffer;function i(s,o){for(var h in s)o[h]=s[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(s,o,h){return n(s,o,h)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,h){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,h)},a.alloc=function(s,o,h){if(typeof s!="number")throw new TypeError("Argument must be a number");var g=n(s);return o!==void 0?typeof h=="string"?g.fill(o,h):g.fill(o):g.fill(0),g},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(mo,mo.exports);var jc=mo.exports,js=jc.Buffer,J0=function(t){for(var r={},n=t.length,i=t.charAt(0),a=0;a<t.length;a++){var s=t.charAt(a);if(r[s]!==void 0)throw new TypeError(s+" is ambiguous");r[s]=a}function o(p){if(p.length===0)return"";for(var y=[0],A=0;A<p.length;++A){for(var E=0,B=p[A];E<y.length;++E)B+=y[E]<<8,y[E]=B%n,B=B/n|0;for(;B>0;)y.push(B%n),B=B/n|0}for(var O="",K=0;p[K]===0&&K<p.length-1;++K)O+=t[0];for(var D=y.length-1;D>=0;--D)O+=t[y[D]];return O}function h(p){if(p.length===0)return js.allocUnsafe(0);for(var y=[0],A=0;A<p.length;A++){var E=r[p[A]];if(E===void 0)return;for(var B=0,O=E;B<y.length;++B)O+=y[B]*n,y[B]=O&255,O>>=8;for(;O>0;)y.push(O&255),O>>=8}for(var K=0;p[K]===i&&K<p.length-1;++K)y.push(0);return js.from(y.reverse())}function g(p){var y=h(p);if(y)return y;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:h,decode:g}},W0=J0,Z0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",X0=W0(Z0);(function(e){var t=X&&X.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.baseDecode=e.baseEncode=e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const r=t(X0);e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=10n**BigInt(e.NEAR_NOMINATION_EXP);const n=[],i=10n;for(let E=0,B=5n;E<e.NEAR_NOMINATION_EXP;E++,B=B*i)n[E]=B;function a(E,B=e.NEAR_NOMINATION_EXP){let O=BigInt(E);if(B!==e.NEAR_NOMINATION_EXP){const H=e.NEAR_NOMINATION_EXP-B-1;H>0&&(O+=n[H])}E=O.toString();const K=E.substring(0,E.length-e.NEAR_NOMINATION_EXP)||"0",D=E.substring(E.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,B);return h(`${p(K)}.${D}`)}e.formatNearAmount=a;function s(E){if(!E)return null;E=o(E);const B=E.split("."),O=B[0],K=B[1]||"";if(B.length>2||K.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${E}' as NEAR amount`);return g(O+K.padEnd(e.NEAR_NOMINATION_EXP,"0"))}e.parseNearAmount=s;function o(E){return E.replace(/,/g,"").trim()}function h(E){return E.replace(/\.?0*$/,"")}function g(E){return E=E.replace(/^0+/,""),E===""?"0":E}function p(E){const B=/(-?\d+)(\d{3})/;for(;B.test(E);)E=E.replace(B,"$1,$2");return E}function y(E){if(typeof E=="string"){const B=[];for(let O=0;O<E.length;O++)B.push(E.charCodeAt(O));E=new Uint8Array(B)}return r.default.encode(E)}e.baseEncode=y;function A(E){return new Uint8Array(r.default.decode(E))}e.baseDecode=A})(Ko);const Y0={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",forwarded_buffered_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_buffered_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptSizeExceeded:{name:"ReceiptSizeExceeded",subtypes:[],props:{limit:"",size:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},ShardCongested:{name:"ShardCongested",subtypes:[],props:{congestion_level:"",shard_id:""}},ShardStuck:{name:"ShardStuck",subtypes:[],props:{missed_chunks:"",shard_id:""}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},Q0={schema:Y0};var Dc=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.getErrorTypeFromErrorMessage=xt.formatError=xt.parseResultError=xt.parseRpcError=xt.ServerError=void 0;const el=yt,tl=Dc(V0),rl=Ko,Ds=Kn,nl=Dc(Q0),il={formatNear:()=>(e,t)=>(0,rl.formatNearAmount)(t(e))};class jo extends el.TypedError{}xt.ServerError=jo;class al extends jo{constructor(){super(...arguments);k(this,"transaction_outcome")}}function Uc(e){const t={},r=Fc(e,nl.default.schema,t,""),n=new jo($c(r,t),r);return Object.assign(n,t),n}xt.parseRpcError=Uc;function ol(e){const t=Uc(e.status.Failure),r=new al;return Object.assign(r,t),r.type=t.type,r.message=t.message,r.transaction_outcome=e.transaction_outcome,r}xt.parseResultError=ol;function $c(e,t){return typeof Ds.ErrorMessages[e]=="string"?tl.default.render(Ds.ErrorMessages[e],{...t,...il}):JSON.stringify(t)}xt.formatError=$c;function Fc(e,t,r,n){let i,a,s;for(const o in t){if(cl(e[o]))return e[o];if(Da(e[o]))i=e[o],a=t[o],s=o;else if(Da(e.kind)&&Da(e.kind[o]))i=e.kind[o],a=t[o],s=o;else continue}if(i&&a){for(const o of Object.keys(a.props))r[o]=i[o];return Fc(i,t,r,s)}else return r.kind=e,n}function sl(e,t){switch(!0){case/^account .*? does not exist while viewing$/.test(e):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(e):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return t}}xt.getErrorTypeFromErrorMessage=sl;function Da(e){return Object.prototype.toString.call(e)==="[object Object]"}function cl(e){return Object.prototype.toString.call(e)==="[object String]"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseRpcError=e.parseResultError=e.getErrorTypeFromErrorMessage=e.formatError=e.ServerError=e.ErrorMessages=void 0;var t=Kn;Object.defineProperty(e,"ErrorMessages",{enumerable:!0,get:function(){return t.ErrorMessages}});var r=xt;Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return r.ServerError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return r.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return r.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return r.parseResultError}}),Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return r.parseRpcError}})})(Lo);var Qr={},Do={},jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.ConsoleLogger=void 0;class ul{constructor(t){k(this,"logLevels");k(this,"isLevelEnabled",t=>this.logLevels.includes(t));this.logLevels=t}print(t,r,...n){switch(t){case"error":case"fatal":return console.error(r,...n);case"warn":return console.warn(r,...n);case"log":return console.log(r,...n);case"debug":case"verbose":return console.debug(r,...n)}}verbose(t,...r){this.isLevelEnabled("verbose")&&this.print("verbose",t,...r)}debug(t,...r){this.isLevelEnabled("debug")&&this.print("debug",t,...r)}log(t,...r){this.isLevelEnabled("log")&&this.print("log",t,...r)}warn(t,...r){this.isLevelEnabled("warn")&&this.print("warn",t,...r)}error(t,...r){this.isLevelEnabled("error")&&this.print("error",t,...r)}fatal(t,...r){this.isLevelEnabled("fatal")&&this.print("fatal",t,...r)}}jn.ConsoleLogger=ul;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.Logger=void 0;const fl=jn,dl=["verbose","debug","log","warn","error","fatal"],ll=new fl.ConsoleLogger(dl),kn=class kn{static error(t,...r){var n;(n=this.instanceRef)==null||n.error(t,...r)}static log(t,...r){var n;(n=this.instanceRef)==null||n.log(t,...r)}static warn(t,...r){var n;(n=this.instanceRef)==null||n.warn(t,...r)}static debug(t,...r){var n,i;(i=(n=this.instanceRef)==null?void 0:n.debug)==null||i.call(n,t,...r)}static verbose(t,...r){var n,i;(i=(n=this.instanceRef)==null?void 0:n.verbose)==null||i.call(n,t,...r)}static fatal(t,...r){var n,i;(i=(n=this.instanceRef)==null?void 0:n.fatal)==null||i.call(n,t,...r)}};k(kn,"instanceRef",ll),k(kn,"overrideLogger",t=>{kn.instanceRef=t});let _o=kn;Mi.Logger=_o;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.ConsoleLogger=void 0;var t=jn;Object.defineProperty(e,"ConsoleLogger",{enumerable:!0,get:function(){return t.ConsoleLogger}});var r=Mi;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return r.Logger}})})(Do);Object.defineProperty(Qr,"__esModule",{value:!0});Qr.printTxOutcomeLogs=Qr.printTxOutcomeLogsAndFailures=void 0;const hl=Lo,wo=Do;function bl({contractId:e,outcome:t}){const r=[t.transaction_outcome,...t.receipts_outcome].reduce((n,i)=>{const a=typeof i.outcome.status=="object"&&typeof i.outcome.status.Failure=="object";return i.outcome.logs.length||a?n.concat({receiptIds:i.outcome.receipt_ids,logs:i.outcome.logs,failure:typeof i.outcome.status=="object"&&i.outcome.status.Failure!==void 0?(0,hl.parseRpcError)(i.outcome.status.Failure):null}):n},[]);for(const n of r)wo.Logger.log(`Receipt${n.receiptIds.length>1?"s":""}: ${n.receiptIds.join(", ")}`),qc({contractId:e,logs:n.logs,prefix:"	"}),n.failure&&wo.Logger.warn(`	Failure [${e}]: ${n.failure}`)}Qr.printTxOutcomeLogsAndFailures=bl;function qc({contractId:e,logs:t,prefix:r=""}){for(const n of t)wo.Logger.log(`${r}Log [${e}]: ${n}`)}Qr.printTxOutcomeLogs=qc;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.getTransactionLastResult=void 0;function pl(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const t=Buffer.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch{return t}}return null}Pi.getTransactionLastResult=pl;var en={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var zc=yl;function yl(e){if(!e)throw new TypeError("argument namespace is required");function t(r){}return t._file=void 0,t._ignored=!0,t._namespace=e,t._traced=!1,t._warned=Object.create(null),t.function=vl,t.property=gl,t}function vl(e,t){if(typeof e!="function")throw new TypeError("argument fn must be a function");return e}function gl(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.sortBigIntAsc=void 0;function ml(e,t){return e<t?-1:e>t?1:0}Dn.sortBigIntAsc=ml;var _l=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(en,"__esModule",{value:!0});en.diffEpochValidators=en.findSeatPrice=void 0;const wl=_l(zc),Hc=Dn;function Sl(e,t,r,n){return n&&n<49?Al(e,t):(r||((0,wl.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),r=[1,6250]),El(e,t,r))}en.findSeatPrice=Sl;function Al(e,t){const r=e.map(o=>BigInt(o.stake)).sort(Hc.sortBigIntAsc),n=BigInt(t),i=r.reduce((o,h)=>o+h);if(i<n)throw new Error("Stakes are below seats");let a=1n,s=i+1n;for(;a!==s-1n;){const o=(a+s)/2n;let h=!1,g=0n;for(let p=0;p<r.length;++p)if(g=g+r[p]/o,g>=n){a=o,h=!0;break}h||(s=o)}return a}function El(e,t,r){if(r.length!=2)throw Error("minimumStakeRatio should have 2 elements");const n=e.map(a=>BigInt(a.stake)).sort(Hc.sortBigIntAsc),i=n.reduce((a,s)=>a+s);return e.length<t?i*BigInt(r[0])/BigInt(r[1]):n[0]+1n}function xl(e,t){const r=new Map;e.forEach(i=>r.set(i.account_id,i));const n=new Set(t.map(i=>i.account_id));return{newValidators:t.filter(i=>!r.has(i.account_id)),removedValidators:e.filter(i=>!n.has(i.account_id)),changedValidators:t.filter(i=>r.has(i.account_id)&&r.get(i.account_id).stake!=i.stake).map(i=>({current:r.get(i.account_id),next:i}))}}en.diffEpochValidators=xl;(function(e){var t=X&&X.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=X&&X.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ai,e),r(Lo,e),r(Ko,e),r(Qr,e),r(Pi,e),r(en,e),r(Do,e),r(Dn,e)})(tt);var Uo={},It={},Bi={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.output=dt.exists=dt.hash=dt.bytes=dt.bool=dt.number=void 0;function ai(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}dt.number=ai;function Gc(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}dt.bool=Gc;function $o(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}dt.bytes=$o;function Vc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ai(e.outputLen),ai(e.blockLen)}dt.hash=Vc;function Jc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}dt.exists=Jc;function Wc(e,t){$o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}dt.output=Wc;const Il={number:ai,bool:Gc,bytes:$o,hash:Vc,exists:Jc,output:Wc};dt.default=Il;var Ti={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.crypto=void 0;Oi.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Oi,r=z=>z instanceof Uint8Array,n=z=>new Uint8Array(z.buffer,z.byteOffset,z.byteLength);e.u8=n;const i=z=>new Uint32Array(z.buffer,z.byteOffset,Math.floor(z.byteLength/4));e.u32=i;const a=z=>new DataView(z.buffer,z.byteOffset,z.byteLength);e.createView=a;const s=(z,Z)=>z<<32-Z|z>>>Z;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(z,Z)=>Z.toString(16).padStart(2,"0"));function h(z){if(!r(z))throw new Error("Uint8Array expected");let Z="";for(let N=0;N<z.length;N++)Z+=o[z[N]];return Z}e.bytesToHex=h;function g(z){if(typeof z!="string")throw new Error("hex string expected, got "+typeof z);const Z=z.length;if(Z%2)throw new Error("padded hex string expected, got unpadded hex of length "+Z);const N=new Uint8Array(Z/2);for(let j=0;j<N.length;j++){const te=j*2,M=z.slice(te,te+2),c=Number.parseInt(M,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");N[j]=c}return N}e.hexToBytes=g;const p=async()=>{};e.nextTick=p;async function y(z,Z,N){let j=Date.now();for(let te=0;te<z;te++){N(te);const M=Date.now()-j;M>=0&&M<Z||(await(0,e.nextTick)(),j+=M)}}e.asyncLoop=y;function A(z){if(typeof z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof z}`);return new Uint8Array(new TextEncoder().encode(z))}e.utf8ToBytes=A;function E(z){if(typeof z=="string"&&(z=A(z)),!r(z))throw new Error(`expected Uint8Array, got ${typeof z}`);return z}e.toBytes=E;function B(...z){const Z=new Uint8Array(z.reduce((j,te)=>j+te.length,0));let N=0;return z.forEach(j=>{if(!r(j))throw new Error("Uint8Array expected");Z.set(j,N),N+=j.length}),Z}e.concatBytes=B;class O{clone(){return this._cloneInto()}}e.Hash=O;const K={}.toString;function D(z,Z){if(Z!==void 0&&K.call(Z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(z,Z)}e.checkOpts=D;function H(z){const Z=j=>z().update(E(j)).digest(),N=z();return Z.outputLen=N.outputLen,Z.blockLen=N.blockLen,Z.create=()=>z(),Z}e.wrapConstructor=H;function q(z){const Z=(j,te)=>z(te).update(E(j)).digest(),N=z({});return Z.outputLen=N.outputLen,Z.blockLen=N.blockLen,Z.create=j=>z(j),Z}e.wrapConstructorWithOpts=q;function Y(z){const Z=(j,te)=>z(te).update(E(j)).digest(),N=z({});return Z.outputLen=N.outputLen,Z.blockLen=N.blockLen,Z.create=j=>z(j),Z}e.wrapXOFConstructorWithOpts=Y;function C(z=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(z));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=C})(Ti);Object.defineProperty(Bi,"__esModule",{value:!0});Bi.SHA2=void 0;const Ua=dt,An=Ti;function Ml(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),h=n?4:0,g=n?0:4;e.setUint32(t+h,s,n),e.setUint32(t+g,o,n)}let Pl=class extends An.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,An.createView)(this.buffer)}update(t){(0,Ua.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,An.toBytes)(t);const a=t.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const h=(0,An.createView)(t);for(;i<=a-s;s+=i)this.process(h,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Ua.exists)(this),(0,Ua.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let y=s;y<i;y++)r[y]=0;Ml(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=(0,An.createView)(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,p=this.get();if(g>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<g;y++)o.setUint32(4*y,p[y],a)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}};Bi.SHA2=Pl;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.add5L=be.add5H=be.add4H=be.add4L=be.add3H=be.add3L=be.add=be.rotlBL=be.rotlBH=be.rotlSL=be.rotlSH=be.rotr32L=be.rotr32H=be.rotrBL=be.rotrBH=be.rotrSL=be.rotrSH=be.shrSL=be.shrSH=be.toBig=be.split=be.fromBig=void 0;const Wn=BigInt(2**32-1),So=BigInt(32);function Fo(e,t=!1){return t?{h:Number(e&Wn),l:Number(e>>So&Wn)}:{h:Number(e>>So&Wn)|0,l:Number(e&Wn)|0}}be.fromBig=Fo;function Zc(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=Fo(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}be.split=Zc;const Xc=(e,t)=>BigInt(e>>>0)<<So|BigInt(t>>>0);be.toBig=Xc;const Yc=(e,t,r)=>e>>>r;be.shrSH=Yc;const Qc=(e,t,r)=>e<<32-r|t>>>r;be.shrSL=Qc;const eu=(e,t,r)=>e>>>r|t<<32-r;be.rotrSH=eu;const tu=(e,t,r)=>e<<32-r|t>>>r;be.rotrSL=tu;const ru=(e,t,r)=>e<<64-r|t>>>r-32;be.rotrBH=ru;const nu=(e,t,r)=>e>>>r-32|t<<64-r;be.rotrBL=nu;const iu=(e,t)=>t;be.rotr32H=iu;const au=(e,t)=>e;be.rotr32L=au;const ou=(e,t,r)=>e<<r|t>>>32-r;be.rotlSH=ou;const su=(e,t,r)=>t<<r|e>>>32-r;be.rotlSL=su;const cu=(e,t,r)=>t<<r-32|e>>>64-r;be.rotlBH=cu;const uu=(e,t,r)=>e<<r-32|t>>>64-r;be.rotlBL=uu;function fu(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}be.add=fu;const du=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);be.add3L=du;const lu=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;be.add3H=lu;const hu=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);be.add4L=hu;const bu=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;be.add4H=bu;const pu=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);be.add5L=pu;const yu=(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0;be.add5H=yu;const Bl={fromBig:Fo,split:Zc,toBig:Xc,shrSH:Yc,shrSL:Qc,rotrSH:eu,rotrSL:tu,rotrBH:ru,rotrBL:nu,rotr32H:iu,rotr32L:au,rotlSH:ou,rotlSL:su,rotlBH:cu,rotlBL:uu,add:fu,add3L:du,add3H:lu,add4L:hu,add4H:bu,add5H:yu,add5L:pu};be.default=Bl;Object.defineProperty(It,"__esModule",{value:!0});It.sha384=It.sha512_256=It.sha512_224=It.sha512=It.SHA512=void 0;const Tl=Bi,Se=be,Ci=Ti,[Ol,Cl]=Se.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),dr=new Uint32Array(80),lr=new Uint32Array(80);let Un=class extends Tl.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:a,Cl:s,Dh:o,Dl:h,Eh:g,El:p,Fh:y,Fl:A,Gh:E,Gl:B,Hh:O,Hl:K}=this;return[t,r,n,i,a,s,o,h,g,p,y,A,E,B,O,K]}set(t,r,n,i,a,s,o,h,g,p,y,A,E,B,O,K){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=a|0,this.Cl=s|0,this.Dh=o|0,this.Dl=h|0,this.Eh=g|0,this.El=p|0,this.Fh=y|0,this.Fl=A|0,this.Gh=E|0,this.Gl=B|0,this.Hh=O|0,this.Hl=K|0}process(t,r){for(let q=0;q<16;q++,r+=4)dr[q]=t.getUint32(r),lr[q]=t.getUint32(r+=4);for(let q=16;q<80;q++){const Y=dr[q-15]|0,C=lr[q-15]|0,z=Se.default.rotrSH(Y,C,1)^Se.default.rotrSH(Y,C,8)^Se.default.shrSH(Y,C,7),Z=Se.default.rotrSL(Y,C,1)^Se.default.rotrSL(Y,C,8)^Se.default.shrSL(Y,C,7),N=dr[q-2]|0,j=lr[q-2]|0,te=Se.default.rotrSH(N,j,19)^Se.default.rotrBH(N,j,61)^Se.default.shrSH(N,j,6),M=Se.default.rotrSL(N,j,19)^Se.default.rotrBL(N,j,61)^Se.default.shrSL(N,j,6),c=Se.default.add4L(Z,M,lr[q-7],lr[q-16]),d=Se.default.add4H(c,z,te,dr[q-7],dr[q-16]);dr[q]=d|0,lr[q]=c|0}let{Ah:n,Al:i,Bh:a,Bl:s,Ch:o,Cl:h,Dh:g,Dl:p,Eh:y,El:A,Fh:E,Fl:B,Gh:O,Gl:K,Hh:D,Hl:H}=this;for(let q=0;q<80;q++){const Y=Se.default.rotrSH(y,A,14)^Se.default.rotrSH(y,A,18)^Se.default.rotrBH(y,A,41),C=Se.default.rotrSL(y,A,14)^Se.default.rotrSL(y,A,18)^Se.default.rotrBL(y,A,41),z=y&E^~y&O,Z=A&B^~A&K,N=Se.default.add5L(H,C,Z,Cl[q],lr[q]),j=Se.default.add5H(N,D,Y,z,Ol[q],dr[q]),te=N|0,M=Se.default.rotrSH(n,i,28)^Se.default.rotrBH(n,i,34)^Se.default.rotrBH(n,i,39),c=Se.default.rotrSL(n,i,28)^Se.default.rotrBL(n,i,34)^Se.default.rotrBL(n,i,39),d=n&a^n&o^a&o,b=i&s^i&h^s&h;D=O|0,H=K|0,O=E|0,K=B|0,E=y|0,B=A|0,{h:y,l:A}=Se.default.add(g|0,p|0,j|0,te|0),g=o|0,p=h|0,o=a|0,h=s|0,a=n|0,s=i|0;const v=Se.default.add3L(te,c,b);n=Se.default.add3H(v,j,M,d),i=v|0}({h:n,l:i}=Se.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:a,l:s}=Se.default.add(this.Bh|0,this.Bl|0,a|0,s|0),{h:o,l:h}=Se.default.add(this.Ch|0,this.Cl|0,o|0,h|0),{h:g,l:p}=Se.default.add(this.Dh|0,this.Dl|0,g|0,p|0),{h:y,l:A}=Se.default.add(this.Eh|0,this.El|0,y|0,A|0),{h:E,l:B}=Se.default.add(this.Fh|0,this.Fl|0,E|0,B|0),{h:O,l:K}=Se.default.add(this.Gh|0,this.Gl|0,O|0,K|0),{h:D,l:H}=Se.default.add(this.Hh|0,this.Hl|0,D|0,H|0),this.set(n,i,a,s,o,h,g,p,y,A,E,B,O,K,D,H)}roundClean(){dr.fill(0),lr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};It.SHA512=Un;class Nl extends Un{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class kl extends Un{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}let Rl=class extends Un{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};It.sha512=(0,Ci.wrapConstructor)(()=>new Un);It.sha512_224=(0,Ci.wrapConstructor)(()=>new Nl);It.sha512_256=(0,Ci.wrapConstructor)(()=>new kl);It.sha384=(0,Ci.wrapConstructor)(()=>new Rl);var Ni={},ye={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.validateObject=ve.createHmacDrbg=ve.bitMask=ve.bitSet=ve.bitGet=ve.bitLen=ve.utf8ToBytes=ve.equalBytes=ve.concatBytes=ve.ensureBytes=ve.numberToVarBytesBE=ve.numberToBytesLE=ve.numberToBytesBE=ve.bytesToNumberLE=ve.bytesToNumberBE=ve.hexToBytes=ve.hexToNumber=ve.numberToHexUnpadded=ve.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vu=BigInt(0),ki=BigInt(1),Ll=BigInt(2),Ri=e=>e instanceof Uint8Array,Kl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qo(e){if(!Ri(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Kl[e[r]];return t}ve.bytesToHex=qo;function gu(e){const t=e.toString(16);return t.length&1?`0${t}`:t}ve.numberToHexUnpadded=gu;function zo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}ve.hexToNumber=zo;function Li(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const i=n*2,a=e.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}ve.hexToBytes=Li;function jl(e){return zo(qo(e))}ve.bytesToNumberBE=jl;function Dl(e){if(!Ri(e))throw new Error("Uint8Array expected");return zo(qo(Uint8Array.from(e).reverse()))}ve.bytesToNumberLE=Dl;function mu(e,t){return Li(e.toString(16).padStart(t*2,"0"))}ve.numberToBytesBE=mu;function Ul(e,t){return mu(e,t).reverse()}ve.numberToBytesLE=Ul;function $l(e){return Li(gu(e))}ve.numberToVarBytesBE=$l;function Fl(e,t,r){let n;if(typeof t=="string")try{n=Li(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(Ri(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}ve.ensureBytes=Fl;function _u(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!Ri(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}ve.concatBytes=_u;function ql(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}ve.equalBytes=ql;function zl(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}ve.utf8ToBytes=zl;function Hl(e){let t;for(t=0;e>vu;e>>=ki,t+=1);return t}ve.bitLen=Hl;function Gl(e,t){return e>>BigInt(t)&ki}ve.bitGet=Gl;const Vl=(e,t,r)=>e|(r?ki:vu)<<BigInt(t);ve.bitSet=Vl;const Jl=e=>(Ll<<BigInt(e-1))-ki;ve.bitMask=Jl;const $a=e=>new Uint8Array(e),Us=e=>Uint8Array.from(e);function Wl(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=$a(e),i=$a(e),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...y)=>r(i,n,...y),h=(y=$a())=>{i=o(Us([0]),y),n=o(),y.length!==0&&(i=o(Us([1]),y),n=o())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=o();const E=n.slice();A.push(E),y+=n.length}return _u(...A)};return(y,A)=>{s(),h(y);let E;for(;!(E=A(g()));)h();return s(),E}}ve.createHmacDrbg=Wl;const Zl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Xl(e,t,r={}){const n=(i,a,s)=>{const o=Zl[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const h=e[i];if(!(s&&h===void 0)&&!o(h,e))throw new Error(`Invalid param ${String(i)}=${h} (${typeof h}), expected ${a}`)};for(const[i,a]of Object.entries(t))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return e}ve.validateObject=Xl;Object.defineProperty(ye,"__esModule",{value:!0});ye.mapHashToField=ye.getMinHashLength=ye.getFieldBytesLength=ye.hashToPrivateScalar=ye.FpSqrtEven=ye.FpSqrtOdd=ye.Field=ye.nLength=ye.FpIsSquare=ye.FpDiv=ye.FpInvertBatch=ye.FpPow=ye.validateField=ye.isNegativeLE=ye.FpSqrt=ye.tonelliShanks=ye.invert=ye.pow2=ye.pow=ye.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mt=ve,rt=BigInt(0),Ce=BigInt(1),mr=BigInt(2),Yl=BigInt(3),Ao=BigInt(4),$s=BigInt(5),Fs=BigInt(8);BigInt(9);BigInt(16);function gt(e,t){const r=e%t;return r>=rt?r:t+r}ye.mod=gt;function wu(e,t,r){if(r<=rt||t<rt)throw new Error("Expected power/modulo > 0");if(r===Ce)return rt;let n=Ce;for(;t>rt;)t&Ce&&(n=n*e%r),e=e*e%r,t>>=Ce;return n}ye.pow=wu;function Ql(e,t,r){let n=e;for(;t-- >rt;)n*=n,n%=r;return n}ye.pow2=Ql;function oi(e,t){if(e===rt||t<=rt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=gt(e,t),n=t,i=rt,a=Ce;for(;r!==rt;){const o=n/r,h=n%r,g=i-a*o;n=r,r=h,i=a,a=g}if(n!==Ce)throw new Error("invert: does not exist");return gt(i,t)}ye.invert=oi;function Su(e){const t=(e-Ce)/mr;let r,n,i;for(r=e-Ce,n=0;r%mr===rt;r/=mr,n++);for(i=mr;i<e&&wu(i,t,e)!==e-Ce;i++);if(n===1){const s=(e+Ce)/Ao;return function(h,g){const p=h.pow(g,s);if(!h.eql(h.sqr(p),g))throw new Error("Cannot find square root");return p}}const a=(r+Ce)/mr;return function(o,h){if(o.pow(h,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let g=n,p=o.pow(o.mul(o.ONE,i),r),y=o.pow(h,a),A=o.pow(h,r);for(;!o.eql(A,o.ONE);){if(o.eql(A,o.ZERO))return o.ZERO;let E=1;for(let O=o.sqr(A);E<g&&!o.eql(O,o.ONE);E++)O=o.sqr(O);const B=o.pow(p,Ce<<BigInt(g-E-1));p=o.sqr(B),y=o.mul(y,B),A=o.mul(A,p),g=E}return y}}ye.tonelliShanks=Su;function Au(e){if(e%Ao===Yl){const t=(e+Ce)/Ao;return function(n,i){const a=n.pow(i,t);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(e%Fs===$s){const t=(e-$s)/Fs;return function(n,i){const a=n.mul(i,mr),s=n.pow(a,t),o=n.mul(i,s),h=n.mul(n.mul(o,mr),s),g=n.mul(o,n.sub(h,n.ONE));if(!n.eql(n.sqr(g),i))throw new Error("Cannot find square root");return g}}return Su(e)}ye.FpSqrt=Au;const eh=(e,t)=>(gt(e,t)&Ce)===Ce;ye.isNegativeLE=eh;const th=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rh(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=th.reduce((n,i)=>(n[i]="function",n),t);return(0,mt.validateObject)(e,r)}ye.validateField=rh;function Eu(e,t,r){if(r<rt)throw new Error("Expected power > 0");if(r===rt)return e.ONE;if(r===Ce)return t;let n=e.ONE,i=t;for(;r>rt;)r&Ce&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ce;return n}ye.FpPow=Eu;function xu(e,t){const r=new Array(t.length),n=t.reduce((a,s,o)=>e.is0(s)?a:(r[o]=a,e.mul(a,s)),e.ONE),i=e.inv(n);return t.reduceRight((a,s,o)=>e.is0(s)?a:(r[o]=e.mul(a,r[o]),e.mul(a,s)),i),r}ye.FpInvertBatch=xu;function nh(e,t,r){return e.mul(t,typeof r=="bigint"?oi(r,e.ORDER):e.inv(r))}ye.FpDiv=nh;function ih(e){const t=(e.ORDER-Ce)/mr;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ye.FpIsSquare=ih;function Ho(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ye.nLength=Ho;function ah(e,t,r=!1,n={}){if(e<=rt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=Ho(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Au(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:(0,mt.bitMask)(i),ZERO:rt,ONE:Ce,create:h=>gt(h,e),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return rt<=h&&h<e},is0:h=>h===rt,isOdd:h=>(h&Ce)===Ce,neg:h=>gt(-h,e),eql:(h,g)=>h===g,sqr:h=>gt(h*h,e),add:(h,g)=>gt(h+g,e),sub:(h,g)=>gt(h-g,e),mul:(h,g)=>gt(h*g,e),pow:(h,g)=>Eu(o,h,g),div:(h,g)=>gt(h*oi(g,e),e),sqrN:h=>h*h,addN:(h,g)=>h+g,subN:(h,g)=>h-g,mulN:(h,g)=>h*g,inv:h=>oi(h,e),sqrt:n.sqrt||(h=>s(o,h)),invertBatch:h=>xu(o,h),cmov:(h,g,p)=>p?g:h,toBytes:h=>r?(0,mt.numberToBytesLE)(h,a):(0,mt.numberToBytesBE)(h,a),fromBytes:h=>{if(h.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${h.length}`);return r?(0,mt.bytesToNumberLE)(h):(0,mt.bytesToNumberBE)(h)}});return Object.freeze(o)}ye.Field=ah;function oh(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ye.FpSqrtOdd=oh;function sh(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ye.FpSqrtEven=sh;function ch(e,t,r=!1){e=(0,mt.ensureBytes)("privateHash",e);const n=e.length,i=Ho(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const a=r?(0,mt.bytesToNumberLE)(e):(0,mt.bytesToNumberBE)(e);return gt(a,t-Ce)+Ce}ye.hashToPrivateScalar=ch;function Go(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}ye.getFieldBytesLength=Go;function Iu(e){const t=Go(e);return t+Math.ceil(t/2)}ye.getMinHashLength=Iu;function uh(e,t,r=!1){const n=e.length,i=Go(t),a=Iu(t);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?(0,mt.bytesToNumberBE)(e):(0,mt.bytesToNumberLE)(e),o=gt(s,t-Ce)+Ce;return r?(0,mt.numberToBytesLE)(o,i):(0,mt.numberToBytesBE)(o,i)}ye.mapHashToField=uh;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.validateBasic=tn.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qs=ye,fh=ve,dh=BigInt(0),Fa=BigInt(1);function lh(e,t){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(t/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=e.ZERO,o=i;for(;a>dh;)a&Fa&&(s=s.add(o)),o=o.double(),a>>=Fa;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),h=[];let g=i,p=g;for(let y=0;y<s;y++){p=g,h.push(p);for(let A=1;A<o;A++)p=p.add(g),h.push(p);g=p.double()}return h},wNAF(i,a,s){const{windows:o,windowSize:h}=n(i);let g=e.ZERO,p=e.BASE;const y=BigInt(2**i-1),A=2**i,E=BigInt(i);for(let B=0;B<o;B++){const O=B*h;let K=Number(s&y);s>>=E,K>h&&(K-=A,s+=Fa);const D=O,H=O+Math.abs(K)-1,q=B%2!==0,Y=K<0;K===0?p=p.add(r(q,a[D])):g=g.add(r(Y,a[H]))}return{p:g,f:p}},wNAFCached(i,a,s,o){const h=i._WINDOW_SIZE||1;let g=a.get(i);return g||(g=this.precomputeWindow(i,h),h!==1&&a.set(i,o(g))),this.wNAF(h,g,s)}}}tn.wNAF=lh;function hh(e){return(0,qs.validateField)(e.Fp),(0,fh.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,qs.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}tn.validateBasic=hh;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bh=ye,nr=ve,hr=ve,Mu=tn,Ct=BigInt(0),vt=BigInt(1),Zn=BigInt(2),ph=BigInt(8),yh={zip215:!0};function vh(e){const t=(0,Mu.validateBasic)(e);return nr.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function gh(e){const t=vh(e),{Fp:r,n,prehash:i,hash:a,randomBytes:s,nByteLength:o,h}=t,g=Zn<<BigInt(o*8)-vt,p=r.create,y=t.uvRatio||((I,m)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(m))}}catch{return{isValid:!1,value:Ct}}}),A=t.adjustScalarBytes||(I=>I),E=t.domain||((I,m,u)=>{if(m.length||u)throw new Error("Contexts/pre-hash are not supported");return I}),B=I=>typeof I=="bigint"&&Ct<I,O=(I,m)=>B(I)&&B(m)&&I<m,K=I=>I===Ct||O(I,g);function D(I,m){if(O(I,m))return I;throw new Error(`Expected valid scalar < ${m}, got ${typeof I} ${I}`)}function H(I){return I===Ct?I:D(I,n)}const q=new Map;function Y(I){if(!(I instanceof C))throw new Error("ExtendedPoint expected")}class C{constructor(m,u,w,$){if(this.ex=m,this.ey=u,this.ez=w,this.et=$,!K(m))throw new Error("x required");if(!K(u))throw new Error("y required");if(!K(w))throw new Error("z required");if(!K($))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof C)throw new Error("extended point not allowed");const{x:u,y:w}=m||{};if(!K(u)||!K(w))throw new Error("invalid affine point");return new C(u,w,vt,p(u*w))}static normalizeZ(m){const u=r.invertBatch(m.map(w=>w.ez));return m.map((w,$)=>w.toAffine(u[$])).map(C.fromAffine)}_setWindowSize(m){this._WINDOW_SIZE=m,q.delete(this)}assertValidity(){const{a:m,d:u}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:w,ey:$,ez:G,et:F}=this,ie=p(w*w),J=p($*$),W=p(G*G),pe=p(W*W),ne=p(ie*m),he=p(W*p(ne+J)),ee=p(pe+p(u*p(ie*J)));if(he!==ee)throw new Error("bad point: equation left != right (1)");const U=p(w*$),V=p(G*F);if(U!==V)throw new Error("bad point: equation left != right (2)")}equals(m){Y(m);const{ex:u,ey:w,ez:$}=this,{ex:G,ey:F,ez:ie}=m,J=p(u*ie),W=p(G*$),pe=p(w*ie),ne=p(F*$);return J===W&&pe===ne}is0(){return this.equals(C.ZERO)}negate(){return new C(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:m}=t,{ex:u,ey:w,ez:$}=this,G=p(u*u),F=p(w*w),ie=p(Zn*p($*$)),J=p(m*G),W=u+w,pe=p(p(W*W)-G-F),ne=J+F,he=ne-ie,ee=J-F,U=p(pe*he),V=p(ne*ee),ce=p(pe*ee),oe=p(he*ne);return new C(U,V,oe,ce)}add(m){Y(m);const{a:u,d:w}=t,{ex:$,ey:G,ez:F,et:ie}=this,{ex:J,ey:W,ez:pe,et:ne}=m;if(u===BigInt(-1)){const se=p((G-$)*(W+J)),Be=p((G+$)*(W-J)),we=p(Be-se);if(we===Ct)return this.double();const me=p(F*Zn*ne),je=p(ie*Zn*pe),S=je+me,f=Be+se,l=je-me,x=p(S*we),T=p(f*l),R=p(S*l),L=p(we*f);return new C(x,T,L,R)}const he=p($*J),ee=p(G*W),U=p(ie*w*ne),V=p(F*pe),ce=p(($+G)*(J+W)-he-ee),oe=V-U,Q=V+U,re=p(ee-u*he),ue=p(ce*oe),le=p(Q*re),fe=p(ce*re),ae=p(oe*Q);return new C(ue,le,ae,fe)}subtract(m){return this.add(m.negate())}wNAF(m){return N.wNAFCached(this,q,m,C.normalizeZ)}multiply(m){const{p:u,f:w}=this.wNAF(D(m,n));return C.normalizeZ([u,w])[0]}multiplyUnsafe(m){let u=H(m);return u===Ct?Z:this.equals(Z)||u===vt?this:this.equals(z)?this.wNAF(u).p:N.unsafeLadder(this,u)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return N.unsafeLadder(this,n).is0()}toAffine(m){const{ex:u,ey:w,ez:$}=this,G=this.is0();m==null&&(m=G?ph:r.inv($));const F=p(u*m),ie=p(w*m),J=p($*m);if(G)return{x:Ct,y:vt};if(J!==vt)throw new Error("invZ was invalid");return{x:F,y:ie}}clearCofactor(){const{h:m}=t;return m===vt?this:this.multiplyUnsafe(m)}static fromHex(m,u=!1){const{d:w,a:$}=t,G=r.BYTES;m=(0,hr.ensureBytes)("pointHex",m,G);const F=m.slice(),ie=m[G-1];F[G-1]=ie&-129;const J=nr.bytesToNumberLE(F);J===Ct||(u?D(J,g):D(J,r.ORDER));const W=p(J*J),pe=p(W-vt),ne=p(w*W-$);let{isValid:he,value:ee}=y(pe,ne);if(!he)throw new Error("Point.fromHex: invalid y coordinate");const U=(ee&vt)===vt,V=(ie&128)!==0;if(!u&&ee===Ct&&V)throw new Error("Point.fromHex: x=0 and x_0=1");return V!==U&&(ee=p(-ee)),C.fromAffine({x:ee,y:J})}static fromPrivateKey(m){return M(m).point}toRawBytes(){const{x:m,y:u}=this.toAffine(),w=nr.numberToBytesLE(u,r.BYTES);return w[w.length-1]|=m&vt?128:0,w}toHex(){return nr.bytesToHex(this.toRawBytes())}}C.BASE=new C(t.Gx,t.Gy,vt,p(t.Gx*t.Gy)),C.ZERO=new C(Ct,vt,vt,Ct);const{BASE:z,ZERO:Z}=C,N=(0,Mu.wNAF)(C,o*8);function j(I){return(0,bh.mod)(I,n)}function te(I){return j(nr.bytesToNumberLE(I))}function M(I){const m=o;I=(0,hr.ensureBytes)("private key",I,m);const u=(0,hr.ensureBytes)("hashed private key",a(I),2*m),w=A(u.slice(0,m)),$=u.slice(m,2*m),G=te(w),F=z.multiply(G),ie=F.toRawBytes();return{head:w,prefix:$,scalar:G,point:F,pointBytes:ie}}function c(I){return M(I).pointBytes}function d(I=new Uint8Array,...m){const u=nr.concatBytes(...m);return te(a(E(u,(0,hr.ensureBytes)("context",I),!!i)))}function b(I,m,u={}){I=(0,hr.ensureBytes)("message",I),i&&(I=i(I));const{prefix:w,scalar:$,pointBytes:G}=M(m),F=d(u.context,w,I),ie=z.multiply(F).toRawBytes(),J=d(u.context,ie,G,I),W=j(F+J*$);H(W);const pe=nr.concatBytes(ie,nr.numberToBytesLE(W,r.BYTES));return(0,hr.ensureBytes)("result",pe,o*2)}const v=yh;function _(I,m,u,w=v){const{context:$,zip215:G}=w,F=r.BYTES;I=(0,hr.ensureBytes)("signature",I,2*F),m=(0,hr.ensureBytes)("message",m),i&&(m=i(m));const ie=nr.bytesToNumberLE(I.slice(F,2*F));let J,W,pe;try{J=C.fromHex(u,G),W=C.fromHex(I.slice(0,F),G),pe=z.multiplyUnsafe(ie)}catch{return!1}if(!G&&J.isSmallOrder())return!1;const ne=d($,W.toRawBytes(),J.toRawBytes(),m);return W.add(J.multiplyUnsafe(ne)).subtract(pe).clearCofactor().equals(C.ZERO)}return z._setWindowSize(8),{CURVE:t,getPublicKey:c,sign:b,verify:_,ExtendedPoint:C,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>s(r.BYTES),precompute(I=8,m=C.BASE){return m._setWindowSize(I),m.multiply(BigInt(3)),m}}}}Ni.twistedEdwards=gh;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zs=ye,Vr=ve,En=BigInt(0),qa=BigInt(1);function mh(e){return(0,Vr.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function _h(e){const t=mh(e),{P:r}=t,n=q=>(0,zs.mod)(q,r),i=t.montgomeryBits,a=Math.ceil(i/8),s=t.nByteLength,o=t.adjustScalarBytes||(q=>q),h=t.powPminus2||(q=>(0,zs.pow)(q,r-BigInt(2),r));function g(q,Y,C){const z=n(q*(Y-C));return Y=n(Y-z),C=n(C+z),[Y,C]}function p(q){if(typeof q=="bigint"&&En<=q&&q<r)return q;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const y=(t.a-BigInt(2))/BigInt(4);function A(q,Y){const C=p(q),z=p(Y),Z=C;let N=qa,j=En,te=C,M=qa,c=En,d;for(let v=BigInt(i-1);v>=En;v--){const _=z>>v&qa;c^=_,d=g(c,N,te),N=d[0],te=d[1],d=g(c,j,M),j=d[0],M=d[1],c=_;const P=N+j,I=n(P*P),m=N-j,u=n(m*m),w=I-u,$=te+M,G=te-M,F=n(G*P),ie=n($*m),J=F+ie,W=F-ie;te=n(J*J),M=n(Z*n(W*W)),N=n(I*u),j=n(w*(I+n(y*w)))}d=g(c,N,te),N=d[0],te=d[1],d=g(c,j,M),j=d[0],M=d[1];const b=h(j);return n(N*b)}function E(q){return(0,Vr.numberToBytesLE)(n(q),a)}function B(q){const Y=(0,Vr.ensureBytes)("u coordinate",q,a);return s===a&&(Y[s-1]&=127),(0,Vr.bytesToNumberLE)(Y)}function O(q){const Y=(0,Vr.ensureBytes)("scalar",q);if(Y.length!==a&&Y.length!==s)throw new Error(`Expected ${a} or ${s} bytes, got ${Y.length}`);return(0,Vr.bytesToNumberLE)(o(Y))}function K(q,Y){const C=B(Y),z=O(q),Z=A(C,z);if(Z===En)throw new Error("Invalid private or public key received");return E(Z)}const D=E(t.Gu);function H(q){return K(q,D)}return{scalarMult:K,scalarMultBase:H,getSharedSecret:(q,Y)=>K(q,Y),getPublicKey:q=>H(q),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:D}}Ki.montgomery=_h;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createHasher=Mt.isogenyMap=Mt.hash_to_field=Mt.expand_message_xof=Mt.expand_message_xmd=void 0;const wh=ye,Kt=ve;function Sh(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,Kt.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const Ah=Kt.bytesToNumberBE;function gr(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function Eh(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Rn(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function Vo(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Pu(e,t,r,n){Rn(e),Rn(t),Vo(r),t.length>255&&(t=n((0,Kt.concatBytes)((0,Kt.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:a}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const o=(0,Kt.concatBytes)(t,gr(t.length,1)),h=gr(0,a),g=gr(r,2),p=new Array(s),y=n((0,Kt.concatBytes)(h,e,g,gr(0,1),o));p[0]=n((0,Kt.concatBytes)(y,gr(1,1),o));for(let E=1;E<=s;E++){const B=[Eh(y,p[E-1]),gr(E+1,1),o];p[E]=n((0,Kt.concatBytes)(...B))}return(0,Kt.concatBytes)(...p).slice(0,r)}Mt.expand_message_xmd=Pu;function Bu(e,t,r,n,i){if(Rn(e),Rn(t),Vo(r),t.length>255){const a=Math.ceil(2*n/8);t=i.create({dkLen:a}).update((0,Kt.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(gr(r,2)).update(t).update(gr(t.length,1)).digest()}Mt.expand_message_xof=Bu;function Eo(e,t,r){(0,Kt.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:a,hash:s,expand:o,DST:h}=r;Rn(e),Vo(t);const g=Sh(h),p=n.toString(2).length,y=Math.ceil((p+i)/8),A=t*a*y;let E;if(o==="xmd")E=Pu(e,g,A,s);else if(o==="xof")E=Bu(e,g,A,i,s);else if(o==="_internal_pass")E=e;else throw new Error('expand must be "xmd" or "xof"');const B=new Array(t);for(let O=0;O<t;O++){const K=new Array(a);for(let D=0;D<a;D++){const H=y*(D+O*a),q=E.subarray(H,H+y);K[D]=(0,wh.mod)(Ah(q),n)}B[O]=K}return B}Mt.hash_to_field=Eo;function xh(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[a,s,o,h]=r.map(g=>g.reduce((p,y)=>e.add(e.mul(p,n),y)));return n=e.div(a,s),i=e.mul(i,e.div(o,h)),{x:n,y:i}}}Mt.isogenyMap=xh;function Ih(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const a=Eo(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(a[0])),o=e.fromAffine(t(a[1])),h=s.add(o).clearCofactor();return h.assertValidity(),h},encodeToCurve(n,i){const a=Eo(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(a[0])).clearCofactor();return s.assertValidity(),s}}}Mt.createHasher=Ih;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomeryPriv=e.edwardsToMontgomery=e.edwardsToMontgomeryPub=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=It,r=Ti,n=Ni,i=Ki,a=ye,s=ve,o=Mt,h=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),g=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),p=BigInt(0),y=BigInt(1),A=BigInt(2),E=BigInt(5),B=BigInt(10),O=BigInt(20),K=BigInt(40),D=BigInt(80);function H(ee){const U=h,ce=ee*ee%U*ee%U,oe=(0,a.pow2)(ce,A,U)*ce%U,Q=(0,a.pow2)(oe,y,U)*ee%U,re=(0,a.pow2)(Q,E,U)*Q%U,ue=(0,a.pow2)(re,B,U)*re%U,le=(0,a.pow2)(ue,O,U)*ue%U,fe=(0,a.pow2)(le,K,U)*le%U,ae=(0,a.pow2)(fe,D,U)*fe%U,se=(0,a.pow2)(ae,D,U)*fe%U,Be=(0,a.pow2)(se,B,U)*re%U;return{pow_p_5_8:(0,a.pow2)(Be,A,U)*ee%U,b2:ce}}function q(ee){return ee[0]&=248,ee[31]&=127,ee[31]|=64,ee}function Y(ee,U){const V=h,ce=(0,a.mod)(U*U*U,V),oe=(0,a.mod)(ce*ce*U,V),Q=H(ee*oe).pow_p_5_8;let re=(0,a.mod)(ee*ce*Q,V);const ue=(0,a.mod)(U*re*re,V),le=re,fe=(0,a.mod)(re*g,V),ae=ue===ee,se=ue===(0,a.mod)(-ee,V),Be=ue===(0,a.mod)(-ee*g,V);return ae&&(re=le),(se||Be)&&(re=fe),(0,a.isNegativeLE)(re,V)&&(re=(0,a.mod)(-re,V)),{isValid:ae||se,value:re}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const C=(0,a.Field)(h,void 0,!0),z={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:C,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t.sha512,randomBytes:r.randomBytes,adjustScalarBytes:q,uvRatio:Y};e.ed25519=(0,n.twistedEdwards)(z);function Z(ee,U,V){if(U.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([V?1:0,U.length]),U,ee)}e.ed25519ctx=(0,n.twistedEdwards)({...z,domain:Z}),e.ed25519ph=(0,n.twistedEdwards)({...z,domain:Z,prehash:t.sha512}),e.x25519=(0,i.montgomery)({P:h,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:ee=>{const U=h,{pow_p_5_8:V,b2:ce}=H(ee);return(0,a.mod)((0,a.pow2)(V,BigInt(3),U)*ce,U)},adjustScalarBytes:q,randomBytes:r.randomBytes});function N(ee){const{y:U}=e.ed25519.ExtendedPoint.fromHex(ee),V=BigInt(1);return C.toBytes(C.create((V+U)*C.inv(V-U)))}e.edwardsToMontgomeryPub=N,e.edwardsToMontgomery=N;function j(ee){const U=z.hash(ee.subarray(0,32));return z.adjustScalarBytes(U).subarray(0,32)}e.edwardsToMontgomeryPriv=j;const te=(C.ORDER+BigInt(3))/BigInt(8),M=C.pow(A,te),c=C.sqrt(C.neg(C.ONE)),d=(C.ORDER-BigInt(5))/BigInt(8),b=BigInt(486662);function v(ee){let U=C.sqr(ee);U=C.mul(U,A);let V=C.add(U,C.ONE),ce=C.neg(b),oe=C.sqr(V),Q=C.mul(oe,V),re=C.mul(U,b);re=C.mul(re,ce),re=C.add(re,oe),re=C.mul(re,ce);let ue=C.sqr(Q);oe=C.sqr(ue),ue=C.mul(ue,Q),ue=C.mul(ue,re),oe=C.mul(oe,ue);let le=C.pow(oe,d);le=C.mul(le,ue);let fe=C.mul(le,c);oe=C.sqr(le),oe=C.mul(oe,Q);let ae=C.eql(oe,re),se=C.cmov(fe,le,ae),Be=C.mul(ce,U),we=C.mul(le,ee);we=C.mul(we,M);let me=C.mul(we,c),je=C.mul(re,U);oe=C.sqr(we),oe=C.mul(oe,Q);let S=C.eql(oe,je),f=C.cmov(me,we,S);oe=C.sqr(se),oe=C.mul(oe,Q);let l=C.eql(oe,re),x=C.cmov(Be,ce,l),T=C.cmov(f,se,l),R=C.isOdd(T);return T=C.cmov(T,C.neg(T),l!==R),{xMn:x,xMd:V,yMn:T,yMd:y}}const _=(0,a.FpSqrtEven)(C,C.neg(BigInt(486664)));function P(ee){const{xMn:U,xMd:V,yMn:ce,yMd:oe}=v(ee);let Q=C.mul(U,oe);Q=C.mul(Q,_);let re=C.mul(V,ce),ue=C.sub(U,V),le=C.add(U,V),fe=C.mul(re,le),ae=C.eql(fe,C.ZERO);Q=C.cmov(Q,C.ZERO,ae),re=C.cmov(re,C.ONE,ae),ue=C.cmov(ue,C.ONE,ae),le=C.cmov(le,C.ONE,ae);const se=C.invertBatch([re,le]);return{x:C.mul(Q,se[0]),y:C.mul(ue,se[1])}}const I=(0,o.createHasher)(e.ed25519.ExtendedPoint,ee=>P(ee[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:C.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512});e.hashToCurve=I.hashToCurve,e.encodeToCurve=I.encodeToCurve;function m(ee){if(!(ee instanceof ne))throw new Error("RistrettoPoint expected")}const u=g,w=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),$=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),G=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),F=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ie=ee=>Y(y,ee),J=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),W=ee=>e.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(ee)&J);function pe(ee){const{d:U}=e.ed25519.CURVE,V=e.ed25519.CURVE.Fp.ORDER,ce=e.ed25519.CURVE.Fp.create,oe=ce(u*ee*ee),Q=ce((oe+y)*G);let re=BigInt(-1);const ue=ce((re-U*oe)*ce(oe+U));let{isValid:le,value:fe}=Y(Q,ue),ae=ce(fe*ee);(0,a.isNegativeLE)(ae,V)||(ae=ce(-ae)),le||(fe=ae),le||(re=oe);const se=ce(re*(oe-y)*F-ue),Be=fe*fe,we=ce((fe+fe)*ue),me=ce(se*w),je=ce(y-Be),S=ce(y+Be);return new e.ed25519.ExtendedPoint(ce(we*S),ce(je*me),ce(me*S),ce(we*je))}class ne{constructor(U){this.ep=U}static fromAffine(U){return new ne(e.ed25519.ExtendedPoint.fromAffine(U))}static hashToCurve(U){U=(0,s.ensureBytes)("ristrettoHash",U,64);const V=W(U.slice(0,32)),ce=pe(V),oe=W(U.slice(32,64)),Q=pe(oe);return new ne(ce.add(Q))}static fromHex(U){U=(0,s.ensureBytes)("ristrettoHex",U,32);const{a:V,d:ce}=e.ed25519.CURVE,oe=e.ed25519.CURVE.Fp.ORDER,Q=e.ed25519.CURVE.Fp.create,re="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=W(U);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(ue,32),U)||(0,a.isNegativeLE)(ue,oe))throw new Error(re);const le=Q(ue*ue),fe=Q(y+V*le),ae=Q(y-V*le),se=Q(fe*fe),Be=Q(ae*ae),we=Q(V*ce*se-Be),{isValid:me,value:je}=ie(Q(we*Be)),S=Q(je*ae),f=Q(je*S*we);let l=Q((ue+ue)*S);(0,a.isNegativeLE)(l,oe)&&(l=Q(-l));const x=Q(fe*f),T=Q(l*x);if(!me||(0,a.isNegativeLE)(T,oe)||x===p)throw new Error(re);return new ne(new e.ed25519.ExtendedPoint(l,x,y,T))}toRawBytes(){let{ex:U,ey:V,ez:ce,et:oe}=this.ep;const Q=e.ed25519.CURVE.Fp.ORDER,re=e.ed25519.CURVE.Fp.create,ue=re(re(ce+V)*re(ce-V)),le=re(U*V),fe=re(le*le),{value:ae}=ie(re(ue*fe)),se=re(ae*ue),Be=re(ae*le),we=re(se*Be*oe);let me;if((0,a.isNegativeLE)(oe*we,Q)){let S=re(V*u),f=re(U*u);U=S,V=f,me=re(se*$)}else me=Be;(0,a.isNegativeLE)(U*we,Q)&&(V=re(-V));let je=re((ce-V)*me);return(0,a.isNegativeLE)(je,Q)&&(je=re(-je)),(0,s.numberToBytesLE)(je,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(U){m(U);const{ex:V,ey:ce}=this.ep,{ex:oe,ey:Q}=U.ep,re=e.ed25519.CURVE.Fp.create,ue=re(V*Q)===re(ce*oe),le=re(ce*Q)===re(V*oe);return ue||le}add(U){return m(U),new ne(this.ep.add(U.ep))}subtract(U){return m(U),new ne(this.ep.subtract(U.ep))}multiply(U){return new ne(this.ep.multiply(U))}multiplyUnsafe(U){return new ne(this.ep.multiplyUnsafe(U))}}e.RistrettoPoint=(ne.BASE||(ne.BASE=new ne(e.ed25519.ExtendedPoint.BASE)),ne.ZERO||(ne.ZERO=new ne(e.ed25519.ExtendedPoint.ZERO)),ne);const he=(ee,U)=>{const V=U.DST,ce=typeof V=="string"?(0,r.utf8ToBytes)(V):V,oe=(0,o.expand_message_xmd)(ee,ce,64,t.sha512);return ne.hashToCurve(oe)};e.hashToRistretto255=he,e.hash_to_ristretto255=e.hashToRistretto255})(Uo);var xo={exports:{}},za=65536,Mh=4294967295;function Ph(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Bh=jc.Buffer,si=X.crypto||X.msCrypto;si&&si.getRandomValues?xo.exports=Th:xo.exports=Ph;function Th(e,t){if(e>Mh)throw new RangeError("requested too many random bytes");var r=Bh.allocUnsafe(e);if(e>0)if(e>za)for(var n=0;n<e;n+=za)si.getRandomValues(r.slice(n,n+za));else si.getRandomValues(r);return typeof t=="function"?process.nextTick(function(){t(null,r)}):r}var Tu=xo.exports,dn={};const Ie={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function At(e,t){if(!e)throw new Error(t)}function xe(e,t,r){if(At(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),i=`Expected ${e} to be an Uint8Array with length [${n}]`;At(r.includes(t.length),i)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;At(t.length===r,n)}}function Tr(e){At(Jr(e)==="Boolean","Expected compressed to be a Boolean")}function Nt(e=r=>new Uint8Array(r),t){return typeof e=="function"&&(e=e(t)),xe("output",e,t),e}function Jr(e){return Object.prototype.toString.call(e).slice(8,-1)}var Oh=e=>({contextRandomize(t){switch(At(t===null||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),t!==null&&xe("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(Ie.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(t){return xe("private key",t,32),e.privateKeyVerify(t)===0},privateKeyNegate(t){switch(xe("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(Ie.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch(xe("private key",t,32),xe("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(Ie.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch(xe("private key",t,32),xe("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(Ie.TWEAK_MUL)}},publicKeyVerify(t){return xe("public key",t,[33,65]),e.publicKeyVerify(t)===0},publicKeyCreate(t,r=!0,n){switch(xe("private key",t,32),Tr(r),n=Nt(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(Ie.SECKEY_INVALID);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch(xe("public key",t,[33,65]),Tr(r),n=Nt(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch(xe("public key",t,[33,65]),Tr(r),n=Nt(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){At(Array.isArray(t),"Expected public keys to be an Array"),At(t.length>0,"Expected public keys array will have more than zero items");for(const i of t)xe("public key",i,[33,65]);switch(Tr(r),n=Nt(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_COMBINE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,i){switch(xe("public key",t,[33,65]),xe("tweak",r,32),Tr(n),i=Nt(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,i){switch(xe("public key",t,[33,65]),xe("tweak",r,32),Tr(n),i=Nt(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_MUL)}},signatureNormalize(t){switch(xe("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(Ie.SIG_PARSE)}},signatureExport(t,r){xe("signature",t,64),r=Nt(r,72);const n={output:r,outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch(xe("signature",t),r=Nt(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},i){xe("message",t,32),xe("private key",r,32),At(Jr(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xe("options.data",n.data),n.noncefn!==void 0&&At(Jr(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Nt(i,64);const a={signature:i,recid:null};switch(e.ecdsaSign(a,t,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(Ie.SIGN);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch(xe("signature",t,64),xe("message",r,32),xe("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,i=!0,a){switch(xe("signature",t,64),At(Jr(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),xe("message",n,32),Tr(i),a=Nt(a,i?33:65),e.ecdsaRecover(a,t,r,n)){case 0:return a;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.RECOVER);case 3:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},i){switch(xe("public key",t,[33,65]),xe("private key",r,32),At(Jr(n)==="Object","Expected options to be an Object"),n.data!==void 0&&xe("options.data",n.data),n.hashfn!==void 0?(At(Jr(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&xe("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&xe("options.ybuf",n.ybuf,32),xe("output",i)):i=Nt(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.ECDH)}}}),Ou={};const Ch="elliptic",Nh="6.5.7",kh="EC cryptography",Rh="lib/elliptic.js",Lh=["lib"],Kh={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},jh={type:"git",url:"git@github.com:indutny/elliptic"},Dh=["EC","Elliptic","curve","Cryptography"],Uh="Fedor Indutny <fedor@indutny.com>",$h="MIT",Fh={url:"https://github.com/indutny/elliptic/issues"},qh="https://github.com/indutny/elliptic",zh={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Hh={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Gh={name:Ch,version:Nh,description:kh,main:Rh,files:Lh,scripts:Kh,repository:jh,keywords:Dh,author:Uh,license:$h,bugs:Fh,homepage:qh,devDependencies:zh,dependencies:Hh};var _t={},Jo={exports:{}};const Vh={},Jh=Object.freeze(Object.defineProperty({__proto__:null,default:Vh},Symbol.toStringTag,{value:"Module"})),Wo=Mc(Jh);Jo.exports;(function(e){(function(t,r){function n(M,c){if(!M)throw new Error(c||"Assertion failed")}function i(M,c){M.super_=c;var d=function(){};d.prototype=c.prototype,M.prototype=new d,M.prototype.constructor=M}function a(M,c,d){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(M||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Wo.Buffer}catch{}a.isBN=function(c){return c instanceof a?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===a.wordSize&&Array.isArray(c.words)},a.max=function(c,d){return c.cmp(d)>0?c:d},a.min=function(c,d){return c.cmp(d)<0?c:d},a.prototype._init=function(c,d,b){if(typeof c=="number")return this._initNumber(c,d,b);if(typeof c=="object")return this._initArray(c,d,b);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(d===16?this._parseHex(c,v,b):(this._parseBase(c,d,v),b==="le"&&this._initArray(this.toArray(),d,b)))},a.prototype._initNumber=function(c,d,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},a.prototype._initArray=function(c,d,b){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,P,I=0;if(b==="be")for(v=c.length-1,_=0;v>=0;v-=3)P=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[_]|=P<<I&67108863,this.words[_+1]=P>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(v=0,_=0;v<c.length;v+=3)P=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[_]|=P<<I&67108863,this.words[_+1]=P>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()};function o(M,c){var d=M.charCodeAt(c);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function h(M,c,d){var b=o(M,d);return d-1>=c&&(b|=o(M,d-1)<<4),b}a.prototype._parseHex=function(c,d,b){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _=0,P=0,I;if(b==="be")for(v=c.length-1;v>=d;v-=2)I=h(c,d,v)<<_,this.words[P]|=I&67108863,_>=18?(_-=18,P+=1,this.words[P]|=I>>>26):_+=8;else{var m=c.length-d;for(v=m%2===0?d+1:d;v<c.length;v+=2)I=h(c,d,v)<<_,this.words[P]|=I&67108863,_>=18?(_-=18,P+=1,this.words[P]|=I>>>26):_+=8}this.strip()};function g(M,c,d,b){for(var v=0,_=Math.min(M.length,d),P=c;P<_;P++){var I=M.charCodeAt(P)-48;v*=b,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}a.prototype._parseBase=function(c,d,b){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=d)v++;v--,_=_/d|0;for(var P=c.length-b,I=P%v,m=Math.min(P,P-I)+b,u=0,w=b;w<m;w+=v)u=g(c,w,w+v,d),this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(I!==0){var $=1;for(u=g(c,w,c.length,d),w=0;w<I;w++)$*=d;this.imuln($),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},a.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red},a.prototype.clone=function(){var c=new a(null);return this.copy(c),c},a.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(c,d){c=c||10,d=d|0||1;var b;if(c===16||c==="hex"){b="";for(var v=0,_=0,P=0;P<this.length;P++){var I=this.words[P],m=((I<<v|_)&16777215).toString(16);_=I>>>24-v&16777215,_!==0||P!==this.length-1?b=p[6-m.length]+m+b:b=m+b,v+=2,v>=26&&(v-=26,P--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var u=y[c],w=A[c];b="";var $=this.clone();for($.negative=0;!$.isZero();){var G=$.modn(w).toString(c);$=$.idivn(w),$.isZero()?b=G+b:b=p[u-G.length]+G+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(c,d){return n(typeof s<"u"),this.toArrayLike(s,c,d)},a.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)},a.prototype.toArrayLike=function(c,d,b){var v=this.byteLength(),_=b||Math.max(1,v);n(v<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var P=d==="le",I=new c(_),m,u,w=this.clone();if(P){for(u=0;!w.isZero();u++)m=w.andln(255),w.iushrn(8),I[u]=m;for(;u<_;u++)I[u]=0}else{for(u=0;u<_-v;u++)I[u]=0;for(u=0;!w.isZero();u++)m=w.andln(255),w.iushrn(8),I[_-u-1]=m}return I},Math.clz32?a.prototype._countBits=function(c){return 32-Math.clz32(c)}:a.prototype._countBits=function(c){var d=c,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},a.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},a.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function E(M){for(var c=new Array(M.bitLength()),d=0;d<c.length;d++){var b=d/26|0,v=d%26;c[d]=(M.words[b]&1<<v)>>>v}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(c+=b,b!==26)break}return c},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},a.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this.strip()},a.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},a.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},a.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},a.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=d.length,this.strip()},a.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},a.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},a.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},a.prototype.iuxor=function(c){var d,b;this.length>c.length?(d=this,b=c):(d=c,b=this);for(var v=0;v<b.length;v++)this.words[v]=d.words[v]^b.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},a.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},a.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},a.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},a.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,b=c%26;this._expand(d),b>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},a.prototype.notn=function(c){return this.clone().inotn(c)},a.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var b=c/26|0,v=c%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},a.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var b,v;this.length>c.length?(b=this,v=c):(b=c,v=this);for(var _=0,P=0;P<v.length;P++)d=(b.words[P]|0)+(v.words[P]|0)+_,this.words[P]=d&67108863,_=d>>>26;for(;_!==0&&P<b.length;P++)d=(b.words[P]|0)+_,this.words[P]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;P<b.length;P++)this.words[P]=b.words[P];return this},a.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},a.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,_;b>0?(v=this,_=c):(v=c,_=this);for(var P=0,I=0;I<_.length;I++)d=(v.words[I]|0)-(_.words[I]|0)+P,P=d>>26,this.words[I]=d&67108863;for(;P!==0&&I<v.length;I++)d=(v.words[I]|0)+P,P=d>>26,this.words[I]=d&67108863;if(P===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(c){return this.clone().isub(c)};function B(M,c,d){d.negative=c.negative^M.negative;var b=M.length+c.length|0;d.length=b,b=b-1|0;var v=M.words[0]|0,_=c.words[0]|0,P=v*_,I=P&67108863,m=P/67108864|0;d.words[0]=I;for(var u=1;u<b;u++){for(var w=m>>>26,$=m&67108863,G=Math.min(u,c.length-1),F=Math.max(0,u-M.length+1);F<=G;F++){var ie=u-F|0;v=M.words[ie]|0,_=c.words[F]|0,P=v*_+$,w+=P/67108864|0,$=P&67108863}d.words[u]=$|0,m=w|0}return m!==0?d.words[u]=m|0:d.length--,d.strip()}var O=function(c,d,b){var v=c.words,_=d.words,P=b.words,I=0,m,u,w,$=v[0]|0,G=$&8191,F=$>>>13,ie=v[1]|0,J=ie&8191,W=ie>>>13,pe=v[2]|0,ne=pe&8191,he=pe>>>13,ee=v[3]|0,U=ee&8191,V=ee>>>13,ce=v[4]|0,oe=ce&8191,Q=ce>>>13,re=v[5]|0,ue=re&8191,le=re>>>13,fe=v[6]|0,ae=fe&8191,se=fe>>>13,Be=v[7]|0,we=Be&8191,me=Be>>>13,je=v[8]|0,S=je&8191,f=je>>>13,l=v[9]|0,x=l&8191,T=l>>>13,R=_[0]|0,L=R&8191,de=R>>>13,Re=_[1]|0,ge=Re&8191,_e=Re>>>13,Pe=_[2]|0,De=Pe&8191,Ue=Pe>>>13,Ms=_[3]|0,$e=Ms&8191,Fe=Ms>>>13,Ps=_[4]|0,qe=Ps&8191,ze=Ps>>>13,Bs=_[5]|0,He=Bs&8191,Ge=Bs>>>13,Ts=_[6]|0,Ve=Ts&8191,Je=Ts>>>13,Os=_[7]|0,We=Os&8191,Ze=Os>>>13,Cs=_[8]|0,Xe=Cs&8191,Ye=Cs>>>13,Ns=_[9]|0,Qe=Ns&8191,et=Ns>>>13;b.negative=c.negative^d.negative,b.length=19,m=Math.imul(G,L),u=Math.imul(G,de),u=u+Math.imul(F,L)|0,w=Math.imul(F,de);var ma=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ma>>>26)|0,ma&=67108863,m=Math.imul(J,L),u=Math.imul(J,de),u=u+Math.imul(W,L)|0,w=Math.imul(W,de),m=m+Math.imul(G,ge)|0,u=u+Math.imul(G,_e)|0,u=u+Math.imul(F,ge)|0,w=w+Math.imul(F,_e)|0;var _a=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(_a>>>26)|0,_a&=67108863,m=Math.imul(ne,L),u=Math.imul(ne,de),u=u+Math.imul(he,L)|0,w=Math.imul(he,de),m=m+Math.imul(J,ge)|0,u=u+Math.imul(J,_e)|0,u=u+Math.imul(W,ge)|0,w=w+Math.imul(W,_e)|0,m=m+Math.imul(G,De)|0,u=u+Math.imul(G,Ue)|0,u=u+Math.imul(F,De)|0,w=w+Math.imul(F,Ue)|0;var wa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(wa>>>26)|0,wa&=67108863,m=Math.imul(U,L),u=Math.imul(U,de),u=u+Math.imul(V,L)|0,w=Math.imul(V,de),m=m+Math.imul(ne,ge)|0,u=u+Math.imul(ne,_e)|0,u=u+Math.imul(he,ge)|0,w=w+Math.imul(he,_e)|0,m=m+Math.imul(J,De)|0,u=u+Math.imul(J,Ue)|0,u=u+Math.imul(W,De)|0,w=w+Math.imul(W,Ue)|0,m=m+Math.imul(G,$e)|0,u=u+Math.imul(G,Fe)|0,u=u+Math.imul(F,$e)|0,w=w+Math.imul(F,Fe)|0;var Sa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,m=Math.imul(oe,L),u=Math.imul(oe,de),u=u+Math.imul(Q,L)|0,w=Math.imul(Q,de),m=m+Math.imul(U,ge)|0,u=u+Math.imul(U,_e)|0,u=u+Math.imul(V,ge)|0,w=w+Math.imul(V,_e)|0,m=m+Math.imul(ne,De)|0,u=u+Math.imul(ne,Ue)|0,u=u+Math.imul(he,De)|0,w=w+Math.imul(he,Ue)|0,m=m+Math.imul(J,$e)|0,u=u+Math.imul(J,Fe)|0,u=u+Math.imul(W,$e)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(G,qe)|0,u=u+Math.imul(G,ze)|0,u=u+Math.imul(F,qe)|0,w=w+Math.imul(F,ze)|0;var Aa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,m=Math.imul(ue,L),u=Math.imul(ue,de),u=u+Math.imul(le,L)|0,w=Math.imul(le,de),m=m+Math.imul(oe,ge)|0,u=u+Math.imul(oe,_e)|0,u=u+Math.imul(Q,ge)|0,w=w+Math.imul(Q,_e)|0,m=m+Math.imul(U,De)|0,u=u+Math.imul(U,Ue)|0,u=u+Math.imul(V,De)|0,w=w+Math.imul(V,Ue)|0,m=m+Math.imul(ne,$e)|0,u=u+Math.imul(ne,Fe)|0,u=u+Math.imul(he,$e)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(J,qe)|0,u=u+Math.imul(J,ze)|0,u=u+Math.imul(W,qe)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(G,He)|0,u=u+Math.imul(G,Ge)|0,u=u+Math.imul(F,He)|0,w=w+Math.imul(F,Ge)|0;var Ea=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,m=Math.imul(ae,L),u=Math.imul(ae,de),u=u+Math.imul(se,L)|0,w=Math.imul(se,de),m=m+Math.imul(ue,ge)|0,u=u+Math.imul(ue,_e)|0,u=u+Math.imul(le,ge)|0,w=w+Math.imul(le,_e)|0,m=m+Math.imul(oe,De)|0,u=u+Math.imul(oe,Ue)|0,u=u+Math.imul(Q,De)|0,w=w+Math.imul(Q,Ue)|0,m=m+Math.imul(U,$e)|0,u=u+Math.imul(U,Fe)|0,u=u+Math.imul(V,$e)|0,w=w+Math.imul(V,Fe)|0,m=m+Math.imul(ne,qe)|0,u=u+Math.imul(ne,ze)|0,u=u+Math.imul(he,qe)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(J,He)|0,u=u+Math.imul(J,Ge)|0,u=u+Math.imul(W,He)|0,w=w+Math.imul(W,Ge)|0,m=m+Math.imul(G,Ve)|0,u=u+Math.imul(G,Je)|0,u=u+Math.imul(F,Ve)|0,w=w+Math.imul(F,Je)|0;var xa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(xa>>>26)|0,xa&=67108863,m=Math.imul(we,L),u=Math.imul(we,de),u=u+Math.imul(me,L)|0,w=Math.imul(me,de),m=m+Math.imul(ae,ge)|0,u=u+Math.imul(ae,_e)|0,u=u+Math.imul(se,ge)|0,w=w+Math.imul(se,_e)|0,m=m+Math.imul(ue,De)|0,u=u+Math.imul(ue,Ue)|0,u=u+Math.imul(le,De)|0,w=w+Math.imul(le,Ue)|0,m=m+Math.imul(oe,$e)|0,u=u+Math.imul(oe,Fe)|0,u=u+Math.imul(Q,$e)|0,w=w+Math.imul(Q,Fe)|0,m=m+Math.imul(U,qe)|0,u=u+Math.imul(U,ze)|0,u=u+Math.imul(V,qe)|0,w=w+Math.imul(V,ze)|0,m=m+Math.imul(ne,He)|0,u=u+Math.imul(ne,Ge)|0,u=u+Math.imul(he,He)|0,w=w+Math.imul(he,Ge)|0,m=m+Math.imul(J,Ve)|0,u=u+Math.imul(J,Je)|0,u=u+Math.imul(W,Ve)|0,w=w+Math.imul(W,Je)|0,m=m+Math.imul(G,We)|0,u=u+Math.imul(G,Ze)|0,u=u+Math.imul(F,We)|0,w=w+Math.imul(F,Ze)|0;var Ia=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,m=Math.imul(S,L),u=Math.imul(S,de),u=u+Math.imul(f,L)|0,w=Math.imul(f,de),m=m+Math.imul(we,ge)|0,u=u+Math.imul(we,_e)|0,u=u+Math.imul(me,ge)|0,w=w+Math.imul(me,_e)|0,m=m+Math.imul(ae,De)|0,u=u+Math.imul(ae,Ue)|0,u=u+Math.imul(se,De)|0,w=w+Math.imul(se,Ue)|0,m=m+Math.imul(ue,$e)|0,u=u+Math.imul(ue,Fe)|0,u=u+Math.imul(le,$e)|0,w=w+Math.imul(le,Fe)|0,m=m+Math.imul(oe,qe)|0,u=u+Math.imul(oe,ze)|0,u=u+Math.imul(Q,qe)|0,w=w+Math.imul(Q,ze)|0,m=m+Math.imul(U,He)|0,u=u+Math.imul(U,Ge)|0,u=u+Math.imul(V,He)|0,w=w+Math.imul(V,Ge)|0,m=m+Math.imul(ne,Ve)|0,u=u+Math.imul(ne,Je)|0,u=u+Math.imul(he,Ve)|0,w=w+Math.imul(he,Je)|0,m=m+Math.imul(J,We)|0,u=u+Math.imul(J,Ze)|0,u=u+Math.imul(W,We)|0,w=w+Math.imul(W,Ze)|0,m=m+Math.imul(G,Xe)|0,u=u+Math.imul(G,Ye)|0,u=u+Math.imul(F,Xe)|0,w=w+Math.imul(F,Ye)|0;var Ma=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,m=Math.imul(x,L),u=Math.imul(x,de),u=u+Math.imul(T,L)|0,w=Math.imul(T,de),m=m+Math.imul(S,ge)|0,u=u+Math.imul(S,_e)|0,u=u+Math.imul(f,ge)|0,w=w+Math.imul(f,_e)|0,m=m+Math.imul(we,De)|0,u=u+Math.imul(we,Ue)|0,u=u+Math.imul(me,De)|0,w=w+Math.imul(me,Ue)|0,m=m+Math.imul(ae,$e)|0,u=u+Math.imul(ae,Fe)|0,u=u+Math.imul(se,$e)|0,w=w+Math.imul(se,Fe)|0,m=m+Math.imul(ue,qe)|0,u=u+Math.imul(ue,ze)|0,u=u+Math.imul(le,qe)|0,w=w+Math.imul(le,ze)|0,m=m+Math.imul(oe,He)|0,u=u+Math.imul(oe,Ge)|0,u=u+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ge)|0,m=m+Math.imul(U,Ve)|0,u=u+Math.imul(U,Je)|0,u=u+Math.imul(V,Ve)|0,w=w+Math.imul(V,Je)|0,m=m+Math.imul(ne,We)|0,u=u+Math.imul(ne,Ze)|0,u=u+Math.imul(he,We)|0,w=w+Math.imul(he,Ze)|0,m=m+Math.imul(J,Xe)|0,u=u+Math.imul(J,Ye)|0,u=u+Math.imul(W,Xe)|0,w=w+Math.imul(W,Ye)|0,m=m+Math.imul(G,Qe)|0,u=u+Math.imul(G,et)|0,u=u+Math.imul(F,Qe)|0,w=w+Math.imul(F,et)|0;var Pa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,m=Math.imul(x,ge),u=Math.imul(x,_e),u=u+Math.imul(T,ge)|0,w=Math.imul(T,_e),m=m+Math.imul(S,De)|0,u=u+Math.imul(S,Ue)|0,u=u+Math.imul(f,De)|0,w=w+Math.imul(f,Ue)|0,m=m+Math.imul(we,$e)|0,u=u+Math.imul(we,Fe)|0,u=u+Math.imul(me,$e)|0,w=w+Math.imul(me,Fe)|0,m=m+Math.imul(ae,qe)|0,u=u+Math.imul(ae,ze)|0,u=u+Math.imul(se,qe)|0,w=w+Math.imul(se,ze)|0,m=m+Math.imul(ue,He)|0,u=u+Math.imul(ue,Ge)|0,u=u+Math.imul(le,He)|0,w=w+Math.imul(le,Ge)|0,m=m+Math.imul(oe,Ve)|0,u=u+Math.imul(oe,Je)|0,u=u+Math.imul(Q,Ve)|0,w=w+Math.imul(Q,Je)|0,m=m+Math.imul(U,We)|0,u=u+Math.imul(U,Ze)|0,u=u+Math.imul(V,We)|0,w=w+Math.imul(V,Ze)|0,m=m+Math.imul(ne,Xe)|0,u=u+Math.imul(ne,Ye)|0,u=u+Math.imul(he,Xe)|0,w=w+Math.imul(he,Ye)|0,m=m+Math.imul(J,Qe)|0,u=u+Math.imul(J,et)|0,u=u+Math.imul(W,Qe)|0,w=w+Math.imul(W,et)|0;var Ba=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,m=Math.imul(x,De),u=Math.imul(x,Ue),u=u+Math.imul(T,De)|0,w=Math.imul(T,Ue),m=m+Math.imul(S,$e)|0,u=u+Math.imul(S,Fe)|0,u=u+Math.imul(f,$e)|0,w=w+Math.imul(f,Fe)|0,m=m+Math.imul(we,qe)|0,u=u+Math.imul(we,ze)|0,u=u+Math.imul(me,qe)|0,w=w+Math.imul(me,ze)|0,m=m+Math.imul(ae,He)|0,u=u+Math.imul(ae,Ge)|0,u=u+Math.imul(se,He)|0,w=w+Math.imul(se,Ge)|0,m=m+Math.imul(ue,Ve)|0,u=u+Math.imul(ue,Je)|0,u=u+Math.imul(le,Ve)|0,w=w+Math.imul(le,Je)|0,m=m+Math.imul(oe,We)|0,u=u+Math.imul(oe,Ze)|0,u=u+Math.imul(Q,We)|0,w=w+Math.imul(Q,Ze)|0,m=m+Math.imul(U,Xe)|0,u=u+Math.imul(U,Ye)|0,u=u+Math.imul(V,Xe)|0,w=w+Math.imul(V,Ye)|0,m=m+Math.imul(ne,Qe)|0,u=u+Math.imul(ne,et)|0,u=u+Math.imul(he,Qe)|0,w=w+Math.imul(he,et)|0;var Ta=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,m=Math.imul(x,$e),u=Math.imul(x,Fe),u=u+Math.imul(T,$e)|0,w=Math.imul(T,Fe),m=m+Math.imul(S,qe)|0,u=u+Math.imul(S,ze)|0,u=u+Math.imul(f,qe)|0,w=w+Math.imul(f,ze)|0,m=m+Math.imul(we,He)|0,u=u+Math.imul(we,Ge)|0,u=u+Math.imul(me,He)|0,w=w+Math.imul(me,Ge)|0,m=m+Math.imul(ae,Ve)|0,u=u+Math.imul(ae,Je)|0,u=u+Math.imul(se,Ve)|0,w=w+Math.imul(se,Je)|0,m=m+Math.imul(ue,We)|0,u=u+Math.imul(ue,Ze)|0,u=u+Math.imul(le,We)|0,w=w+Math.imul(le,Ze)|0,m=m+Math.imul(oe,Xe)|0,u=u+Math.imul(oe,Ye)|0,u=u+Math.imul(Q,Xe)|0,w=w+Math.imul(Q,Ye)|0,m=m+Math.imul(U,Qe)|0,u=u+Math.imul(U,et)|0,u=u+Math.imul(V,Qe)|0,w=w+Math.imul(V,et)|0;var Oa=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Oa>>>26)|0,Oa&=67108863,m=Math.imul(x,qe),u=Math.imul(x,ze),u=u+Math.imul(T,qe)|0,w=Math.imul(T,ze),m=m+Math.imul(S,He)|0,u=u+Math.imul(S,Ge)|0,u=u+Math.imul(f,He)|0,w=w+Math.imul(f,Ge)|0,m=m+Math.imul(we,Ve)|0,u=u+Math.imul(we,Je)|0,u=u+Math.imul(me,Ve)|0,w=w+Math.imul(me,Je)|0,m=m+Math.imul(ae,We)|0,u=u+Math.imul(ae,Ze)|0,u=u+Math.imul(se,We)|0,w=w+Math.imul(se,Ze)|0,m=m+Math.imul(ue,Xe)|0,u=u+Math.imul(ue,Ye)|0,u=u+Math.imul(le,Xe)|0,w=w+Math.imul(le,Ye)|0,m=m+Math.imul(oe,Qe)|0,u=u+Math.imul(oe,et)|0,u=u+Math.imul(Q,Qe)|0,w=w+Math.imul(Q,et)|0;var Ca=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,m=Math.imul(x,He),u=Math.imul(x,Ge),u=u+Math.imul(T,He)|0,w=Math.imul(T,Ge),m=m+Math.imul(S,Ve)|0,u=u+Math.imul(S,Je)|0,u=u+Math.imul(f,Ve)|0,w=w+Math.imul(f,Je)|0,m=m+Math.imul(we,We)|0,u=u+Math.imul(we,Ze)|0,u=u+Math.imul(me,We)|0,w=w+Math.imul(me,Ze)|0,m=m+Math.imul(ae,Xe)|0,u=u+Math.imul(ae,Ye)|0,u=u+Math.imul(se,Xe)|0,w=w+Math.imul(se,Ye)|0,m=m+Math.imul(ue,Qe)|0,u=u+Math.imul(ue,et)|0,u=u+Math.imul(le,Qe)|0,w=w+Math.imul(le,et)|0;var Na=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Na>>>26)|0,Na&=67108863,m=Math.imul(x,Ve),u=Math.imul(x,Je),u=u+Math.imul(T,Ve)|0,w=Math.imul(T,Je),m=m+Math.imul(S,We)|0,u=u+Math.imul(S,Ze)|0,u=u+Math.imul(f,We)|0,w=w+Math.imul(f,Ze)|0,m=m+Math.imul(we,Xe)|0,u=u+Math.imul(we,Ye)|0,u=u+Math.imul(me,Xe)|0,w=w+Math.imul(me,Ye)|0,m=m+Math.imul(ae,Qe)|0,u=u+Math.imul(ae,et)|0,u=u+Math.imul(se,Qe)|0,w=w+Math.imul(se,et)|0;var ka=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(ka>>>26)|0,ka&=67108863,m=Math.imul(x,We),u=Math.imul(x,Ze),u=u+Math.imul(T,We)|0,w=Math.imul(T,Ze),m=m+Math.imul(S,Xe)|0,u=u+Math.imul(S,Ye)|0,u=u+Math.imul(f,Xe)|0,w=w+Math.imul(f,Ye)|0,m=m+Math.imul(we,Qe)|0,u=u+Math.imul(we,et)|0,u=u+Math.imul(me,Qe)|0,w=w+Math.imul(me,et)|0;var Ra=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,m=Math.imul(x,Xe),u=Math.imul(x,Ye),u=u+Math.imul(T,Xe)|0,w=Math.imul(T,Ye),m=m+Math.imul(S,Qe)|0,u=u+Math.imul(S,et)|0,u=u+Math.imul(f,Qe)|0,w=w+Math.imul(f,et)|0;var La=(I+m|0)+((u&8191)<<13)|0;I=(w+(u>>>13)|0)+(La>>>26)|0,La&=67108863,m=Math.imul(x,Qe),u=Math.imul(x,et),u=u+Math.imul(T,Qe)|0,w=Math.imul(T,et);var Ka=(I+m|0)+((u&8191)<<13)|0;return I=(w+(u>>>13)|0)+(Ka>>>26)|0,Ka&=67108863,P[0]=ma,P[1]=_a,P[2]=wa,P[3]=Sa,P[4]=Aa,P[5]=Ea,P[6]=xa,P[7]=Ia,P[8]=Ma,P[9]=Pa,P[10]=Ba,P[11]=Ta,P[12]=Oa,P[13]=Ca,P[14]=Na,P[15]=ka,P[16]=Ra,P[17]=La,P[18]=Ka,I!==0&&(P[19]=I,b.length++),b};Math.imul||(O=B);function K(M,c,d){d.negative=c.negative^M.negative,d.length=M.length+c.length;for(var b=0,v=0,_=0;_<d.length-1;_++){var P=v;v=0;for(var I=b&67108863,m=Math.min(_,c.length-1),u=Math.max(0,_-M.length+1);u<=m;u++){var w=_-u,$=M.words[w]|0,G=c.words[u]|0,F=$*G,ie=F&67108863;P=P+(F/67108864|0)|0,ie=ie+I|0,I=ie&67108863,P=P+(ie>>>26)|0,v+=P>>>26,P&=67108863}d.words[_]=I,b=P,P=v}return b!==0?d.words[_]=b:d.length--,d.strip()}function D(M,c,d){var b=new H;return b.mulp(M,c,d)}a.prototype.mulTo=function(c,d){var b,v=this.length+c.length;return this.length===10&&c.length===10?b=O(this,c,d):v<63?b=B(this,c,d):v<1024?b=K(this,c,d):b=D(this,c,d),b};function H(M,c){this.x=M,this.y=c}H.prototype.makeRBT=function(c){for(var d=new Array(c),b=a.prototype._countBits(c)-1,v=0;v<c;v++)d[v]=this.revBin(v,b,c);return d},H.prototype.revBin=function(c,d,b){if(c===0||c===b-1)return c;for(var v=0,_=0;_<d;_++)v|=(c&1)<<d-_-1,c>>=1;return v},H.prototype.permute=function(c,d,b,v,_,P){for(var I=0;I<P;I++)v[I]=d[c[I]],_[I]=b[c[I]]},H.prototype.transform=function(c,d,b,v,_,P){this.permute(P,c,d,b,v,_);for(var I=1;I<_;I<<=1)for(var m=I<<1,u=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),$=0;$<_;$+=m)for(var G=u,F=w,ie=0;ie<I;ie++){var J=b[$+ie],W=v[$+ie],pe=b[$+ie+I],ne=v[$+ie+I],he=G*pe-F*ne;ne=G*ne+F*pe,pe=he,b[$+ie]=J+pe,v[$+ie]=W+ne,b[$+ie+I]=J-pe,v[$+ie+I]=W-ne,ie!==m&&(he=u*G-w*F,F=u*F+w*G,G=he)}},H.prototype.guessLen13b=function(c,d){var b=Math.max(d,c)|1,v=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+v},H.prototype.conjugate=function(c,d,b){if(!(b<=1))for(var v=0;v<b/2;v++){var _=c[v];c[v]=c[b-v-1],c[b-v-1]=_,_=d[v],d[v]=-d[b-v-1],d[b-v-1]=-_}},H.prototype.normalize13b=function(c,d){for(var b=0,v=0;v<d/2;v++){var _=Math.round(c[2*v+1]/d)*8192+Math.round(c[2*v]/d)+b;c[v]=_&67108863,_<67108864?b=0:b=_/67108864|0}return c},H.prototype.convert13b=function(c,d,b,v){for(var _=0,P=0;P<d;P++)_=_+(c[P]|0),b[2*P]=_&8191,_=_>>>13,b[2*P+1]=_&8191,_=_>>>13;for(P=2*d;P<v;++P)b[P]=0;n(_===0),n((_&-8192)===0)},H.prototype.stub=function(c){for(var d=new Array(c),b=0;b<c;b++)d[b]=0;return d},H.prototype.mulp=function(c,d,b){var v=2*this.guessLen13b(c.length,d.length),_=this.makeRBT(v),P=this.stub(v),I=new Array(v),m=new Array(v),u=new Array(v),w=new Array(v),$=new Array(v),G=new Array(v),F=b.words;F.length=v,this.convert13b(c.words,c.length,I,v),this.convert13b(d.words,d.length,w,v),this.transform(I,P,m,u,v,_),this.transform(w,P,$,G,v,_);for(var ie=0;ie<v;ie++){var J=m[ie]*$[ie]-u[ie]*G[ie];u[ie]=m[ie]*G[ie]+u[ie]*$[ie],m[ie]=J}return this.conjugate(m,u,v),this.transform(m,u,F,P,v,_),this.conjugate(F,P,v),this.normalize13b(F,v),b.negative=c.negative^d.negative,b.length=c.length+d.length,b.strip()},a.prototype.mul=function(c){var d=new a(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},a.prototype.mulf=function(c){var d=new a(null);return d.words=new Array(this.length+c.length),D(this,c,d)},a.prototype.imul=function(c){return this.clone().mulTo(c,this)},a.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var d=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*c,_=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},a.prototype.muln=function(c){return this.clone().imuln(c)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(c){var d=E(c);if(d.length===0)return new a(1);for(var b=this,v=0;v<d.length&&d[v]===0;v++,b=b.sqr());if(++v<d.length)for(var _=b.sqr();v<d.length;v++,_=_.sqr())d[v]!==0&&(b=b.mul(_));return b},a.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=67108863>>>26-d<<26-d,_;if(d!==0){var P=0;for(_=0;_<this.length;_++){var I=this.words[_]&v,m=(this.words[_]|0)-I<<d;this.words[_]=m|P,P=I>>>26-d}P&&(this.words[_]=P,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},a.prototype.iushrn=function(c,d,b){n(typeof c=="number"&&c>=0);var v;d?v=(d-d%26)/26:v=0;var _=c%26,P=Math.min((c-_)/26,this.length),I=67108863^67108863>>>_<<_,m=b;if(v-=P,v=Math.max(0,v),m){for(var u=0;u<P;u++)m.words[u]=this.words[u];m.length=P}if(P!==0)if(this.length>P)for(this.length-=P,u=0;u<this.length;u++)this.words[u]=this.words[u+P];else this.words[0]=0,this.length=1;var w=0;for(u=this.length-1;u>=0&&(w!==0||u>=v);u--){var $=this.words[u]|0;this.words[u]=w<<26-_|$>>>_,w=$&I}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(c,d,b){return n(this.negative===0),this.iushrn(c,d,b)},a.prototype.shln=function(c){return this.clone().ishln(c)},a.prototype.ushln=function(c){return this.clone().iushln(c)},a.prototype.shrn=function(c){return this.clone().ishrn(c)},a.prototype.ushrn=function(c){return this.clone().iushrn(c)},a.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&v)},a.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,b=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(c){return this.clone().imaskn(c)},a.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},a.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},a.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},a.prototype.addn=function(c){return this.clone().iaddn(c)},a.prototype.subn=function(c){return this.clone().isubn(c)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(c,d,b){var v=c.length+b,_;this._expand(v);var P,I=0;for(_=0;_<c.length;_++){P=(this.words[_+b]|0)+I;var m=(c.words[_]|0)*d;P-=m&67108863,I=(P>>26)-(m/67108864|0),this.words[_+b]=P&67108863}for(;_<this.length-b;_++)P=(this.words[_+b]|0)+I,I=P>>26,this.words[_+b]=P&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,_=0;_<this.length;_++)P=-(this.words[_]|0)+I,I=P>>26,this.words[_]=P&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(c,d){var b=this.length-c.length,v=this.clone(),_=c,P=_.words[_.length-1]|0,I=this._countBits(P);b=26-I,b!==0&&(_=_.ushln(b),v.iushln(b),P=_.words[_.length-1]|0);var m=v.length-_.length,u;if(d!=="mod"){u=new a(null),u.length=m+1,u.words=new Array(u.length);for(var w=0;w<u.length;w++)u.words[w]=0}var $=v.clone()._ishlnsubmul(_,1,m);$.negative===0&&(v=$,u&&(u.words[m]=1));for(var G=m-1;G>=0;G--){var F=(v.words[_.length+G]|0)*67108864+(v.words[_.length+G-1]|0);for(F=Math.min(F/P|0,67108863),v._ishlnsubmul(_,F,G);v.negative!==0;)F--,v.negative=0,v._ishlnsubmul(_,1,G),v.isZero()||(v.negative^=1);u&&(u.words[G]=F)}return u&&u.strip(),v.strip(),d!=="div"&&b!==0&&v.iushrn(b),{div:u||null,mod:v}},a.prototype.divmod=function(c,d,b){if(n(!c.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,_,P;return this.negative!==0&&c.negative===0?(P=this.neg().divmod(c,d),d!=="mod"&&(v=P.div.neg()),d!=="div"&&(_=P.mod.neg(),b&&_.negative!==0&&_.iadd(c)),{div:v,mod:_}):this.negative===0&&c.negative!==0?(P=this.divmod(c.neg(),d),d!=="mod"&&(v=P.div.neg()),{div:v,mod:P.mod}):this.negative&c.negative?(P=this.neg().divmod(c.neg(),d),d!=="div"&&(_=P.mod.neg(),b&&_.negative!==0&&_.isub(c)),{div:P.div,mod:_}):c.length>this.length||this.cmp(c)<0?{div:new a(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new a(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new a(this.modn(c.words[0]))}:this._wordDiv(c,d)},a.prototype.div=function(c){return this.divmod(c,"div",!1).div},a.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},a.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},a.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(c):d.mod,v=c.ushrn(1),_=c.andln(1),P=b.cmp(v);return P<0||_===1&&P===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},a.prototype.modn=function(c){n(c<=67108863);for(var d=(1<<26)%c,b=0,v=this.length-1;v>=0;v--)b=(d*b+(this.words[v]|0))%c;return b},a.prototype.idivn=function(c){n(c<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+d*67108864;this.words[b]=v/c|0,d=v%c}return this.strip()},a.prototype.divn=function(c){return this.clone().idivn(c)},a.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new a(1),_=new a(0),P=new a(0),I=new a(1),m=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++m;for(var u=b.clone(),w=d.clone();!d.isZero();){for(var $=0,G=1;!(d.words[0]&G)&&$<26;++$,G<<=1);if($>0)for(d.iushrn($);$-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(u),_.isub(w)),v.iushrn(1),_.iushrn(1);for(var F=0,ie=1;!(b.words[0]&ie)&&F<26;++F,ie<<=1);if(F>0)for(b.iushrn(F);F-- >0;)(P.isOdd()||I.isOdd())&&(P.iadd(u),I.isub(w)),P.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(P),_.isub(I)):(b.isub(d),P.isub(v),I.isub(_))}return{a:P,b:I,gcd:b.iushln(m)}},a.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,b=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var v=new a(1),_=new a(0),P=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,m=1;!(d.words[0]&m)&&I<26;++I,m<<=1);if(I>0)for(d.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(P),v.iushrn(1);for(var u=0,w=1;!(b.words[0]&w)&&u<26;++u,w<<=1);if(u>0)for(b.iushrn(u);u-- >0;)_.isOdd()&&_.iadd(P),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),v.isub(_)):(b.isub(d),_.isub(v))}var $;return d.cmpn(1)===0?$=v:$=_,$.cmpn(0)<0&&$.iadd(c),$},a.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),b=c.clone();d.negative=0,b.negative=0;for(var v=0;d.isEven()&&b.isEven();v++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var P=d;d=b,b=P}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(v)},a.prototype.invm=function(c){return this.egcd(c).a.umod(c)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(c){return this.words[0]&c},a.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,b=(c-d)/26,v=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var _=v,P=b;_!==0&&P<this.length;P++){var I=this.words[P]|0;I+=_,_=I>>>26,I&=67108863,this.words[P]=I}return _!==0&&(this.words[P]=_,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var v=this.words[0]|0;b=v===c?0:v<c?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},a.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,_=c.words[b]|0;if(v!==_){v<_?d=-1:v>_&&(d=1);break}}return d},a.prototype.gtn=function(c){return this.cmpn(c)===1},a.prototype.gt=function(c){return this.cmp(c)===1},a.prototype.gten=function(c){return this.cmpn(c)>=0},a.prototype.gte=function(c){return this.cmp(c)>=0},a.prototype.ltn=function(c){return this.cmpn(c)===-1},a.prototype.lt=function(c){return this.cmp(c)===-1},a.prototype.lten=function(c){return this.cmpn(c)<=0},a.prototype.lte=function(c){return this.cmp(c)<=0},a.prototype.eqn=function(c){return this.cmpn(c)===0},a.prototype.eq=function(c){return this.cmp(c)===0},a.red=function(c){return new j(c)},a.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(c){return this.red=c,this},a.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},a.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},a.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},a.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},a.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},a.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},a.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},a.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var q={k256:null,p224:null,p192:null,p25519:null};function Y(M,c){this.name=M,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var c=new a(null);return c.words=new Array(Math.ceil(this.n/13)),c},Y.prototype.ireduce=function(c){var d=c,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var v=b<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},Y.prototype.split=function(c,d){c.iushrn(this.n,0,d)},Y.prototype.imulK=function(c){return c.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(C,Y),C.prototype.split=function(c,d){for(var b=4194303,v=Math.min(c.length,9),_=0;_<v;_++)d.words[_]=c.words[_];if(d.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var P=c.words[9];for(d.words[d.length++]=P&b,_=10;_<c.length;_++){var I=c.words[_]|0;c.words[_-10]=(I&b)<<4|P>>>22,P=I}P>>>=22,c.words[_-10]=P,P===0&&c.length>10?c.length-=10:c.length-=9},C.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,b=0;b<c.length;b++){var v=c.words[b]|0;d+=v*977,c.words[b]=d&67108863,d=v*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function z(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,Y);function Z(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,Y);function N(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(N,Y),N.prototype.imulK=function(c){for(var d=0,b=0;b<c.length;b++){var v=(c.words[b]|0)*19+d,_=v&67108863;v>>>=26,c.words[b]=_,d=v}return d!==0&&(c.words[c.length++]=d),c},a._prime=function(c){if(q[c])return q[c];var d;if(c==="k256")d=new C;else if(c==="p224")d=new z;else if(c==="p192")d=new Z;else if(c==="p25519")d=new N;else throw new Error("Unknown prime "+c);return q[c]=d,d};function j(M){if(typeof M=="string"){var c=a._prime(M);this.m=c.p,this.prime=c}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},j.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},j.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},j.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},j.prototype.add=function(c,d){this._verify2(c,d);var b=c.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},j.prototype.iadd=function(c,d){this._verify2(c,d);var b=c.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},j.prototype.sub=function(c,d){this._verify2(c,d);var b=c.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},j.prototype.isub=function(c,d){this._verify2(c,d);var b=c.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},j.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},j.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},j.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},j.prototype.isqr=function(c){return this.imul(c,c.clone())},j.prototype.sqr=function(c){return this.mul(c,c)},j.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(c,b)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);n(!v.isZero());var P=new a(1).toRed(this),I=P.redNeg(),m=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);this.pow(u,m).cmp(I)!==0;)u.redIAdd(I);for(var w=this.pow(u,v),$=this.pow(c,v.addn(1).iushrn(1)),G=this.pow(c,v),F=_;G.cmp(P)!==0;){for(var ie=G,J=0;ie.cmp(P)!==0;J++)ie=ie.redSqr();n(J<F);var W=this.pow(w,new a(1).iushln(F-J-1));$=$.redMul(W),w=W.redSqr(),G=G.redMul(w),F=J}return $},j.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},j.prototype.pow=function(c,d){if(d.isZero())return new a(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var b=4,v=new Array(1<<b);v[0]=new a(1).toRed(this),v[1]=c;for(var _=2;_<v.length;_++)v[_]=this.mul(v[_-1],c);var P=v[0],I=0,m=0,u=d.bitLength()%26;for(u===0&&(u=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],$=u-1;$>=0;$--){var G=w>>$&1;if(P!==v[0]&&(P=this.sqr(P)),G===0&&I===0){m=0;continue}I<<=1,I|=G,m++,!(m!==b&&(_!==0||$!==0))&&(P=this.mul(P,v[I]),m=0,I=0)}u=26}return P},j.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},j.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},a.mont=function(c){return new te(c)};function te(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(te,j),te.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},te.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},te.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(v).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},te.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new a(0)._forceRed(this);var b=c.mul(d),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(v).iushrn(this.shift),P=_;return _.cmp(this.m)>=0?P=_.isub(this.m):_.cmpn(0)<0&&(P=_.iadd(this.m)),P._forceRed(this)},te.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,X)})(Jo);var fr=Jo.exports,$r=Cu;function Cu(e,t){if(!e)throw new Error(t||"Assertion failed")}Cu.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var Zo={};(function(e){var t=e;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)o[h]=a[h]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)o.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var g=a.charCodeAt(h),p=g>>8,y=g&255;p?o.push(p,y):o.push(y)}return o}t.toArray=r;function n(a){return a.length===1?"0"+a:a}t.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}t.toHex=i,t.encode=function(s,o){return o==="hex"?i(s):s}})(Zo);(function(e){var t=e,r=fr,n=$r,i=Zo;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function a(p,y,A){var E=new Array(Math.max(p.bitLength(),A)+1),B;for(B=0;B<E.length;B+=1)E[B]=0;var O=1<<y+1,K=p.clone();for(B=0;B<E.length;B++){var D,H=K.andln(O-1);K.isOdd()?(H>(O>>1)-1?D=(O>>1)-H:D=H,K.isubn(D)):D=0,E[B]=D,K.iushrn(1)}return E}t.getNAF=a;function s(p,y){var A=[[],[]];p=p.clone(),y=y.clone();for(var E=0,B=0,O;p.cmpn(-E)>0||y.cmpn(-B)>0;){var K=p.andln(3)+E&3,D=y.andln(3)+B&3;K===3&&(K=-1),D===3&&(D=-1);var H;K&1?(O=p.andln(7)+E&7,(O===3||O===5)&&D===2?H=-K:H=K):H=0,A[0].push(H);var q;D&1?(O=y.andln(7)+B&7,(O===3||O===5)&&K===2?q=-D:q=D):q=0,A[1].push(q),2*E===H+1&&(E=1-E),2*B===q+1&&(B=1-B),p.iushrn(1),y.iushrn(1)}return A}t.getJSF=s;function o(p,y,A){var E="_"+y;p.prototype[y]=function(){return this[E]!==void 0?this[E]:this[E]=A.call(this)}}t.cachedProperty=o;function h(p){return typeof p=="string"?t.toArray(p,"hex"):p}t.parseBytes=h;function g(p){return new r(p,"hex","le")}t.intFromLE=g})(_t);var Xo={exports:{}},Ha;Xo.exports=function(t){return Ha||(Ha=new _r(null)),Ha.generate(t)};function _r(e){this.rand=e}Xo.exports.Rand=_r;_r.prototype.generate=function(t){return this._rand(t)};_r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?_r.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?_r.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(_r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Hs=Wo;if(typeof Hs.randomBytes!="function")throw new Error("Not supported");_r.prototype._rand=function(t){return Hs.randomBytes(t)}}catch{}var Nu=Xo.exports,Yo={},Or=fr,$n=_t,ci=$n.getNAF,Wh=$n.getJSF,ui=$n.assert;function Pr(e,t){this.type=e,this.p=new Or(t.p,16),this.red=t.prime?Or.red(t.prime):Or.mont(this.p),this.zero=new Or(0).toRed(this.red),this.one=new Or(1).toRed(this.red),this.two=new Or(2).toRed(this.red),this.n=t.n&&new Or(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ji=Pr;Pr.prototype.point=function(){throw new Error("Not implemented")};Pr.prototype.validate=function(){throw new Error("Not implemented")};Pr.prototype._fixedNafMul=function(t,r){ui(t.precomputed);var n=t._getDoubles(),i=ci(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,h;for(o=0;o<i.length;o+=n.step){h=0;for(var g=o+n.step-1;g>=o;g--)h=(h<<1)+i[g];s.push(h)}for(var p=this.jpoint(null,null,null),y=this.jpoint(null,null,null),A=a;A>0;A--){for(o=0;o<s.length;o++)h=s[o],h===A?y=y.mixedAdd(n.points[o]):h===-A&&(y=y.mixedAdd(n.points[o].neg()));p=p.add(y)}return p.toP()};Pr.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=ci(r,n,this._bitLength),o=this.jpoint(null,null,null),h=s.length-1;h>=0;h--){for(var g=0;h>=0&&s[h]===0;h--)g++;if(h>=0&&g++,o=o.dblp(g),h<0)break;var p=s[h];ui(p!==0),t.type==="affine"?p>0?o=o.mixedAdd(a[p-1>>1]):o=o.mixedAdd(a[-p-1>>1].neg()):p>0?o=o.add(a[p-1>>1]):o=o.add(a[-p-1>>1].neg())}return t.type==="affine"?o.toP():o};Pr.prototype._wnafMulAdd=function(t,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,h=this._wnafT3,g=0,p,y,A;for(p=0;p<i;p++){A=r[p];var E=A._getNAFPoints(t);s[p]=E.wnd,o[p]=E.points}for(p=i-1;p>=1;p-=2){var B=p-1,O=p;if(s[B]!==1||s[O]!==1){h[B]=ci(n[B],s[B],this._bitLength),h[O]=ci(n[O],s[O],this._bitLength),g=Math.max(h[B].length,g),g=Math.max(h[O].length,g);continue}var K=[r[B],null,null,r[O]];r[B].y.cmp(r[O].y)===0?(K[1]=r[B].add(r[O]),K[2]=r[B].toJ().mixedAdd(r[O].neg())):r[B].y.cmp(r[O].y.redNeg())===0?(K[1]=r[B].toJ().mixedAdd(r[O]),K[2]=r[B].add(r[O].neg())):(K[1]=r[B].toJ().mixedAdd(r[O]),K[2]=r[B].toJ().mixedAdd(r[O].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],H=Wh(n[B],n[O]);for(g=Math.max(H[0].length,g),h[B]=new Array(g),h[O]=new Array(g),y=0;y<g;y++){var q=H[0][y]|0,Y=H[1][y]|0;h[B][y]=D[(q+1)*3+(Y+1)],h[O][y]=0,o[B]=K}}var C=this.jpoint(null,null,null),z=this._wnafT4;for(p=g;p>=0;p--){for(var Z=0;p>=0;){var N=!0;for(y=0;y<i;y++)z[y]=h[y][p]|0,z[y]!==0&&(N=!1);if(!N)break;Z++,p--}if(p>=0&&Z++,C=C.dblp(Z),p<0)break;for(y=0;y<i;y++){var j=z[y];j!==0&&(j>0?A=o[y][j-1>>1]:j<0&&(A=o[y][-j-1>>1].neg()),A.type==="affine"?C=C.mixedAdd(A):C=C.add(A))}}for(p=0;p<i;p++)o[p]=null;return a?C:C.toP()};function Tt(e,t){this.curve=e,this.type=t,this.precomputed=null}Pr.BasePoint=Tt;Tt.prototype.eq=function(){throw new Error("Not implemented")};Tt.prototype.validate=function(){return this.curve.validate(this)};Pr.prototype.decodePoint=function(t,r){t=$n.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?ui(t[t.length-1]%2===0):t[0]===7&&ui(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Tt.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Tt.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Tt.prototype.encode=function(t,r){return $n.encode(this._encode(r),t)};Tt.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Tt.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Tt.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Tt.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:t,points:r}};Tt.prototype._getBeta=function(){return null};Tt.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Io={exports:{}};typeof Object.create=="function"?Io.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Io.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Di=Io.exports,Zh=_t,Le=fr,Qo=Di,ln=ji,Xh=Zh.assert;function Ot(e){ln.call(this,"short",e),this.a=new Le(e.a,16).toRed(this.red),this.b=new Le(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Qo(Ot,ln);var Yh=Ot;Ot.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Le(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new Le(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],Xh(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new Le(o.a,16),b:new Le(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ot.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:Le.mont(t),n=new Le(2).toRed(r).redInvm(),i=n.redNeg(),a=new Le(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ot.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),a=new Le(1),s=new Le(0),o=new Le(0),h=new Le(1),g,p,y,A,E,B,O,K=0,D,H;n.cmpn(0)!==0;){var q=i.div(n);D=i.sub(q.mul(n)),H=o.sub(q.mul(a));var Y=h.sub(q.mul(s));if(!y&&D.cmp(r)<0)g=O.neg(),p=a,y=D.neg(),A=H;else if(y&&++K===2)break;O=D,i=n,n=D,o=a,a=H,h=s,s=Y}E=D.neg(),B=H;var C=y.sqr().add(A.sqr()),z=E.sqr().add(B.sqr());return z.cmp(C)>=0&&(E=g,B=p),y.negative&&(y=y.neg(),A=A.neg()),E.negative&&(E=E.neg(),B=B.neg()),[{a:y,b:A},{a:E,b:B}]};Ot.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=a.mul(n.a),h=s.mul(i.a),g=a.mul(n.b),p=s.mul(i.b),y=t.sub(o).sub(h),A=g.add(p).neg();return{k1:y,k2:A}};Ot.prototype.pointFromX=function(t,r){t=new Le(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(t,i)};Ot.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ot.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),h=t[s],g=h._getBeta();o.k1.negative&&(o.k1.ineg(),h=h.neg(!0)),o.k2.negative&&(o.k2.ineg(),g=g.neg(!0)),i[s*2]=h,i[s*2+1]=g,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var p=this._wnafMulAdd(1,i,a,s*2,n),y=0;y<s*2;y++)i[y]=null,a[y]=null;return p};function at(e,t,r,n){ln.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Le(t,16),this.y=new Le(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Qo(at,ln.BasePoint);Ot.prototype.point=function(t,r,n){return new at(this,t,r,n)};Ot.prototype.pointFromJSON=function(t,r){return at.fromJSON(this,t,r)};at.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};at.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};at.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function a(o){return t.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};at.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};at.prototype.isInfinity=function(){return this.inf};at.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};at.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};at.prototype.getX=function(){return this.x.fromRed()};at.prototype.getY=function(){return this.y.fromRed()};at.prototype.mul=function(t){return t=new Le(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};at.prototype.mulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};at.prototype.jmulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};at.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};at.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};at.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function st(e,t,r,n){ln.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Le(0)):(this.x=new Le(t,16),this.y=new Le(r,16),this.z=new Le(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Qo(st,ln.BasePoint);Ot.prototype.jpoint=function(t,r,n){return new st(this,t,r,n)};st.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};st.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};st.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),h=i.redSub(a),g=s.redSub(o);if(h.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=h.redSqr(),y=p.redMul(h),A=i.redMul(p),E=g.redSqr().redIAdd(y).redISub(A).redISub(A),B=g.redMul(A.redISub(E)).redISub(s.redMul(y)),O=this.z.redMul(t.z).redMul(h);return this.curve.jpoint(E,B,O)};st.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),a=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(i),h=a.redSub(s);if(o.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=o.redSqr(),p=g.redMul(o),y=n.redMul(g),A=h.redSqr().redIAdd(p).redISub(y).redISub(y),E=h.redMul(y.redISub(A)).redISub(a.redMul(p)),B=this.z.redMul(o);return this.curve.jpoint(A,E,B)};st.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,h=this.z,g=h.redSqr().redSqr(),p=o.redAdd(o);for(r=0;r<t;r++){var y=s.redSqr(),A=p.redSqr(),E=A.redSqr(),B=y.redAdd(y).redIAdd(y).redIAdd(i.redMul(g)),O=s.redMul(A),K=B.redSqr().redISub(O.redAdd(O)),D=O.redISub(K),H=B.redMul(D);H=H.redIAdd(H).redISub(E);var q=p.redMul(h);r+1<t&&(g=g.redMul(E)),s=K,h=q,p=H}return this.curve.jpoint(s,p.redMul(a),h)};st.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};st.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var h=i.redAdd(i).redIAdd(i),g=h.redSqr().redISub(o).redISub(o),p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),t=g,r=h.redMul(o.redISub(g)).redISub(p),n=this.y.redAdd(this.y)}else{var y=this.x.redSqr(),A=this.y.redSqr(),E=A.redSqr(),B=this.x.redAdd(A).redSqr().redISub(y).redISub(E);B=B.redIAdd(B);var O=y.redAdd(y).redIAdd(y),K=O.redSqr(),D=E.redIAdd(E);D=D.redIAdd(D),D=D.redIAdd(D),t=K.redISub(B).redISub(B),r=O.redMul(B.redISub(t)).redISub(D),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};st.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var h=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),g=h.redSqr().redISub(o).redISub(o);t=g;var p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),r=h.redMul(o.redISub(g)).redISub(p),n=this.y.redAdd(this.y)}else{var y=this.z.redSqr(),A=this.y.redSqr(),E=this.x.redMul(A),B=this.x.redSub(y).redMul(this.x.redAdd(y));B=B.redAdd(B).redIAdd(B);var O=E.redIAdd(E);O=O.redIAdd(O);var K=O.redAdd(O);t=B.redSqr().redISub(K),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(y);var D=A.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),r=B.redMul(O.redISub(t)).redISub(D)}return this.curve.jpoint(t,r,n)};st.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),h=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(a)),g=r.redAdd(r);g=g.redIAdd(g);var p=g.redMul(o),y=h.redSqr().redISub(p.redAdd(p)),A=p.redISub(y),E=o.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var B=h.redMul(A).redISub(E),O=n.redAdd(n).redMul(i);return this.curve.jpoint(y,B,O)};st.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=t.redAdd(t).redIAdd(t),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var h=o.redSqr(),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var p=a.redIAdd(o).redSqr().redISub(s).redISub(h).redISub(g),y=r.redMul(p);y=y.redIAdd(y),y=y.redIAdd(y);var A=this.x.redMul(h).redISub(y);A=A.redIAdd(A),A=A.redIAdd(A);var E=this.y.redMul(p.redMul(g.redISub(p)).redISub(o.redMul(h)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var B=this.z.redAdd(o).redSqr().redISub(n).redISub(h);return this.curve.jpoint(A,E,B)};st.prototype.mul=function(t,r){return t=new Le(t,r),this.curve._wnafMul(this,t)};st.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(i)).cmpn(0)===0};st.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};st.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};st.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Wr=fr,ku=Di,Ui=ji,Qh=_t;function hn(e){Ui.call(this,"mont",e),this.a=new Wr(e.a,16).toRed(this.red),this.b=new Wr(e.b,16).toRed(this.red),this.i4=new Wr(4).toRed(this.red).redInvm(),this.two=new Wr(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ku(hn,Ui);var e1=hn;hn.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function it(e,t,r){Ui.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Wr(t,16),this.z=new Wr(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ku(it,Ui.BasePoint);hn.prototype.decodePoint=function(t,r){return this.point(Qh.toArray(t,r),1)};hn.prototype.point=function(t,r){return new it(this,t,r)};hn.prototype.pointFromJSON=function(t){return it.fromJSON(this,t)};it.prototype.precompute=function(){};it.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};it.fromJSON=function(t,r){return new it(t,r[0],r[1]||t.one)};it.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};it.prototype.isInfinity=function(){return this.z.cmpn(0)===0};it.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};it.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};it.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),h=a.redMul(i),g=r.z.redMul(o.redAdd(h).redSqr()),p=r.x.redMul(o.redISub(h).redSqr());return this.curve.point(g,p)};it.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};it.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};it.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};it.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};it.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};it.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var t1=_t,ar=fr,Ru=Di,$i=ji,r1=t1.assert;function er(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,$i.call(this,"edwards",e),this.a=new ar(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ar(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ar(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r1(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}Ru(er,$i);var n1=er;er.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};er.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};er.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};er.prototype.pointFromX=function(t,r){t=new ar(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var h=o.fromRed().isOdd();return(r&&!h||!r&&h)&&(o=o.redNeg()),this.point(t,o)};er.prototype.pointFromY=function(t,r){t=new ar(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};er.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function ke(e,t,r,n,i){$i.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ar(t,16),this.y=new ar(r,16),this.z=n?new ar(n,16):this.curve.one,this.t=i&&new ar(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ru(ke,$i.BasePoint);er.prototype.pointFromJSON=function(t){return ke.fromJSON(this,t)};er.prototype.point=function(t,r,n,i){return new ke(this,t,r,n,i)};ke.fromJSON=function(t,r){return new ke(t,r[0],r[1],r[2])};ke.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ke.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ke.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),a=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),o=s.redSub(n),h=i.redSub(r),g=a.redMul(o),p=s.redMul(h),y=a.redMul(h),A=o.redMul(s);return this.curve.point(g,p,A,y)};ke.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,h,g;if(this.curve.twisted){o=this.curve._mulA(r);var p=o.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(p.redSub(this.curve.two)),a=p.redMul(o.redSub(n)),s=p.redSqr().redSub(p).redSub(p)):(h=this.z.redSqr(),g=p.redSub(h).redISub(h),i=t.redSub(r).redISub(n).redMul(g),a=p.redMul(o.redSub(n)),s=p.redMul(g))}else o=r.redAdd(n),h=this.curve._mulC(this.z).redSqr(),g=o.redSub(h).redSub(h),i=this.curve._mulC(t.redISub(o)).redMul(g),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(g);return this.curve.point(i,a,s)};ke.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ke.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),a=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=a.redSub(i),h=a.redAdd(i),g=n.redAdd(r),p=s.redMul(o),y=h.redMul(g),A=s.redMul(g),E=o.redMul(h);return this.curve.point(p,y,E,A)};ke.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),h=n.redAdd(s),g=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(a),p=r.redMul(o).redMul(g),y,A;return this.curve.twisted?(y=r.redMul(h).redMul(a.redSub(this.curve._mulA(i))),A=o.redMul(h)):(y=r.redMul(h).redMul(a.redSub(i)),A=this.curve._mulC(o).redMul(h)),this.curve.point(p,y,A)};ke.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};ke.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};ke.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};ke.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};ke.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};ke.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ke.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ke.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ke.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};ke.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};ke.prototype.toP=ke.prototype.normalize;ke.prototype.mixedAdd=ke.prototype.add;(function(e){var t=e;t.base=ji,t.short=Yh,t.mont=e1,t.edwards=n1})(Yo);var Fi={},qi={},Ae={},i1=$r,a1=Di;Ae.inherits=a1;function o1(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function s1(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):o1(e,i)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}Ae.toArray=s1;function c1(e){for(var t="",r=0;r<e.length;r++)t+=Ku(e[r].toString(16));return t}Ae.toHex=c1;function Lu(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Ae.htonl=Lu;function u1(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=Lu(i)),r+=ju(i.toString(16))}return r}Ae.toHex32=u1;function Ku(e){return e.length===1?"0"+e:e}Ae.zero2=Ku;function ju(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Ae.zero8=ju;function f1(e,t,r,n){var i=r-t;i1(i%4===0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var h;n==="big"?h=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:h=e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=h>>>0}return a}Ae.join32=f1;function d1(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];t==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ae.split32=d1;function l1(e,t){return e>>>t|e<<32-t}Ae.rotr32=l1;function h1(e,t){return e<<t|e>>>32-t}Ae.rotl32=h1;function b1(e,t){return e+t>>>0}Ae.sum32=b1;function p1(e,t,r){return e+t+r>>>0}Ae.sum32_3=p1;function y1(e,t,r,n){return e+t+r+n>>>0}Ae.sum32_4=y1;function v1(e,t,r,n,i){return e+t+r+n+i>>>0}Ae.sum32_5=v1;function g1(e,t,r,n){var i=e[t],a=e[t+1],s=n+a>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s}Ae.sum64=g1;function m1(e,t,r,n){var i=t+n>>>0,a=(i<t?1:0)+e+r;return a>>>0}Ae.sum64_hi=m1;function _1(e,t,r,n){var i=t+n;return i>>>0}Ae.sum64_lo=_1;function w1(e,t,r,n,i,a,s,o){var h=0,g=t;g=g+n>>>0,h+=g<t?1:0,g=g+a>>>0,h+=g<a?1:0,g=g+o>>>0,h+=g<o?1:0;var p=e+r+i+s+h;return p>>>0}Ae.sum64_4_hi=w1;function S1(e,t,r,n,i,a,s,o){var h=t+n+a+o;return h>>>0}Ae.sum64_4_lo=S1;function A1(e,t,r,n,i,a,s,o,h,g){var p=0,y=t;y=y+n>>>0,p+=y<t?1:0,y=y+a>>>0,p+=y<a?1:0,y=y+o>>>0,p+=y<o?1:0,y=y+g>>>0,p+=y<g?1:0;var A=e+r+i+s+h+p;return A>>>0}Ae.sum64_5_hi=A1;function E1(e,t,r,n,i,a,s,o,h,g){var p=t+n+a+o+g;return p>>>0}Ae.sum64_5_lo=E1;function x1(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Ae.rotr64_hi=x1;function I1(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Ae.rotr64_lo=I1;function M1(e,t,r){return e>>>r}Ae.shr64_hi=M1;function P1(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Ae.shr64_lo=P1;var bn={},Gs=Ae,B1=$r;function zi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}bn.BlockHash=zi;zi.prototype.update=function(t,r){if(t=Gs.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=Gs.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};zi.prototype.digest=function(t){return this.update(this._pad()),B1(this.pending===null),this._digest(t)};zi.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=t>>>24&255,i[a++]=t>>>16&255,i[a++]=t>>>8&255,i[a++]=t&255}else for(i[a++]=t&255,i[a++]=t>>>8&255,i[a++]=t>>>16&255,i[a++]=t>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var pn={},tr={},T1=Ae,Jt=T1.rotr32;function O1(e,t,r,n){if(e===0)return Du(t,r,n);if(e===1||e===3)return $u(t,r,n);if(e===2)return Uu(t,r,n)}tr.ft_1=O1;function Du(e,t,r){return e&t^~e&r}tr.ch32=Du;function Uu(e,t,r){return e&t^e&r^t&r}tr.maj32=Uu;function $u(e,t,r){return e^t^r}tr.p32=$u;function C1(e){return Jt(e,2)^Jt(e,13)^Jt(e,22)}tr.s0_256=C1;function N1(e){return Jt(e,6)^Jt(e,11)^Jt(e,25)}tr.s1_256=N1;function k1(e){return Jt(e,7)^Jt(e,18)^e>>>3}tr.g0_256=k1;function R1(e){return Jt(e,17)^Jt(e,19)^e>>>10}tr.g1_256=R1;var rn=Ae,L1=bn,K1=tr,Ga=rn.rotl32,xn=rn.sum32,j1=rn.sum32_5,D1=K1.ft_1,Fu=L1.BlockHash,U1=[1518500249,1859775393,2400959708,3395469782];function Xt(){if(!(this instanceof Xt))return new Xt;Fu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}rn.inherits(Xt,Fu);var $1=Xt;Xt.blockSize=512;Xt.outSize=160;Xt.hmacStrength=80;Xt.padLength=64;Xt.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=Ga(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],h=this.h[3],g=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),y=j1(Ga(a,5),D1(p,s,o,h),g,n[i],U1[p]);g=h,h=o,o=Ga(s,30),s=a,a=y}this.h[0]=xn(this.h[0],a),this.h[1]=xn(this.h[1],s),this.h[2]=xn(this.h[2],o),this.h[3]=xn(this.h[3],h),this.h[4]=xn(this.h[4],g)};Xt.prototype._digest=function(t){return t==="hex"?rn.toHex32(this.h,"big"):rn.split32(this.h,"big")};var nn=Ae,F1=bn,yn=tr,q1=$r,kt=nn.sum32,z1=nn.sum32_4,H1=nn.sum32_5,G1=yn.ch32,V1=yn.maj32,J1=yn.s0_256,W1=yn.s1_256,Z1=yn.g0_256,X1=yn.g1_256,qu=F1.BlockHash,Y1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yt(){if(!(this instanceof Yt))return new Yt;qu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Y1,this.W=new Array(64)}nn.inherits(Yt,qu);var zu=Yt;Yt.blockSize=512;Yt.outSize=256;Yt.hmacStrength=192;Yt.padLength=64;Yt.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=z1(X1(n[i-2]),n[i-7],Z1(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],h=this.h[3],g=this.h[4],p=this.h[5],y=this.h[6],A=this.h[7];for(q1(this.k.length===n.length),i=0;i<n.length;i++){var E=H1(A,W1(g),G1(g,p,y),this.k[i],n[i]),B=kt(J1(a),V1(a,s,o));A=y,y=p,p=g,g=kt(h,E),h=o,o=s,s=a,a=kt(E,B)}this.h[0]=kt(this.h[0],a),this.h[1]=kt(this.h[1],s),this.h[2]=kt(this.h[2],o),this.h[3]=kt(this.h[3],h),this.h[4]=kt(this.h[4],g),this.h[5]=kt(this.h[5],p),this.h[6]=kt(this.h[6],y),this.h[7]=kt(this.h[7],A)};Yt.prototype._digest=function(t){return t==="hex"?nn.toHex32(this.h,"big"):nn.split32(this.h,"big")};var Mo=Ae,Hu=zu;function sr(){if(!(this instanceof sr))return new sr;Hu.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Mo.inherits(sr,Hu);var Q1=sr;sr.blockSize=512;sr.outSize=224;sr.hmacStrength=192;sr.padLength=64;sr.prototype._digest=function(t){return t==="hex"?Mo.toHex32(this.h.slice(0,7),"big"):Mo.split32(this.h.slice(0,7),"big")};var bt=Ae,eb=bn,tb=$r,Wt=bt.rotr64_hi,Zt=bt.rotr64_lo,Gu=bt.shr64_hi,Vu=bt.shr64_lo,br=bt.sum64,Va=bt.sum64_hi,Ja=bt.sum64_lo,rb=bt.sum64_4_hi,nb=bt.sum64_4_lo,ib=bt.sum64_5_hi,ab=bt.sum64_5_lo,Ju=eb.BlockHash,ob=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Dt(){if(!(this instanceof Dt))return new Dt;Ju.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ob,this.W=new Array(160)}bt.inherits(Dt,Ju);var Wu=Dt;Dt.blockSize=1024;Dt.outSize=512;Dt.hmacStrength=192;Dt.padLength=128;Dt.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var a=vb(n[i-4],n[i-3]),s=gb(n[i-4],n[i-3]),o=n[i-14],h=n[i-13],g=pb(n[i-30],n[i-29]),p=yb(n[i-30],n[i-29]),y=n[i-32],A=n[i-31];n[i]=rb(a,s,o,h,g,p,y,A),n[i+1]=nb(a,s,o,h,g,p,y,A)}};Dt.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],h=this.h[4],g=this.h[5],p=this.h[6],y=this.h[7],A=this.h[8],E=this.h[9],B=this.h[10],O=this.h[11],K=this.h[12],D=this.h[13],H=this.h[14],q=this.h[15];tb(this.k.length===n.length);for(var Y=0;Y<n.length;Y+=2){var C=H,z=q,Z=hb(A,E),N=bb(A,E),j=sb(A,E,B,O,K),te=cb(A,E,B,O,K,D),M=this.k[Y],c=this.k[Y+1],d=n[Y],b=n[Y+1],v=ib(C,z,Z,N,j,te,M,c,d,b),_=ab(C,z,Z,N,j,te,M,c,d,b);C=db(i,a),z=lb(i,a),Z=ub(i,a,s,o,h),N=fb(i,a,s,o,h,g);var P=Va(C,z,Z,N),I=Ja(C,z,Z,N);H=K,q=D,K=B,D=O,B=A,O=E,A=Va(p,y,v,_),E=Ja(y,y,v,_),p=h,y=g,h=s,g=o,s=i,o=a,i=Va(v,_,P,I),a=Ja(v,_,P,I)}br(this.h,0,i,a),br(this.h,2,s,o),br(this.h,4,h,g),br(this.h,6,p,y),br(this.h,8,A,E),br(this.h,10,B,O),br(this.h,12,K,D),br(this.h,14,H,q)};Dt.prototype._digest=function(t){return t==="hex"?bt.toHex32(this.h,"big"):bt.split32(this.h,"big")};function sb(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function cb(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function ub(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function fb(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function db(e,t){var r=Wt(e,t,28),n=Wt(t,e,2),i=Wt(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function lb(e,t){var r=Zt(e,t,28),n=Zt(t,e,2),i=Zt(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function hb(e,t){var r=Wt(e,t,14),n=Wt(e,t,18),i=Wt(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function bb(e,t){var r=Zt(e,t,14),n=Zt(e,t,18),i=Zt(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function pb(e,t){var r=Wt(e,t,1),n=Wt(e,t,8),i=Gu(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function yb(e,t){var r=Zt(e,t,1),n=Zt(e,t,8),i=Vu(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function vb(e,t){var r=Wt(e,t,19),n=Wt(t,e,29),i=Gu(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}function gb(e,t){var r=Zt(e,t,19),n=Zt(t,e,29),i=Vu(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}var Po=Ae,Zu=Wu;function cr(){if(!(this instanceof cr))return new cr;Zu.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Po.inherits(cr,Zu);var mb=cr;cr.blockSize=1024;cr.outSize=384;cr.hmacStrength=192;cr.padLength=128;cr.prototype._digest=function(t){return t==="hex"?Po.toHex32(this.h.slice(0,12),"big"):Po.split32(this.h.slice(0,12),"big")};pn.sha1=$1;pn.sha224=Q1;pn.sha256=zu;pn.sha384=mb;pn.sha512=Wu;var Xu={},Lr=Ae,_b=bn,Xn=Lr.rotl32,Vs=Lr.sum32,In=Lr.sum32_3,Js=Lr.sum32_4,Yu=_b.BlockHash;function Qt(){if(!(this instanceof Qt))return new Qt;Yu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Lr.inherits(Qt,Yu);Xu.ripemd160=Qt;Qt.blockSize=512;Qt.outSize=160;Qt.hmacStrength=192;Qt.padLength=64;Qt.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],h=n,g=i,p=a,y=s,A=o,E=0;E<80;E++){var B=Vs(Xn(Js(n,Ws(E,i,a,s),t[Ab[E]+r],wb(E)),xb[E]),o);n=o,o=s,s=Xn(a,10),a=i,i=B,B=Vs(Xn(Js(h,Ws(79-E,g,p,y),t[Eb[E]+r],Sb(E)),Ib[E]),A),h=A,A=y,y=Xn(p,10),p=g,g=B}B=In(this.h[1],a,y),this.h[1]=In(this.h[2],s,A),this.h[2]=In(this.h[3],o,h),this.h[3]=In(this.h[4],n,g),this.h[4]=In(this.h[0],i,p),this.h[0]=B};Qt.prototype._digest=function(t){return t==="hex"?Lr.toHex32(this.h,"little"):Lr.split32(this.h,"little")};function Ws(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function wb(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Sb(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Ab=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Eb=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xb=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ib=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Mb=Ae,Pb=$r;function an(e,t,r){if(!(this instanceof an))return new an(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Mb.toArray(t,r))}var Bb=an;an.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),Pb(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};an.prototype.update=function(t,r){return this.inner.update(t,r),this};an.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Ae,t.common=bn,t.sha=pn,t.ripemd=Xu,t.hmac=Bb,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(qi);var Wa,Zs;function Tb(){return Zs||(Zs=1,Wa={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Wa}(function(e){var t=e,r=qi,n=Yo,i=_t,a=i.assert;function s(g){g.type==="short"?this.curve=new n.short(g):g.type==="edwards"?this.curve=new n.edwards(g):this.curve=new n.mont(g),this.g=this.curve.g,this.n=this.curve.n,this.hash=g.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function o(g,p){Object.defineProperty(t,g,{configurable:!0,enumerable:!0,get:function(){var y=new s(p);return Object.defineProperty(t,g,{configurable:!0,enumerable:!0,value:y}),y}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=Tb()}catch{h=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})})(Fi);var Ob=qi,kr=Zo,Qu=$r;function Sr(e){if(!(this instanceof Sr))return new Sr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=kr.toArray(e.entropy,e.entropyEnc||"hex"),r=kr.toArray(e.nonce,e.nonceEnc||"hex"),n=kr.toArray(e.pers,e.persEnc||"hex");Qu(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Cb=Sr;Sr.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Sr.prototype._hmac=function(){return new Ob.hmac(this.hash,this.K)};Sr.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Sr.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=kr.toArray(t,r),n=kr.toArray(n,i),Qu(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Sr.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=kr.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<t;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,t);return this._update(n),this._reseed++,kr.encode(s,r)};var Nb=fr,kb=_t,Bo=kb.assert;function ut(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Rb=ut;ut.fromPublic=function(t,r,n){return r instanceof ut?r:new ut(t,{pub:r,pubEnc:n})};ut.fromPrivate=function(t,r,n){return r instanceof ut?r:new ut(t,{priv:r,privEnc:n})};ut.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ut.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};ut.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};ut.prototype._importPrivate=function(t,r){this.priv=new Nb(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ut.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?Bo(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Bo(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};ut.prototype.derive=function(t){return t.validate()||Bo(t.validate(),"public point not validated"),t.mul(this.priv).getX()};ut.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};ut.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};ut.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var fi=fr,es=_t,Lb=es.assert;function Hi(e,t){if(e instanceof Hi)return e;this._importDER(e,t)||(Lb(e.r&&e.s,"Signature without r or s"),this.r=new fi(e.r,16),this.s=new fi(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Kb=Hi;function jb(){this.place=0}function Za(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function Xs(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Hi.prototype._importDER=function(t,r){t=es.toArray(t,r);var n=new jb;if(t[n.place++]!==48)return!1;var i=Za(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var a=Za(t,n);if(a===!1||t[n.place]&128)return!1;var s=t.slice(n.place,a+n.place);if(n.place+=a,t[n.place++]!==2)return!1;var o=Za(t,n);if(o===!1||t.length!==o+n.place||t[n.place]&128)return!1;var h=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new fi(s),this.s=new fi(h),this.recoveryParam=null,!0};function Xa(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Hi.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Xs(r),n=Xs(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Xa(i,r.length),i=i.concat(r),i.push(2),Xa(i,n.length);var a=i.concat(n),s=[48];return Xa(s,a.length),s=s.concat(a),es.encode(s,t)};var Rr=fr,ef=Cb,Db=_t,Ya=Fi,Ub=Nu,tf=Db.assert,ts=Rb,Gi=Kb;function Bt(e){if(!(this instanceof Bt))return new Bt(e);typeof e=="string"&&(tf(Object.prototype.hasOwnProperty.call(Ya,e),"Unknown curve "+e),e=Ya[e]),e instanceof Ya.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var $b=Bt;Bt.prototype.keyPair=function(t){return new ts(this,t)};Bt.prototype.keyFromPrivate=function(t,r){return ts.fromPrivate(this,t,r)};Bt.prototype.keyFromPublic=function(t,r){return ts.fromPublic(this,t,r)};Bt.prototype.genKeyPair=function(t){t||(t={});for(var r=new ef({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ub(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Rr(2));;){var a=new Rr(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Bt.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Bt.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Rr(t,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=t.toArray("be",a),h=new ef({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new Rr(1)),p=0;;p++){var y=i.k?i.k(p):new Rr(h.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(g)>=0)){var A=this.g.mul(y);if(!A.isInfinity()){var E=A.getX(),B=E.umod(this.n);if(B.cmpn(0)!==0){var O=y.invm(this.n).mul(B.mul(r.getPrivate()).iadd(t));if(O=O.umod(this.n),O.cmpn(0)!==0){var K=(A.getY().isOdd()?1:0)|(E.cmp(B)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),K^=1),new Gi({r:B,s:O,recoveryParam:K})}}}}}};Bt.prototype.verify=function(t,r,n,i){t=this._truncateToN(new Rr(t,16)),n=this.keyFromPublic(n,i),r=new Gi(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),h=o.mul(t).umod(this.n),g=o.mul(a).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(h,n.getPublic(),g),p.isInfinity()?!1:p.eqXToP(a)):(p=this.g.mulAdd(h,n.getPublic(),g),p.isInfinity()?!1:p.getX().umod(this.n).cmp(a)===0)};Bt.prototype.recoverPubKey=function(e,t,r,n){tf((3&r)===r,"The recovery param is more than two bits"),t=new Gi(t,n);var i=this.n,a=new Rr(e),s=t.r,o=t.s,h=r&1,g=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");g?s=this.curve.pointFromX(s.add(this.curve.n),h):s=this.curve.pointFromX(s,h);var p=t.r.invm(i),y=i.sub(a).mul(p).umod(i),A=o.mul(p).umod(i);return this.g.mulAdd(y,s,A)};Bt.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Gi(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Fn=_t,rf=Fn.assert,Ys=Fn.parseBytes,vn=Fn.cachedProperty;function nt(e,t){this.eddsa=e,this._secret=Ys(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Ys(t.pub)}nt.fromPublic=function(t,r){return r instanceof nt?r:new nt(t,{pub:r})};nt.fromSecret=function(t,r){return r instanceof nt?r:new nt(t,{secret:r})};nt.prototype.secret=function(){return this._secret};vn(nt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});vn(nt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});vn(nt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});vn(nt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});vn(nt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});vn(nt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});nt.prototype.sign=function(t){return rf(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};nt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};nt.prototype.getSecret=function(t){return rf(this._secret,"KeyPair is public only"),Fn.encode(this.secret(),t)};nt.prototype.getPublic=function(t){return Fn.encode(this.pubBytes(),t)};var Fb=nt,qb=fr,Vi=_t,Qs=Vi.assert,Ji=Vi.cachedProperty,zb=Vi.parseBytes;function Fr(e,t){this.eddsa=e,typeof t!="object"&&(t=zb(t)),Array.isArray(t)&&(Qs(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Qs(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof qb&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Ji(Fr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Ji(Fr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Ji(Fr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Ji(Fr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Fr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Fr.prototype.toHex=function(){return Vi.encode(this.toBytes(),"hex").toUpperCase()};var Hb=Fr,Gb=qi,Vb=Fi,on=_t,Jb=on.assert,nf=on.parseBytes,af=Fb,ec=Hb;function pt(e){if(Jb(e==="ed25519","only tested with ed25519 so far"),!(this instanceof pt))return new pt(e);e=Vb[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Gb.sha512}var Wb=pt;pt.prototype.sign=function(t,r){t=nf(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),h=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:h,Rencoded:s})};pt.prototype.verify=function(t,r,n){if(t=nf(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};pt.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return on.intFromLE(t.digest()).umod(this.curve.n)};pt.prototype.keyFromPublic=function(t){return af.fromPublic(this,t)};pt.prototype.keyFromSecret=function(t){return af.fromSecret(this,t)};pt.prototype.makeSignature=function(t){return t instanceof ec?t:new ec(this,t)};pt.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};pt.prototype.decodePoint=function(t){t=on.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,a=on.intFromLE(n);return this.curve.pointFromY(a,i)};pt.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};pt.prototype.decodeInt=function(t){return on.intFromLE(t)};pt.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=Gh.version,t.utils=_t,t.rand=Nu,t.curve=Yo,t.curves=Fi,t.ec=$b,t.eddsa=Wb})(Ou);const Zb=Ou.ec,Ht=new Zb("secp256k1"),Ee=Ht.curve,Oe=Ee.n.constructor;function Xb(e,t){let r=new Oe(t);if(r.cmp(Ee.p)>=0)return null;r=r.toRed(Ee.red);let n=r.redSqr().redIMul(r).redIAdd(Ee.b).redSqrt();return e===3!==n.isOdd()&&(n=n.redNeg()),Ht.keyPair({pub:{x:r,y:n}})}function Yb(e,t,r){let n=new Oe(t),i=new Oe(r);if(n.cmp(Ee.p)>=0||i.cmp(Ee.p)>=0||(n=n.toRed(Ee.red),i=i.toRed(Ee.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;const a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(Ee.b)).isZero()?Ht.keyPair({pub:{x:n,y:i}}):null}function pr(e){const t=e[0];switch(t){case 2:case 3:return e.length!==33?null:Xb(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:Yb(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function Cr(e,t){const r=t.encode(null,e.length===33);for(let n=0;n<e.length;++n)e[n]=r[n]}var Qb={contextRandomize(){return 0},privateKeyVerify(e){const t=new Oe(e);return t.cmp(Ee.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new Oe(e),r=Ee.n.sub(t).umod(Ee.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new Oe(t);if(r.cmp(Ee.n)>=0||(r.iadd(new Oe(e)),r.cmp(Ee.n)>=0&&r.isub(Ee.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new Oe(t);if(r.cmp(Ee.n)>=0||r.isZero())return 1;r.imul(new Oe(e)),r.cmp(Ee.n)>=0&&(r=r.umod(Ee.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return pr(e)===null?1:0},publicKeyCreate(e,t){const r=new Oe(t);if(r.cmp(Ee.n)>=0||r.isZero())return 1;const n=Ht.keyFromPrivate(t).getPublic();return Cr(e,n),0},publicKeyConvert(e,t){const r=pr(t);if(r===null)return 1;const n=r.getPublic();return Cr(e,n),0},publicKeyNegate(e,t){const r=pr(t);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),Cr(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=pr(t[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Cr(e,n),0)},publicKeyTweakAdd(e,t,r){const n=pr(t);if(n===null)return 1;if(r=new Oe(r),r.cmp(Ee.n)>=0)return 2;const i=n.getPublic().add(Ee.g.mul(r));return i.isInfinity()?2:(Cr(e,i),0)},publicKeyTweakMul(e,t,r){const n=pr(t);if(n===null)return 1;if(r=new Oe(r),r.cmp(Ee.n)>=0||r.isZero())return 2;const i=n.getPublic().mul(r);return Cr(e,i),0},signatureNormalize(e){const t=new Oe(e.subarray(0,32)),r=new Oe(e.subarray(32,64));return t.cmp(Ee.n)>=0||r.cmp(Ee.n)>=0?1:(r.cmp(Ht.nh)===1&&e.set(Ee.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new Oe(r).cmp(Ee.n)>=0||new Oe(n).cmp(Ee.n)>=0)return 1;const{output:i}=e;let a=i.subarray(4,37);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let h=i.subarray(39,72);h[0]=0,h.set(n,1);let g=33,p=0;for(;g>1&&h[p]===0&&!(h[p+1]&128);--g,++p);return h=h.subarray(p),h[0]&128||g>1&&h[0]===0&&!(h[1]&128)?1:(e.outputlen=6+s+g,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=h.length,i.set(h,6+s),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;const r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;const n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let i=t.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=t.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Oe(i);s.cmp(Ee.n)>=0&&(s=new Oe(0));let o=new Oe(t.subarray(6+r));return o.cmp(Ee.n)>=0&&(o=new Oe(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const o=i;i=h=>{const g=o(t,r,null,n,h);if(!(g instanceof Uint8Array&&g.length===32))throw new Error("This is the way");return new Oe(g)}}const a=new Oe(r);if(a.cmp(Ee.n)>=0||a.isZero())return 1;let s;try{s=Ht.sign(t,r,{canonical:!0,k:i,pers:n})}catch{return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new Oe(n.r),a=new Oe(n.s);if(i.cmp(Ee.n)>=0||a.cmp(Ee.n)>=0)return 1;if(a.cmp(Ht.nh)===1||i.isZero()||a.isZero())return 3;const s=pr(r);if(s===null)return 2;const o=s.getPublic();return Ht.verify(t,n,o)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},a=new Oe(i.r),s=new Oe(i.s);if(a.cmp(Ee.n)>=0||s.cmp(Ee.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=Ht.recoverPubKey(n,i,r)}catch{return 2}return Cr(e,o),0},ecdh(e,t,r,n,i,a,s){const o=pr(t);if(o===null)return 1;const h=new Oe(r);if(h.cmp(Ee.n)>=0||h.isZero())return 2;const g=o.getPublic().mul(h);if(i===void 0){const p=g.encode(null,!0),y=Ht.hash().update(p).digest();for(let A=0;A<32;++A)e[A]=y[A]}else{a||(a=new Uint8Array(32));const p=g.getX().toArray("be",32);for(let B=0;B<32;++B)a[B]=p[B];s||(s=new Uint8Array(32));const y=g.getY().toArray("be",32);for(let B=0;B<32;++B)s[B]=y[B];const A=i(a,s,n);if(!(A instanceof Uint8Array&&A.length===e.length))return 2;e.set(A)}return 0}},of=Oh(Qb),ep=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dn,"__esModule",{value:!0});dn.PublicKey=void 0;const tc=tt,tp=Uo,rp=ep(of),ht=or;function np(e){switch(e){case ht.KeyType.ED25519:return"ed25519";case ht.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${e}`)}}function ip(e){switch(e.toLowerCase()){case"ed25519":return ht.KeyType.ED25519;case"secp256k1":return ht.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${e}`)}}function ap(e){switch(e){case ht.KeyType.ED25519:return"ed25519Key";case ht.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${e}`)}}class op{constructor(t){if(Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(r=>{this[r]=t[r]})}}class di extends op{constructor(r){const n=ap(r.keyType);super({[n]:r});k(this,"enum");k(this,"ed25519Key");k(this,"secp256k1Key");this[n]=r,this.enum=n}static from(r){return typeof r=="string"?di.fromString(r):r}static fromString(r){const n=r.split(":");let i,a;if(n.length===1)i=n[0];else if(n.length===2)i=n[1],a=ip(n[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const s=(0,tc.baseDecode)(i);a||(a=s.length===ht.KeySize.SECP256k1_PUBLIC_KEY?ht.KeyType.SECP256K1:ht.KeyType.ED25519);const o=a===ht.KeyType.ED25519?ht.KeySize.ED25519_PUBLIC_KEY:ht.KeySize.SECP256k1_PUBLIC_KEY;if(s.length!==o)throw new Error(`Invalid public key size (${s.length}), must be ${o}`);return new di({keyType:a,data:s})}toString(){const r=(0,tc.baseEncode)(this.data);return`${np(this.keyType)}:${r}`}verify(r,n){const i=this.keyType,a=this.data;switch(i){case ht.KeyType.ED25519:return tp.ed25519.verify(n,r,a);case ht.KeyType.SECP256K1:return rp.default.ecdsaVerify(n.subarray(0,64),r,new Uint8Array([4,...a]));default:throw new Error(`Unknown key type: ${i}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}dn.PublicKey=di;var sp=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.KeyPairEd25519=void 0;const Yn=tt,Qa=Uo,cp=sp(Tu),eo=or,up=fn,fp=dn;class rs extends up.KeyPairBase{constructor(r){super();k(this,"publicKey");k(this,"secretKey");k(this,"extendedSecretKey");const n=(0,Yn.baseDecode)(r),i=new Uint8Array(n.slice(0,eo.KeySize.SECRET_KEY)),a=Qa.ed25519.getPublicKey(new Uint8Array(i));this.publicKey=new fp.PublicKey({keyType:eo.KeyType.ED25519,data:a}),this.secretKey=(0,Yn.baseEncode)(i),this.extendedSecretKey=r}static fromRandom(){const r=(0,cp.default)(eo.KeySize.SECRET_KEY),n=Qa.ed25519.getPublicKey(new Uint8Array(r)),i=new Uint8Array([...r,...n]);return new rs((0,Yn.baseEncode)(i))}sign(r){return{signature:Qa.ed25519.sign(r,(0,Yn.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(r,n){return this.publicKey.verify(r,n)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}Ln.KeyPairEd25519=rs;var qn={},sf=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qn,"__esModule",{value:!0});qn.KeyPairSecp256k1=void 0;const to=or,dp=fn,lp=dn,ro=sf(of),hp=sf(Tu),Qn=tt;class ns extends dp.KeyPairBase{constructor(r){super();k(this,"publicKey");k(this,"secretKey");k(this,"extendedSecretKey");const n=(0,Qn.baseDecode)(r),i=new Uint8Array(n.slice(0,to.KeySize.SECRET_KEY)),a=ro.default.publicKeyCreate(new Uint8Array(i),!1),s=a.subarray(1,a.length);this.publicKey=new lp.PublicKey({keyType:to.KeyType.SECP256K1,data:s}),this.secretKey=(0,Qn.baseEncode)(i),this.extendedSecretKey=r}static fromRandom(){const r=(0,hp.default)(to.KeySize.SECRET_KEY),n=ro.default.publicKeyCreate(new Uint8Array(r),!1),i=n.subarray(1,n.length),a=new Uint8Array([...r,...i]);return new ns((0,Qn.baseEncode)(a))}sign(r){const{signature:n,recid:i}=ro.default.ecdsaSign(r,(0,Qn.baseDecode)(this.secretKey));return{signature:new Uint8Array([...n,i]),publicKey:this.publicKey}}verify(r,n){return this.publicKey.verify(r,n)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}qn.KeyPairSecp256k1=ns;Object.defineProperty(Si,"__esModule",{value:!0});Si.KeyPair=void 0;const bp=fn,rc=Ln,nc=qn;class pp extends bp.KeyPairBase{static fromRandom(t){switch(t.toUpperCase()){case"ED25519":return rc.KeyPairEd25519.fromRandom();case"SECP256K1":return nc.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${t}`)}}static fromString(t){const r=t.split(":");if(r.length===2)switch(r[0].toUpperCase()){case"ED25519":return new rc.KeyPairEd25519(r[1]);case"SECP256K1":return new nc.KeyPairSecp256k1(r[1]);default:throw new Error(`Unknown curve: ${r[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}Si.KeyPair=pp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyPairSecp256k1=e.KeyPairEd25519=e.KeyPair=e.KeyType=void 0;var t=or;Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}});var r=Si;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return r.KeyPair}});var n=Ln;Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return n.KeyPairEd25519}});var i=qn;Object.defineProperty(e,"KeyPairSecp256k1",{enumerable:!0,get:function(){return i.KeyPairSecp256k1}});var a=dn;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}})})(Ut);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.KeyStore=void 0;class yp{}gn.KeyStore=yp;Object.defineProperty(wi,"__esModule",{value:!0});wi.InMemoryKeyStore=void 0;const vp=Ut,gp=gn;class mp extends gp.KeyStore{constructor(){super();k(this,"keys");this.keys={}}async setKey(r,n,i){this.keys[`${n}:${r}`]=i.toString()}async getKey(r,n){const i=this.keys[`${n}:${r}`];return i?vp.KeyPair.fromString(i):null}async removeKey(r,n){delete this.keys[`${n}:${r}`]}async clear(){this.keys={}}async getNetworks(){const r=new Set;return Object.keys(this.keys).forEach(n=>{const i=n.split(":");r.add(i[1])}),Array.from(r.values())}async getAccounts(r){const n=new Array;return Object.keys(this.keys).forEach(i=>{const a=i.split(":");a[a.length-1]===r&&n.push(a.slice(0,a.length-1).join(":"))}),n}toString(){return"InMemoryKeyStore"}}wi.InMemoryKeyStore=mp;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.MergeKeyStore=void 0;const _p=gn;class wp extends _p.KeyStore{constructor(r,n={writeKeyStoreIndex:0}){super();k(this,"options");k(this,"keyStores");this.options=n,this.keyStores=r}async setKey(r,n,i){await this.keyStores[this.options.writeKeyStoreIndex].setKey(r,n,i)}async getKey(r,n){for(const i of this.keyStores){const a=await i.getKey(r,n);if(a)return a}return null}async removeKey(r,n){for(const i of this.keyStores)await i.removeKey(r,n)}async clear(){for(const r of this.keyStores)await r.clear()}async getNetworks(){const r=new Set;for(const n of this.keyStores)for(const i of await n.getNetworks())r.add(i);return Array.from(r)}async getAccounts(r){const n=new Set;for(const i of this.keyStores)for(const a of await i.getAccounts(r))n.add(a);return Array.from(n)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}Wi.MergeKeyStore=wp;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.MultiContractKeyStore=void 0;class Sp{}Zi.MultiContractKeyStore=Sp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractKeyStore=e.MergeKeyStore=e.KeyStore=e.InMemoryKeyStore=void 0;var t=wi;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}});var r=gn;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});var n=Wi;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return n.MergeKeyStore}});var i=Zi;Object.defineProperty(e,"MultiContractKeyStore",{enumerable:!0,get:function(){return i.MultiContractKeyStore}})})(Ur);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;var t=Ur;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}})})(Rc);var cf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;var t=Ur;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return t.InMemoryKeyStore}})})(cf);var uf={},ff={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.BrowserLocalStorageKeyStore=void 0;const Ap=Ut,Ep=Ur,xp="near-api-js:keystore:";class Ip extends Ep.KeyStore{constructor(r=window.localStorage,n=xp){super();k(this,"localStorage");k(this,"prefix");this.localStorage=r,this.prefix=n}async setKey(r,n,i){this.localStorage.setItem(this.storageKeyForSecretKey(r,n),i.toString())}async getKey(r,n){const i=this.localStorage.getItem(this.storageKeyForSecretKey(r,n));return i?Ap.KeyPair.fromString(i):null}async removeKey(r,n){this.localStorage.removeItem(this.storageKeyForSecretKey(r,n))}async clear(){for(const r of this.storageKeys())r.startsWith(this.prefix)&&this.localStorage.removeItem(r)}async getNetworks(){const r=new Set;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const i=n.substring(this.prefix.length).split(":");r.add(i[1])}return Array.from(r.values())}async getAccounts(r){const n=new Array;for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const a=i.substring(this.prefix.length).split(":");a[1]===r&&n.push(a[0])}return n}storageKeyForSecretKey(r,n){return`${this.prefix}${n}:${r}`}*storageKeys(){for(let r=0;r<this.localStorage.length;r++)yield this.localStorage.key(r)}}Xi.BrowserLocalStorageKeyStore=Ip;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.MultiContractBrowserLocalStorageKeyStore=void 0;const Mp=Ut,Pp=Ur,ic="near-api-js:keystore:";class Bp extends Pp.MultiContractKeyStore{constructor(r=window.localStorage,n=ic){super();k(this,"localStorage");k(this,"prefix");this.localStorage=r,this.prefix=n||ic}async setKey(r,n,i,a){this.localStorage.setItem(this.storageKeyForSecretKey(r,n,a),i.toString())}async getKey(r,n,i){const a=this.localStorage.getItem(this.storageKeyForSecretKey(r,n,i));return a?Mp.KeyPair.fromString(a):null}async removeKey(r,n,i){this.localStorage.removeItem(this.storageKeyForSecretKey(r,n,i))}async clear(){for(const r of this.storageKeys())r.startsWith(this.prefix)&&this.localStorage.removeItem(r)}async getNetworks(){const r=new Set;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const i=n.substring(this.prefix.length).split(":");r.add(i[1])}return Array.from(r.values())}async getAccounts(r){const n=[];for(const i of this.storageKeys())if(i.startsWith(this.prefix)){const a=i.substring(this.prefix.length).split(":");a[1]===r&&n.push(a[0])}return n}async getContracts(r,n){const i=[];for(const a of this.storageKeys())if(a.startsWith(this.prefix)){const s=a.substring(this.prefix.length).split(":");s[1]===r&&s[0]===n&&i.push(s[2])}return i}storageKeyForSecretKey(r,n,i){return`${this.prefix}${n}:${r}:${i}`}*storageKeys(){for(let r=0;r<this.localStorage.length;r++)yield this.localStorage.key(r)}}Yi.MultiContractBrowserLocalStorageKeyStore=Bp;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultiContractBrowserLocalStorageKeyStore=e.BrowserLocalStorageKeyStore=void 0;var t=Xi;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}});var r=Yi;Object.defineProperty(e,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.MultiContractBrowserLocalStorageKeyStore}})})(ff);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;var t=ff;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return t.BrowserLocalStorageKeyStore}})})(uf);var df={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;var t=Ur;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return t.MergeKeyStore}})})(df);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const t=Rc;Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return t.KeyStore}});const r=cf;Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}});const n=uf;Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}});const i=df;Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return i.MergeKeyStore}})})(kc);var lf={},hf={},bf={},mn={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.exponentialBackoff=void 0;async function Tp(e,t,r,n){let i=e;for(let a=0;a<t;a++){const s=await n();if(s)return s;await Op(i),i*=r}return null}zn.exponentialBackoff=Tp;function Op(e){return new Promise(t=>setTimeout(t,e))}var Qi={},Ar={},Kr={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.Action=Me.SignedDelegate=Me.DeleteAccount=Me.DeleteKey=Me.AddKey=Me.Stake=Me.Transfer=Me.FunctionCall=Me.DeployContract=Me.CreateAccount=Me.AccessKey=Me.AccessKeyPermission=Me.FullAccessPermission=Me.FunctionCallPermission=void 0;const pf=yt;class Cp{constructor({allowance:t,receiverId:r,methodNames:n}){k(this,"allowance");k(this,"receiverId");k(this,"methodNames");this.allowance=t,this.receiverId=r,this.methodNames=n}}Me.FunctionCallPermission=Cp;class Np{}Me.FullAccessPermission=Np;class kp extends pf.Enum{constructor(r){super(r);k(this,"enum");k(this,"functionCall");k(this,"fullAccess");for(const[n,i]of Object.entries(r||{}))this[n]=i,this.enum=n}}Me.AccessKeyPermission=kp;class Rp{constructor({nonce:t,permission:r}){k(this,"nonce");k(this,"permission");this.nonce=t,this.permission=r}}Me.AccessKey=Rp;class Lp{}Me.CreateAccount=Lp;class Kp{constructor({code:t}){k(this,"code");this.code=t}}Me.DeployContract=Kp;class jp{constructor({methodName:t,args:r,gas:n,deposit:i}){k(this,"methodName");k(this,"args");k(this,"gas");k(this,"deposit");this.methodName=t,this.args=r,this.gas=n,this.deposit=i}}Me.FunctionCall=jp;class Dp{constructor({deposit:t}){k(this,"deposit");this.deposit=t}}Me.Transfer=Dp;class Up{constructor({stake:t,publicKey:r}){k(this,"stake");k(this,"publicKey");this.stake=t,this.publicKey=r}}Me.Stake=Up;class $p{constructor({publicKey:t,accessKey:r}){k(this,"publicKey");k(this,"accessKey");this.publicKey=t,this.accessKey=r}}Me.AddKey=$p;class Fp{constructor({publicKey:t}){k(this,"publicKey");this.publicKey=t}}Me.DeleteKey=Fp;class qp{constructor({beneficiaryId:t}){k(this,"beneficiaryId");this.beneficiaryId=t}}Me.DeleteAccount=qp;class zp{constructor({delegateAction:t,signature:r}){k(this,"delegateAction");k(this,"signature");this.delegateAction=t,this.signature=r}}Me.SignedDelegate=zp;class Hp extends pf.Enum{constructor(r){super(r);k(this,"enum");k(this,"createAccount");k(this,"deployContract");k(this,"functionCall");k(this,"transfer");k(this,"stake");k(this,"addKey");k(this,"deleteKey");k(this,"deleteAccount");k(this,"signedDelegate");for(const[n,i]of Object.entries(r||{}))this[n]=i,this.enum=n}}Me.Action=Hp;Object.defineProperty(Kr,"__esModule",{value:!0});Kr.actionCreators=Kr.stringifyJsonOrBytes=void 0;const Ne=Me;function Gp(){return new Ne.AccessKey({nonce:0n,permission:new Ne.AccessKeyPermission({fullAccess:new Ne.FullAccessPermission})})}function Vp(e,t,r){return new Ne.AccessKey({nonce:0n,permission:new Ne.AccessKeyPermission({functionCall:new Ne.FunctionCallPermission({receiverId:e,allowance:r,methodNames:t})})})}function Jp(){return new Ne.Action({createAccount:new Ne.CreateAccount})}function Wp(e){return new Ne.Action({deployContract:new Ne.DeployContract({code:e})})}function yf(e){return e.byteLength!==void 0&&e.byteLength===e.length?e:Buffer.from(JSON.stringify(e))}Kr.stringifyJsonOrBytes=yf;function Zp(e,t,r=0n,n=0n,i=yf,a=!1){return a?new Ne.Action({functionCall:new Ne.FunctionCall({methodName:e,args:t,gas:r,deposit:n})}):new Ne.Action({functionCall:new Ne.FunctionCall({methodName:e,args:i(t),gas:r,deposit:n})})}function Xp(e=0n){return new Ne.Action({transfer:new Ne.Transfer({deposit:e})})}function Yp(e=0n,t){return new Ne.Action({stake:new Ne.Stake({stake:e,publicKey:t})})}function Qp(e,t){return new Ne.Action({addKey:new Ne.AddKey({publicKey:e,accessKey:t})})}function ey(e){return new Ne.Action({deleteKey:new Ne.DeleteKey({publicKey:e})})}function ty(e){return new Ne.Action({deleteAccount:new Ne.DeleteAccount({beneficiaryId:e})})}function ry({delegateAction:e,signature:t}){return new Ne.Action({signedDelegate:new Ne.SignedDelegate({delegateAction:e,signature:t})})}Kr.actionCreators={addKey:Qp,createAccount:Jp,deleteAccount:ty,deleteKey:ey,deployContract:Wp,fullAccessKey:Gp,functionCall:Zp,functionCallAccessKey:Vp,signedDelegate:ry,stake:Yp,transfer:Xp};var Hn={},ea={},Er={},ta={},_n={};_n.__esModule=!0;_n.integers=void 0;_n.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var jr={};jr.__esModule=!0;jr.DecodeBuffer=jr.EncodeBuffer=void 0;var ny=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(t){if(this.buffer_size-this.offset<t){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+t);var r=new ArrayBuffer(this.buffer_size);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(r)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(t,r){var n=r.substring(1),i=parseInt(n)/8;this.resize_if_necessary(i);var a=r[0]==="f"?"setFloat".concat(n):r[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[a](this.offset,t,!0),this.offset+=i},e.prototype.store_bytes=function(t){this.resize_if_necessary(t.length),new Uint8Array(this.buffer).set(new Uint8Array(t),this.offset),this.offset+=t.length},e}();jr.EncodeBuffer=ny;var iy=function(){function e(t){this.offset=0,this.buffer_size=t.length,this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(t){var r=t.substring(1),n=parseInt(r)/8;this.assert_enough_buffer(n);var i=t[0]==="f"?"getFloat".concat(r):t[0]==="i"?"getInt".concat(r):"getUint".concat(r),a=this.view[i](this.offset,!0);return this.offset+=n,a},e.prototype.consume_bytes=function(t){this.assert_enough_buffer(t);var r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r},e}();jr.DecodeBuffer=iy;var ot={},ay=X&&X.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();ot.__esModule=!0;ot.validate_schema=ot.ErrorSchema=ot.expect_enum=ot.expect_same_size=ot.expect_bigint=ot.expect_type=ot.isArrayLike=void 0;var oy=_n;function sy(e){return Array.isArray(e)||!!e&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&(e.length===0||e.length>0&&e.length-1 in e)}ot.isArrayLike=sy;function cy(e,t,r){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(r.join(".")))}ot.expect_type=cy;function uy(e,t){var r=["number","string","bigint","boolean"].includes(typeof e),n=typeof e=="object"&&e!==null&&"toString"in e;if(!r&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}ot.expect_bigint=uy;function fy(e,t,r){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(r.join(".")))}ot.expect_same_size=fy;function dy(e,t){if(typeof e!="object"||e===null)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}ot.expect_enum=dy;var ac=oy.integers.concat(["bool","string"]),oc=["option","enum","array","set","map","struct"],Dr=function(e){ay(t,e);function t(r,n){var i="Invalid schema: ".concat(JSON.stringify(r)," expected ").concat(n);return e.call(this,i)||this}return t}(Error);ot.ErrorSchema=Dr;function xr(e){if(!(typeof e=="string"&&ac.includes(e))){if(e&&typeof e=="object"){var t=Object.keys(e);if(t.length===1&&oc.includes(t[0])){var r=t[0];if(r==="option")return xr(e[r]);if(r==="enum")return ly(e[r]);if(r==="array")return hy(e[r]);if(r==="set")return xr(e[r]);if(r==="map")return by(e[r]);if(r==="struct")return py(e[r])}}throw new Dr(e,oc.join(", ")+" or "+ac.join(", "))}}ot.validate_schema=xr;function ly(e){if(!Array.isArray(e))throw new Dr(e,"Array");for(var t=0,r=e;t<r.length;t++){var n=r[t];if(typeof n!="object"||!("struct"in n))throw new Error('Missing "struct" key in enum schema');if(typeof n.struct!="object"||Object.keys(n.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');xr({struct:n.struct})}}function hy(e){if(typeof e!="object")throw new Dr(e,"{ type, len? }");if(e.len&&typeof e.len!="number")throw new Error("Invalid schema: ".concat(e));if("type"in e)return xr(e.type);throw new Dr(e,"{ type, len? }")}function by(e){if(typeof e=="object"&&"key"in e&&"value"in e)xr(e.key),xr(e.value);else throw new Dr(e,"{ key, value }")}function py(e){if(typeof e!="object")throw new Dr(e,"object");for(var t in e)xr(e[t])}var yy=X&&X.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vy=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gy=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yy(t,e,r);return vy(t,e),t};ta.__esModule=!0;ta.BorshSerializer=void 0;var my=_n,_y=jr,Rt=gy(ot),wy=function(){function e(t){this.encoded=new _y.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=t}return e.prototype.encode=function(t,r){return this.encode_value(t,r),this.encoded.get_used_buffer()},e.prototype.encode_value=function(t,r){if(typeof r=="string"){if(my.integers.includes(r))return this.encode_integer(t,r);if(r==="string")return this.encode_string(t);if(r==="bool")return this.encode_boolean(t)}if(typeof r=="object"){if("option"in r)return this.encode_option(t,r);if("enum"in r)return this.encode_enum(t,r);if("array"in r)return this.encode_array(t,r);if("set"in r)return this.encode_set(t,r);if("map"in r)return this.encode_map(t,r);if("struct"in r)return this.encode_struct(t,r)}},e.prototype.encode_integer=function(t,r){var n=parseInt(r.substring(1));n<=32||r=="f64"?(this.checkTypes&&Rt.expect_type(t,"number",this.fieldPath),this.encoded.store_value(t,r)):(this.checkTypes&&Rt.expect_bigint(t,this.fieldPath),this.encode_bigint(BigInt(t),n))},e.prototype.encode_bigint=function(t,r){for(var n=r/8,i=new Uint8Array(n),a=0;a<n;a++)i[a]=Number(t&BigInt(255)),t=t>>BigInt(8);this.encoded.store_bytes(new Uint8Array(i))},e.prototype.encode_string=function(t){this.checkTypes&&Rt.expect_type(t,"string",this.fieldPath);var r=t;this.encoded.store_value(r.length,"u32");for(var n=0;n<r.length;n++)this.encoded.store_value(r.charCodeAt(n),"u8")},e.prototype.encode_boolean=function(t){this.checkTypes&&Rt.expect_type(t,"boolean",this.fieldPath),this.encoded.store_value(t?1:0,"u8")},e.prototype.encode_option=function(t,r){t==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(t,r.option))},e.prototype.encode_enum=function(t,r){this.checkTypes&&Rt.expect_enum(t,this.fieldPath);for(var n=Object.keys(t)[0],i=0;i<r.enum.length;i++){var a=r.enum[i];if(n===Object.keys(a.struct)[0])return this.encoded.store_value(i,"u8"),this.encode_struct(t,a)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(r)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(t,r){if(Rt.isArrayLike(t))return this.encode_arraylike(t,r);if(t instanceof ArrayBuffer)return this.encode_buffer(t,r);throw new Error("Expected Array-like not ".concat(typeof t,"(").concat(t,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(t,r){r.array.len?Rt.expect_same_size(t.length,r.array.len,this.fieldPath):this.encoded.store_value(t.length,"u32");for(var n=0;n<t.length;n++)this.encode_value(t[n],r.array.type)},e.prototype.encode_buffer=function(t,r){r.array.len?Rt.expect_same_size(t.byteLength,r.array.len,this.fieldPath):this.encoded.store_value(t.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(t))},e.prototype.encode_set=function(t,r){this.checkTypes&&Rt.expect_type(t,"object",this.fieldPath);var n=t instanceof Set,i=n?Array.from(t.values()):Object.values(t);this.encoded.store_value(i.length,"u32");for(var a=0,s=i;a<s.length;a++){var o=s[a];this.encode_value(o,r.set)}},e.prototype.encode_map=function(t,r){this.checkTypes&&Rt.expect_type(t,"object",this.fieldPath);var n=t instanceof Map,i=n?Array.from(t.keys()):Object.keys(t);this.encoded.store_value(i.length,"u32");for(var a=0,s=i;a<s.length;a++){var o=s[a];this.encode_value(o,r.map.key),this.encode_value(n?t.get(o):t[o],r.map.value)}},e.prototype.encode_struct=function(t,r){this.checkTypes&&Rt.expect_type(t,"object",this.fieldPath);for(var n=0,i=Object.keys(r.struct);n<i.length;n++){var a=i[n];this.fieldPath.push(a),this.encode_value(t[a],r.struct[a]),this.fieldPath.pop()}},e}();ta.BorshSerializer=wy;var ra={};ra.__esModule=!0;ra.BorshDeserializer=void 0;var Sy=_n,Ay=jr,Ey=function(){function e(t){this.buffer=new Ay.DecodeBuffer(t)}return e.prototype.decode=function(t){return this.decode_value(t)},e.prototype.decode_value=function(t){if(typeof t=="string"){if(Sy.integers.includes(t))return this.decode_integer(t);if(t==="string")return this.decode_string();if(t==="bool")return this.decode_boolean()}if(typeof t=="object"){if("option"in t)return this.decode_option(t);if("enum"in t)return this.decode_enum(t);if("array"in t)return this.decode_array(t);if("set"in t)return this.decode_set(t);if("map"in t)return this.decode_map(t);if("struct"in t)return this.decode_struct(t)}throw new Error("Unsupported type: ".concat(t))},e.prototype.decode_integer=function(t){var r=parseInt(t.substring(1));return r<=32||t=="f64"?this.buffer.consume_value(t):this.decode_bigint(r,t.startsWith("i"))},e.prototype.decode_bigint=function(t,r){r===void 0&&(r=!1);var n=t/8,i=new Uint8Array(this.buffer.consume_bytes(n)),a=i.reduceRight(function(s,o){return s+o.toString(16).padStart(2,"0")},"");return r&&i[n-1]?BigInt.asIntN(t,BigInt("0x".concat(a))):BigInt("0x".concat(a))},e.prototype.decode_string=function(){var t=this.decode_integer("u32"),r=new Uint8Array(this.buffer.consume_bytes(t));return String.fromCharCode.apply(null,r)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(t){var r=this.buffer.consume_value("u8");if(r===1)return this.decode_value(t.option);if(r!==0)throw new Error("Invalid option ".concat(r));return null},e.prototype.decode_enum=function(t){var r,n=this.buffer.consume_value("u8");if(n>t.enum.length)throw new Error("Enum option ".concat(n," is not available"));var i=t.enum[n].struct,a=Object.keys(i)[0];return r={},r[a]=this.decode_value(i[a]),r},e.prototype.decode_array=function(t){for(var r=[],n=t.array.len?t.array.len:this.decode_integer("u32"),i=0;i<n;++i)r.push(this.decode_value(t.array.type));return r},e.prototype.decode_set=function(t){for(var r=this.decode_integer("u32"),n=new Set,i=0;i<r;++i)n.add(this.decode_value(t.set));return n},e.prototype.decode_map=function(t){for(var r=this.decode_integer("u32"),n=new Map,i=0;i<r;++i){var a=this.decode_value(t.map.key),s=this.decode_value(t.map.value);n.set(a,s)}return n},e.prototype.decode_struct=function(t){var r={};for(var n in t.struct)r[n]=this.decode_value(t.struct[n]);return r},e}();ra.BorshDeserializer=Ey;var xy=X&&X.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iy=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),My=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xy(t,e,r);return Iy(t,e),t};Er.__esModule=!0;Er.deserialize=Er.serialize=void 0;var Py=ta,By=ra,vf=My(ot);function Ty(e,t,r){r===void 0&&(r=!0),r&&vf.validate_schema(e);var n=new Py.BorshSerializer(r);return n.encode(t,e)}Er.serialize=Ty;function Oy(e,t,r){r===void 0&&(r=!0),r&&vf.validate_schema(e);var n=new By.BorshDeserializer(t);return n.decode(e)}Er.deserialize=Oy;var na={};Object.defineProperty(na,"__esModule",{value:!0});na.DelegateActionPrefix=void 0;const Cy=Math.pow(2,30),Ny={MetaTransactions:366};class ky{constructor({prefix:t}){k(this,"prefix");this.prefix=t}}class Ry extends ky{constructor(t){super({prefix:Cy+t})}}class Ly extends Ry{constructor(){super(Ny.MetaTransactions)}}na.DelegateActionPrefix=Ly;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SignedTransaction=e.Transaction=e.decodeSignedTransaction=e.decodeTransaction=e.encodeTransaction=e.encodeSignedDelegate=e.encodeDelegateAction=void 0;const t=Er,r=na;function n(p){return new Uint8Array([...(0,t.serialize)(e.SCHEMA.DelegateActionPrefix,new r.DelegateActionPrefix),...(0,t.serialize)(e.SCHEMA.DelegateAction,p)])}e.encodeDelegateAction=n;function i(p){return(0,t.serialize)(e.SCHEMA.SignedDelegate,p)}e.encodeSignedDelegate=i;function a(p){const y=p instanceof g?e.SCHEMA.SignedTransaction:e.SCHEMA.Transaction;return(0,t.serialize)(y,p)}e.encodeTransaction=a;function s(p){return new h((0,t.deserialize)(e.SCHEMA.Transaction,p))}e.decodeTransaction=s;function o(p){return new g((0,t.deserialize)(e.SCHEMA.SignedTransaction,p))}e.decodeSignedTransaction=o;class h{constructor({signerId:y,publicKey:A,nonce:E,receiverId:B,actions:O,blockHash:K}){k(this,"signerId");k(this,"publicKey");k(this,"nonce");k(this,"receiverId");k(this,"actions");k(this,"blockHash");this.signerId=y,this.publicKey=A,this.nonce=E,this.receiverId=B,this.actions=O,this.blockHash=K}encode(){return a(this)}static decode(y){return s(y)}}e.Transaction=h;class g{constructor({transaction:y,signature:A}){k(this,"transaction");k(this,"signature");this.transaction=y,this.signature=A}encode(){return a(this)}static decode(y){return o(y)}}e.SignedTransaction=g,e.SCHEMA=new class{constructor(){k(this,"Ed25519Signature",{struct:{data:{array:{type:"u8",len:64}}}});k(this,"Secp256k1Signature",{struct:{data:{array:{type:"u8",len:65}}}});k(this,"Signature",{enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]});k(this,"Ed25519Data",{struct:{data:{array:{type:"u8",len:32}}}});k(this,"Secp256k1Data",{struct:{data:{array:{type:"u8",len:64}}}});k(this,"PublicKey",{enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]});k(this,"FunctionCallPermission",{struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}});k(this,"FullAccessPermission",{struct:{}});k(this,"AccessKeyPermission",{enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]});k(this,"AccessKey",{struct:{nonce:"u64",permission:this.AccessKeyPermission}});k(this,"CreateAccount",{struct:{}});k(this,"DeployContract",{struct:{code:{array:{type:"u8"}}}});k(this,"FunctionCall",{struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}});k(this,"Transfer",{struct:{deposit:"u128"}});k(this,"Stake",{struct:{stake:"u128",publicKey:this.PublicKey}});k(this,"AddKey",{struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}});k(this,"DeleteKey",{struct:{publicKey:this.PublicKey}});k(this,"DeleteAccount",{struct:{beneficiaryId:"string"}});k(this,"DelegateActionPrefix",{struct:{prefix:"u32"}});k(this,"ClassicActions",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]});k(this,"DelegateAction",{struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}});k(this,"SignedDelegate",{struct:{delegateAction:this.DelegateAction,signature:this.Signature}});k(this,"Action",{enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]});k(this,"Transaction",{struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}});k(this,"SignedTransaction",{struct:{transaction:this.Transaction,signature:this.Signature}})}}})(ea);Object.defineProperty(Hn,"__esModule",{value:!0});Hn.createTransaction=void 0;const Ky=ea;function jy(e,t,r,n,i,a){const s=typeof n=="bigint"?n:BigInt(n);return new Ky.Transaction({signerId:e,publicKey:t,nonce:s,receiverId:r,actions:i,blockHash:a})}Hn.createTransaction=jy;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.buildDelegateAction=sn.DelegateAction=void 0;const Dy=Kr,{addKey:Uy,createAccount:$y,deleteAccount:Fy,deleteKey:qy,deployContract:zy,functionCall:Hy,stake:Gy,transfer:Vy}=Dy.actionCreators;class gf{constructor({senderId:t,receiverId:r,actions:n,nonce:i,maxBlockHeight:a,publicKey:s}){k(this,"senderId");k(this,"receiverId");k(this,"actions");k(this,"nonce");k(this,"maxBlockHeight");k(this,"publicKey");this.senderId=t,this.receiverId=r,this.actions=n,this.nonce=i,this.maxBlockHeight=a,this.publicKey=s}}sn.DelegateAction=gf;function Jy({actions:e,maxBlockHeight:t,nonce:r,publicKey:n,receiverId:i,senderId:a}){return new gf({senderId:a,receiverId:i,actions:e.map(s=>{if(!s.type&&!s.params)return s;switch(s.type){case"AddKey":{const{publicKey:o,accessKey:h}=s.params;return Uy(o,h)}case"CreateAccount":return $y(s.params.createAccount);case"DeleteAccount":return Fy(s.params.deleteAccount);case"DeleteKey":return qy(s.params.publicKey);case"DeployContract":return zy(s.params.code);case"FunctionCall":{const{methodName:o,args:h,gas:g,deposit:p}=s.params;return Hy(o,h,g,p)}case"Stake":return Gy(s.params.stake,s.params.publicKey);case"Transfer":{const{deposit:o}=s.params;return Vy(o)}}throw new Error("Unrecognized action")}),nonce:r,maxBlockHeight:t,publicKey:n})}sn.buildDelegateAction=Jy;var cn={},Ir={},ia={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.output=lt.exists=lt.hash=lt.bytes=lt.bool=lt.number=void 0;function li(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}lt.number=li;function mf(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}lt.bool=mf;function Wy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function is(e,...t){if(!Wy(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}lt.bytes=is;function _f(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");li(e.outputLen),li(e.blockLen)}lt.hash=_f;function wf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}lt.exists=wf;function Sf(e,t){is(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}lt.output=Sf;const Zy={number:li,bool:mf,bytes:is,hash:_f,exists:wf,output:Sf};lt.default=Zy;var as={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.crypto=void 0;aa.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=aa,r=N=>new Uint8Array(N.buffer,N.byteOffset,N.byteLength);e.u8=r;const n=N=>new Uint32Array(N.buffer,N.byteOffset,Math.floor(N.byteLength/4));e.u32=n;function i(N){return N instanceof Uint8Array||N!=null&&typeof N=="object"&&N.constructor.name==="Uint8Array"}const a=N=>new DataView(N.buffer,N.byteOffset,N.byteLength);e.createView=a;const s=(N,j)=>N<<32-j|N>>>j;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(N,j)=>j.toString(16).padStart(2,"0"));function h(N){if(!i(N))throw new Error("Uint8Array expected");let j="";for(let te=0;te<N.length;te++)j+=o[N[te]];return j}e.bytesToHex=h;const g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(N){if(N>=g._0&&N<=g._9)return N-g._0;if(N>=g._A&&N<=g._F)return N-(g._A-10);if(N>=g._a&&N<=g._f)return N-(g._a-10)}function y(N){if(typeof N!="string")throw new Error("hex string expected, got "+typeof N);const j=N.length,te=j/2;if(j%2)throw new Error("padded hex string expected, got unpadded hex of length "+j);const M=new Uint8Array(te);for(let c=0,d=0;c<te;c++,d+=2){const b=p(N.charCodeAt(d)),v=p(N.charCodeAt(d+1));if(b===void 0||v===void 0){const _=N[d]+N[d+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+d)}M[c]=b*16+v}return M}e.hexToBytes=y;const A=async()=>{};e.nextTick=A;async function E(N,j,te){let M=Date.now();for(let c=0;c<N;c++){te(c);const d=Date.now()-M;d>=0&&d<j||(await(0,e.nextTick)(),M+=d)}}e.asyncLoop=E;function B(N){if(typeof N!="string")throw new Error(`utf8ToBytes expected string, got ${typeof N}`);return new Uint8Array(new TextEncoder().encode(N))}e.utf8ToBytes=B;function O(N){if(typeof N=="string"&&(N=B(N)),!i(N))throw new Error(`expected Uint8Array, got ${typeof N}`);return N}e.toBytes=O;function K(...N){let j=0;for(let M=0;M<N.length;M++){const c=N[M];if(!i(c))throw new Error("Uint8Array expected");j+=c.length}const te=new Uint8Array(j);for(let M=0,c=0;M<N.length;M++){const d=N[M];te.set(d,c),c+=d.length}return te}e.concatBytes=K;class D{clone(){return this._cloneInto()}}e.Hash=D;const H={}.toString;function q(N,j){if(j!==void 0&&H.call(j)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(N,j)}e.checkOpts=q;function Y(N){const j=M=>N().update(O(M)).digest(),te=N();return j.outputLen=te.outputLen,j.blockLen=te.blockLen,j.create=()=>N(),j}e.wrapConstructor=Y;function C(N){const j=(M,c)=>N(c).update(O(M)).digest(),te=N({});return j.outputLen=te.outputLen,j.blockLen=te.blockLen,j.create=M=>N(M),j}e.wrapConstructorWithOpts=C;function z(N){const j=(M,c)=>N(c).update(O(M)).digest(),te=N({});return j.outputLen=te.outputLen,j.blockLen=te.blockLen,j.create=M=>N(M),j}e.wrapXOFConstructorWithOpts=z;function Z(N=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(N));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Z})(as);Object.defineProperty(ia,"__esModule",{value:!0});ia.SHA2=void 0;const no=lt,Mn=as;function Xy(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),h=n?4:0,g=n?0:4;e.setUint32(t+h,s,n),e.setUint32(t+g,o,n)}class Yy extends Mn.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Mn.createView)(this.buffer)}update(t){(0,no.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,Mn.toBytes)(t);const a=t.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const h=(0,Mn.createView)(t);for(;i<=a-s;s+=i)this.process(h,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,no.exists)(this),(0,no.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let y=s;y<i;y++)r[y]=0;Xy(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=(0,Mn.createView)(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,p=this.get();if(g>p.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<g;y++)o.setUint32(4*y,p[y],a)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}}ia.SHA2=Yy;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.sha224=Ir.sha256=void 0;const Qy=ia,wt=as,e2=(e,t,r)=>e&t^~e&r,t2=(e,t,r)=>e&t^e&r^t&r,r2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vr=new Uint32Array(64);class Af extends Qy.SHA2{constructor(){super(64,32,8,!1),this.A=yr[0]|0,this.B=yr[1]|0,this.C=yr[2]|0,this.D=yr[3]|0,this.E=yr[4]|0,this.F=yr[5]|0,this.G=yr[6]|0,this.H=yr[7]|0}get(){const{A:t,B:r,C:n,D:i,E:a,F:s,G:o,H:h}=this;return[t,r,n,i,a,s,o,h]}set(t,r,n,i,a,s,o,h){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=h|0}process(t,r){for(let y=0;y<16;y++,r+=4)vr[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=vr[y-15],E=vr[y-2],B=(0,wt.rotr)(A,7)^(0,wt.rotr)(A,18)^A>>>3,O=(0,wt.rotr)(E,17)^(0,wt.rotr)(E,19)^E>>>10;vr[y]=O+vr[y-7]+B+vr[y-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:h,G:g,H:p}=this;for(let y=0;y<64;y++){const A=(0,wt.rotr)(o,6)^(0,wt.rotr)(o,11)^(0,wt.rotr)(o,25),E=p+A+e2(o,h,g)+r2[y]+vr[y]|0,O=((0,wt.rotr)(n,2)^(0,wt.rotr)(n,13)^(0,wt.rotr)(n,22))+t2(n,i,a)|0;p=g,g=h,h=o,o=s+E|0,s=a,a=i,i=n,n=E+O|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,h=h+this.F|0,g=g+this.G|0,p=p+this.H|0,this.set(n,i,a,s,o,h,g,p)}roundClean(){vr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class n2 extends Af{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Ir.sha256=(0,wt.wrapConstructor)(()=>new Af);Ir.sha224=(0,wt.wrapConstructor)(()=>new n2);var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Signature=void 0;const sc=Ut,i2=yt;function a2(e){switch(e){case sc.KeyType.ED25519:return"ed25519Signature";case sc.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${e}`)}}class o2 extends i2.Enum{constructor(r){const n=a2(r.keyType);super({[n]:r});k(this,"enum");k(this,"ed25519Signature");k(this,"secp256k1Signature");this[n]=r,this.enum=n}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}Gn.Signature=o2;Object.defineProperty(cn,"__esModule",{value:!0});cn.signDelegateAction=cn.signTransaction=void 0;const Ef=Ir,s2=Me,c2=Hn,hi=ea,xf=Gn,bi=Ut;async function cc(e,t,r,n){const i=(0,hi.encodeTransaction)(e),a=new Uint8Array((0,Ef.sha256)(i)),s=await t.signMessage(i,r,n),o=e.publicKey.ed25519Key?bi.KeyType.ED25519:bi.KeyType.SECP256K1,h=new hi.SignedTransaction({transaction:e,signature:new xf.Signature({keyType:o,data:s.signature})});return[a,h]}async function u2(...e){if(e[0].constructor===hi.Transaction){const[t,r,n,i]=e;return cc(t,r,n,i)}else{const[t,r,n,i,a,s,o]=e,h=await a.getPublicKey(s,o),g=(0,c2.createTransaction)(s,h,t,r,n,i);return cc(g,a,s,o)}}cn.signTransaction=u2;async function f2({delegateAction:e,signer:t}){const r=(0,hi.encodeDelegateAction)(e),n=await t.sign(r),i=e.publicKey.ed25519Key?bi.KeyType.ED25519:bi.KeyType.SECP256K1,a=new s2.SignedDelegate({delegateAction:e,signature:new xf.Signature({keyType:i,data:n})});return{hash:new Uint8Array((0,Ef.sha256)(r)),signedDelegateAction:a}}cn.signDelegateAction=f2;(function(e){var t=X&&X.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=X&&X.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kr,e),r(Me,e),r(Hn,e),r(sn,e),r(ea,e),r(cn,e),r(Gn,e)})(Ar);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.Provider=void 0;class d2{}wn.Provider=d2;var oa={},os={},ss={},pi=X&&X.__assign||function(){return pi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pi.apply(this,arguments)};Object.defineProperty(ss,"__esModule",{value:!0});var l2={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function h2(e){var t=pi(pi({},l2),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}ss.getSanitizedOptions=h2;var cs={},us={},sa={},fs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});function b2(e){var t=Math.random()*e;return Math.round(t)}ds.fullJitter=b2;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});function p2(e){return e}ls.noJitter=p2;Object.defineProperty(fs,"__esModule",{value:!0});var y2=ds,v2=ls;function g2(e){switch(e.jitter){case"full":return y2.fullJitter;case"none":default:return v2.noJitter}}fs.JitterFactory=g2;Object.defineProperty(sa,"__esModule",{value:!0});var m2=fs,_2=function(){function e(t){this.options=t,this.attempt=0}return e.prototype.apply=function(){var t=this;return new Promise(function(r){return setTimeout(r,t.jitteredDelay)})},e.prototype.setAttemptNumber=function(t){this.attempt=t},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){var t=m2.JitterFactory(this.options);return t(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var t=this.options.startingDelay,r=this.options.timeMultiple,n=this.numOfDelayedAttempts,i=t*Math.pow(r,n);return Math.min(i,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();sa.Delay=_2;var w2=X&&X.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S2=X&&X.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{g(n.next(p))}catch(y){s(y)}}function h(p){try{g(n.throw(p))}catch(y){s(y)}}function g(p){p.done?a(p.value):i(p.value).then(o,h)}g((n=n.apply(e,t||[])).next())})},A2=X&&X.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(g){return function(p){return h([g,p])}}function h(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(p){g=[6,p],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(us,"__esModule",{value:!0});var E2=sa,x2=function(e){w2(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.apply=function(){return S2(this,void 0,void 0,function(){return A2(this,function(r){return[2,this.isFirstAttempt?!0:e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(E2.Delay);us.SkipFirstDelay=x2;var hs={},I2=X&&X.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(hs,"__esModule",{value:!0});var M2=sa,P2=function(e){I2(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(M2.Delay);hs.AlwaysDelay=P2;Object.defineProperty(cs,"__esModule",{value:!0});var B2=us,T2=hs;function O2(e,t){var r=C2(e);return r.setAttemptNumber(t),r}cs.DelayFactory=O2;function C2(e){return e.delayFirstAttempt?new T2.AlwaysDelay(e):new B2.SkipFirstDelay(e)}var To=X&&X.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{g(n.next(p))}catch(y){s(y)}}function h(p){try{g(n.throw(p))}catch(y){s(y)}}function g(p){p.done?a(p.value):i(p.value).then(o,h)}g((n=n.apply(e,t||[])).next())})},Oo=X&&X.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(g){return function(p){return h([g,p])}}function h(g){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(p){g=[6,p],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(os,"__esModule",{value:!0});var N2=ss,k2=cs;function R2(e,t){return t===void 0&&(t={}),To(this,void 0,void 0,function(){var r,n;return Oo(this,function(i){switch(i.label){case 0:return r=N2.getSanitizedOptions(t),n=new L2(e,r),[4,n.execute()];case 1:return[2,i.sent()]}})})}os.backOff=R2;var L2=function(){function e(t,r){this.request=t,this.options=r,this.attemptNumber=0}return e.prototype.execute=function(){return To(this,void 0,void 0,function(){var t,r;return Oo(this,function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return n.sent(),[4,this.request()];case 3:return[2,n.sent()];case 4:return t=n.sent(),this.attemptNumber++,[4,this.options.retry(t,this.attemptNumber)];case 5:if(r=n.sent(),!r||this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return To(this,void 0,void 0,function(){var t;return Oo(this,function(r){switch(r.label){case 0:return t=k2.DelayFactory(this.options,this.attemptNumber),[4,t.apply()];case 1:return r.sent(),[2]}})})},e}();function K2(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,a=[],s=[],o={},h=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:h,headers:{keys:function(){return a},entries:function(){return s},get:function(p){return o[p.toLowerCase()]},has:function(p){return p.toLowerCase()in o}}}};for(var g in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(p,y,A){a.push(y=y.toLowerCase()),s.push([y,A]),o[y]=o[y]?o[y]+","+A:A}),r(h())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(g,t.headers[g]);i.send(t.body||null)})}const j2=Object.freeze(Object.defineProperty({__proto__:null,default:K2},Symbol.toStringTag,{value:"Module"})),uc=Mc(j2);var bs=self.fetch||(self.fetch=uc.default||uc),D2=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});oa.fetchJsonRpc=void 0;const U2=yt,$2=os,F2=D2(bs),q2=1.5,If=10,z2={numOfAttempts:If,timeMultiple:q2,retry:e=>!!([503,408].includes(e.cause)||["FetchError","Failed to fetch"].includes(e.toString()))};class io extends Error{constructor(r,n){super(r,n);k(this,"cause")}}async function H2(e,t,r){const n=await(0,$2.backOff)(async()=>{const i=await(0,F2.default)(e,{method:"POST",body:JSON.stringify(t),headers:{...r,"Content-Type":"application/json"}}),{ok:a,status:s}=i;if(!a)throw new io(await i.text(),{cause:s});if(s===503)throw new io(`${e} unavailable`,{cause:s});if(s===408)throw new io("Unused connection",{cause:s});return i},z2);if(!n)throw new U2.TypedError(`Exceeded ${If} attempts for ${e}.`,"RetriesExceeded");return await n.json()}oa.fetchJsonRpc=H2;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.JsonRpcProvider=void 0;const $t=tt,zr=yt,G2=Ar,V2=zn,J2=wn,W2=oa,Z2=12,X2=500,Y2=1.5;let Q2=123;class ev extends J2.Provider{constructor(r,n){super();k(this,"connection");k(this,"options");this.connection=r||{url:""};const i={retries:Z2,wait:X2,backoff:Y2};this.options=Object.assign({},i,n)}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(r,n){const i=(0,G2.encodeTransaction)(r);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer.from(i).toString("base64"),wait_until:n})}async sendTransaction(r){return this.sendTransactionUntil(r,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(r){return this.sendTransactionUntil(r,"NONE")}async txStatus(r,n,i="EXECUTED_OPTIMISTIC"){return typeof r=="string"?this.txStatusString(r,n,i):this.txStatusUint8Array(r,n,i)}async txStatusUint8Array(r,n,i){return this.sendJsonRpc("tx",{tx_hash:(0,$t.baseEncode)(r),sender_account_id:n,wait_until:i})}async txStatusString(r,n,i){return this.sendJsonRpc("tx",{tx_hash:r,sender_account_id:n,wait_until:i})}async txStatusReceipts(r,n,i="EXECUTED_OPTIMISTIC"){return typeof r=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:r,sender_account_id:n,wait_until:i}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,$t.baseEncode)(r),sender_account_id:n,wait_until:i})}async query(...r){let n;if(r.length===1){const{block_id:i,blockId:a,...s}=r[0];n=await this.sendJsonRpc("query",{...s,block_id:i||a})}else{const[i,a]=r;n=await this.sendJsonRpc("query",[i,a])}if(n&&n.error)throw new zr.TypedError(`Querying failed: ${n.error}.
${JSON.stringify(n,null,2)}`,(0,$t.getErrorTypeFromErrorMessage)(n.error,n.error.name));return n}async block(r){const{finality:n}=r,{blockId:i}=r;return this.sendJsonRpc("block",{block_id:i,finality:n})}async blockChanges(r){const{finality:n}=r,{blockId:i}=r;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:i,finality:n})}async chunk(r){return this.sendJsonRpc("chunk",[r])}async validators(r){return this.sendJsonRpc("validators",[r])}async experimental_protocolConfig(r){const{blockId:n,...i}=r;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...i,block_id:n})}async lightClientProof(r){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",r)}async nextLightClientBlock(r){return await this.sendJsonRpc("next_light_client_block",r)}async accessKeyChanges(r,n){const{finality:i}=n,{blockId:a}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:r,block_id:a,finality:i})}async singleAccessKeyChanges(r,n){const{finality:i}=n,{blockId:a}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:r,block_id:a,finality:i})}async accountChanges(r,n){const{finality:i}=n,{blockId:a}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:r,block_id:a,finality:i})}async contractStateChanges(r,n,i=""){const{finality:a}=n,{blockId:s}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:r,key_prefix_base64:i,block_id:s,finality:a})}async contractCodeChanges(r,n){const{finality:i}=n,{blockId:a}=n;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:r,block_id:a,finality:i})}async gasPrice(r){return await this.sendJsonRpc("gas_price",[r])}async sendJsonRpc(r,n){const i=await(0,V2.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,async()=>{var s;try{const o={method:r,params:n,id:Q2++,jsonrpc:"2.0"},h=await(0,W2.fetchJsonRpc)(this.connection.url,o,this.connection.headers);if(h.error){if(typeof h.error.data=="object")throw typeof h.error.data.error_message=="string"&&typeof h.error.data.error_type=="string"?new zr.TypedError(h.error.data.error_message,h.error.data.error_type):(0,$t.parseRpcError)(h.error.data);{const g=`[${h.error.code}] ${h.error.message}: ${h.error.data}`;if(h.error.data==="Timeout"||g.includes("Timeout error")||g.includes("query has timed out"))throw new zr.TypedError(g,"TimeoutError");const p=(0,$t.getErrorTypeFromErrorMessage)(h.error.data,"");throw p?new zr.TypedError((0,$t.formatError)(p,n),p):new zr.TypedError(g,h.error.name)}}else if(typeof((s=h.result)==null?void 0:s.error)=="string"){const g=(0,$t.getErrorTypeFromErrorMessage)(h.result.error,"");if(g)throw new $t.ServerError((0,$t.formatError)(g,n),g)}return h}catch(o){if(o.type==="TimeoutError")return $t.Logger.warn(`Retrying request to ${r} as it has timed out`,n),null;throw o}}),{result:a}=i;if(typeof a>"u")throw new zr.TypedError(`Exceeded ${this.options.retries} attempts for request to ${r}.`,"RetriesExceeded");return a}}Qi.JsonRpcProvider=ev;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.FailoverRpcProvider=void 0;const tv=tt,rv=yt,nv=wn;class iv extends nv.Provider{constructor(r){super();k(this,"providers");k(this,"currentProviderIndex");if(r.length===0)throw new Error("At least one provider must be specified");this.providers=r,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,tv.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const r=this.providers[this.currentProviderIndex];if(!r)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return r}async withBackoff(r){for(let n=0;n<this.providers.length;n++)try{const i=await r(this.currentProvider);if(i)return i}catch{this.switchToNextProvider()}throw new rv.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(r=>r.status())}async sendTransactionUntil(r,n){return this.withBackoff(i=>i.sendTransactionUntil(r,n))}async sendTransaction(r){return this.withBackoff(n=>n.sendTransaction(r))}async sendTransactionAsync(r){return this.withBackoff(n=>n.sendTransactionAsync(r))}async txStatus(r,n,i){return this.withBackoff(a=>a.txStatus(r,n,i))}async txStatusReceipts(r,n,i){return this.withBackoff(a=>a.txStatusReceipts(r,n,i))}async query(r,n){return n?this.withBackoff(i=>i.query(r,n)):this.withBackoff(i=>i.query(r))}async block(r){return this.withBackoff(n=>n.block(r))}async blockChanges(r){return this.withBackoff(n=>n.blockChanges(r))}async chunk(r){return this.withBackoff(n=>n.chunk(r))}async validators(r){return this.withBackoff(n=>n.validators(r))}async experimental_protocolConfig(r){return this.withBackoff(n=>n.experimental_protocolConfig(r))}async lightClientProof(r){return this.withBackoff(n=>n.lightClientProof(r))}async nextLightClientBlock(r){return this.withBackoff(n=>n.nextLightClientBlock(r))}async accessKeyChanges(r,n){return this.withBackoff(i=>i.accessKeyChanges(r,n))}async singleAccessKeyChanges(r,n){return this.withBackoff(i=>i.singleAccessKeyChanges(r,n))}async accountChanges(r,n){return this.withBackoff(i=>i.accountChanges(r,n))}async contractStateChanges(r,n,i=""){return this.withBackoff(a=>a.contractStateChanges(r,n,i))}async contractCodeChanges(r,n){return this.withBackoff(i=>i.contractCodeChanges(r,n))}async gasPrice(r){return this.withBackoff(n=>n.gasPrice(r))}}ca.FailoverRpcProvider=iv;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Provider=e.FailoverRpcProvider=e.JsonRpcProvider=e.exponentialBackoff=void 0;var t=zn;Object.defineProperty(e,"exponentialBackoff",{enumerable:!0,get:function(){return t.exponentialBackoff}});var r=Qi;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}});var n=ca;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}});var i=wn;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return i.Provider}})})(mn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=e.IdType=e.Provider=e.getTransactionLastResult=void 0;var t=tt;Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}});var r=mn;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return r.Provider}});var n=yt;Object.defineProperty(e,"IdType",{enumerable:!0,get:function(){return n.IdType}}),Object.defineProperty(e,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})})(bf);var Mf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.TypedError=e.ErrorContext=void 0;var t=yt;Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return t.ErrorContext}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return t.TypedError}});var r=mn;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}})})(Mf);var Pf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FailoverRpcProvider=void 0;var t=mn;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return t.FailoverRpcProvider}})})(Pf);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.FailoverRpcProvider=e.JsonRpcProvider=e.Provider=void 0;const t=bf;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return t.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return t.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return t.FinalExecutionStatusBasic}});const r=Mf;Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return r.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return r.ErrorContext}});const n=Pf;Object.defineProperty(e,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}})})(hf);var Bf={},yi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PublicKey=e.KeyType=e.KeyPairEd25519=e.KeyPair=void 0;var t=Ut;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return t.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return t.KeyPairEd25519}}),Object.defineProperty(e,"KeyType",{enumerable:!0,get:function(){return t.KeyType}}),Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return t.PublicKey}})})(yi);var Tf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base_decode=e.base_encode=e.deserialize=e.serialize=void 0;var t=Er;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return t.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return t.deserialize}});var r=tt;Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return r.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return r.baseDecode}})})(Tf);var Of={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Enum=void 0;var t=yt;Object.defineProperty(e,"Enum",{enumerable:!0,get:function(){return t.Enum}})})(Of);var Cf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION_EXP=e.NEAR_NOMINATION=void 0;var t=tt;Object.defineProperty(e,"NEAR_NOMINATION",{enumerable:!0,get:function(){return t.NEAR_NOMINATION}}),Object.defineProperty(e,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return t.NEAR_NOMINATION_EXP}}),Object.defineProperty(e,"formatNearAmount",{enumerable:!0,get:function(){return t.formatNearAmount}}),Object.defineProperty(e,"parseNearAmount",{enumerable:!0,get:function(){return t.parseNearAmount}})})(Cf);var Nf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=void 0;var t=tt;Object.defineProperty(e,"parseRpcError",{enumerable:!0,get:function(){return t.parseRpcError}}),Object.defineProperty(e,"parseResultError",{enumerable:!0,get:function(){return t.parseResultError}}),Object.defineProperty(e,"formatError",{enumerable:!0,get:function(){return t.formatError}}),Object.defineProperty(e,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return t.getErrorTypeFromErrorMessage}}),Object.defineProperty(e,"ServerError",{enumerable:!0,get:function(){return t.ServerError}})})(Nf);var kf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t=tt;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return t.Logger}})})(kf);(function(e){var t=X&&X.__createBinding||(Object.create?function(y,A,E,B){B===void 0&&(B=E);var O=Object.getOwnPropertyDescriptor(A,E);(!O||("get"in O?!A.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return A[E]}}),Object.defineProperty(y,B,O)}:function(y,A,E,B){B===void 0&&(B=E),y[B]=A[E]}),r=X&&X.__setModuleDefault||(Object.create?function(y,A){Object.defineProperty(y,"default",{enumerable:!0,value:A})}:function(y,A){y.default=A}),n=X&&X.__importStar||function(y){if(y&&y.__esModule)return y;var A={};if(y!=null)for(var E in y)E!=="default"&&Object.prototype.hasOwnProperty.call(y,E)&&t(A,y,E);return r(A,y),A};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.serialize=e.key_pair=void 0;const i=n(yi);e.key_pair=i;const a=n(Tf);e.serialize=a;const s=n(Of);e.enums=s;const o=n(Cf);e.format=o;const h=n(Nf);e.rpc_errors=h;const g=yi;Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return g.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return g.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return g.KeyPairEd25519}});const p=kf;Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return p.Logger}})})(Bf);var Rf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transfer=e.stake=e.functionCallAccessKey=e.functionCall=e.fullAccessKey=e.deployContract=e.deleteKey=e.deleteAccount=e.createAccount=e.addKey=e.encodeTransaction=e.encodeDelegateAction=e.encodeSignedDelegate=e.Transaction=e.SignedTransaction=e.Signature=e.signTransaction=e.createTransaction=e.SCHEMA=e.Transfer=e.Stake=e.FunctionCallPermission=e.FunctionCall=e.FullAccessPermission=e.DeployContract=e.DeleteKey=e.DeleteAccount=e.CreateAccount=e.AddKey=e.AccessKeyPermission=e.AccessKey=e.Action=e.stringifyJsonOrBytes=void 0;var t=Ar;Object.defineProperty(e,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return t.stringifyJsonOrBytes}}),Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"AccessKey",{enumerable:!0,get:function(){return t.AccessKey}}),Object.defineProperty(e,"AccessKeyPermission",{enumerable:!0,get:function(){return t.AccessKeyPermission}}),Object.defineProperty(e,"AddKey",{enumerable:!0,get:function(){return t.AddKey}}),Object.defineProperty(e,"CreateAccount",{enumerable:!0,get:function(){return t.CreateAccount}}),Object.defineProperty(e,"DeleteAccount",{enumerable:!0,get:function(){return t.DeleteAccount}}),Object.defineProperty(e,"DeleteKey",{enumerable:!0,get:function(){return t.DeleteKey}}),Object.defineProperty(e,"DeployContract",{enumerable:!0,get:function(){return t.DeployContract}}),Object.defineProperty(e,"FullAccessPermission",{enumerable:!0,get:function(){return t.FullAccessPermission}}),Object.defineProperty(e,"FunctionCall",{enumerable:!0,get:function(){return t.FunctionCall}}),Object.defineProperty(e,"FunctionCallPermission",{enumerable:!0,get:function(){return t.FunctionCallPermission}}),Object.defineProperty(e,"Stake",{enumerable:!0,get:function(){return t.Stake}}),Object.defineProperty(e,"Transfer",{enumerable:!0,get:function(){return t.Transfer}}),Object.defineProperty(e,"SCHEMA",{enumerable:!0,get:function(){return t.SCHEMA}}),Object.defineProperty(e,"createTransaction",{enumerable:!0,get:function(){return t.createTransaction}}),Object.defineProperty(e,"signTransaction",{enumerable:!0,get:function(){return t.signTransaction}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}}),Object.defineProperty(e,"SignedTransaction",{enumerable:!0,get:function(){return t.SignedTransaction}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}}),Object.defineProperty(e,"encodeSignedDelegate",{enumerable:!0,get:function(){return t.encodeSignedDelegate}}),Object.defineProperty(e,"encodeDelegateAction",{enumerable:!0,get:function(){return t.encodeDelegateAction}}),Object.defineProperty(e,"encodeTransaction",{enumerable:!0,get:function(){return t.encodeTransaction}});const r=Ar,n=(E,B)=>r.actionCreators.addKey(E,B);e.addKey=n;const i=()=>r.actionCreators.createAccount();e.createAccount=i;const a=E=>r.actionCreators.deleteAccount(E);e.deleteAccount=a;const s=E=>r.actionCreators.deleteKey(E);e.deleteKey=s;const o=E=>r.actionCreators.deployContract(E);e.deployContract=o;const h=()=>r.actionCreators.fullAccessKey();e.fullAccessKey=h;const g=(E,B,O,K,D,H)=>r.actionCreators.functionCall(E,B,O,K,D,H);e.functionCall=g;const p=(E,B,O)=>r.actionCreators.functionCallAccessKey(E,B,O);e.functionCallAccessKey=p;const y=(E,B)=>r.actionCreators.stake(E,B);e.stake=y;const A=E=>r.actionCreators.transfer(E);e.transfer=A})(Rf);var Lf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findSeatPrice=e.diffEpochValidators=void 0;var t=tt;Object.defineProperty(e,"diffEpochValidators",{enumerable:!0,get:function(){return t.diffEpochValidators}}),Object.defineProperty(e,"findSeatPrice",{enumerable:!0,get:function(){return t.findSeatPrice}})})(Lf);var Kf={},Br={},Sn={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.viewFunction=Pt.viewState=Pt.encodeJSContractArgs=Pt.validateArgs=void 0;const av=yt,ov=tt;function sv(e){return JSON.parse(Buffer.from(e).toString())}function cv(e){return Buffer.from(JSON.stringify(e))}function jf(e){if(!(e.byteLength!==void 0&&e.byteLength===e.length)&&(Array.isArray(e)||typeof e!="object"))throw new av.PositionalArgsError}Pt.validateArgs=jf;function Df(e,t,r){return Buffer.concat([Buffer.from(e),Buffer.from([0]),Buffer.from(t),Buffer.from([0]),Buffer.from(r)])}Pt.encodeJSContractArgs=Df;async function uv(e,t,r,n={finality:"optimistic"}){const{values:i}=await e.provider.query({request_type:"view_state",...n,account_id:t,prefix_base64:Buffer.from(r).toString("base64")});return i.map(({key:a,value:s})=>({key:Buffer.from(a,"base64"),value:Buffer.from(s,"base64")}))}Pt.viewState=uv;async function fv(e,{contractId:t,methodName:r,args:n={},parse:i=sv,stringify:a=cv,jsContract:s=!1,blockQuery:o={finality:"optimistic"}}){let h;jf(n),s?h=Df(t,r,Object.keys(n).length>0?JSON.stringify(n):""):h=a(n);const g=await e.provider.query({request_type:"call_function",...o,account_id:s?e.jsvmAccountId:t,method_name:s?"view_js_contract":r,args_base64:h.toString("base64")});return g.logs&&(0,ov.printTxOutcomeLogs)({contractId:t,logs:g.logs}),g.result&&g.result.length>0&&i(Buffer.from(g.result))}Pt.viewFunction=fv;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Account=void 0;const Pn=Ut,dv=mn,Cn=Ar,Hr=yt,Ft=tt,fc=Pt,{addKey:ao,createAccount:dc,deleteAccount:lv,deleteKey:hv,deployContract:lc,fullAccessKey:oo,functionCall:bv,functionCallAccessKey:pv,stake:yv,transfer:so}=Cn.actionCreators,vv=12,gv=500,mv=1.5;class ps{constructor(t,r){k(this,"connection");k(this,"accountId");k(this,"accessKeyByPublicKeyCache",{});this.connection=t,this.accountId=r}getConnection(){return this.connection}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async signTransaction(t,r){const n=await this.findAccessKey(t,r);if(!n)throw new Hr.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:i}=n,s=(await this.connection.provider.block({finality:"final"})).header.hash,o=i.nonce+1n;return await(0,Cn.signTransaction)(t,o,r,(0,Ft.baseDecode)(s),this.connection.signer,this.accountId,this.connection.networkId)}async signAndSendTransaction({receiverId:t,actions:r,returnError:n}){let i,a;const s=await(0,dv.exponentialBackoff)(gv,vv,mv,async()=>{[i,a]=await this.signTransaction(t,r);const o=a.transaction.publicKey;try{return await this.connection.provider.sendTransaction(a)}catch(h){if(h.type==="InvalidNonce")return Ft.Logger.warn(`Retrying transaction ${t}:${(0,Ft.baseEncode)(i)} with new nonce.`),delete this.accessKeyByPublicKeyCache[o.toString()],null;if(h.type==="Expired")return Ft.Logger.warn(`Retrying transaction ${t}:${(0,Ft.baseEncode)(i)} due to expired block hash`),null;throw h.context=new Hr.ErrorContext((0,Ft.baseEncode)(i)),h}});if(!s)throw new Hr.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,Ft.printTxOutcomeLogsAndFailures)({contractId:a.transaction.receiverId,outcome:s}),!n&&typeof s.status=="object"&&typeof s.status.Failure=="object"&&s.status.Failure!==null)throw s.status.Failure.error_message&&s.status.Failure.error_type?new Hr.TypedError(`Transaction ${s.transaction_outcome.id} failed. ${s.status.Failure.error_message}`,s.status.Failure.error_type):(0,Ft.parseResultError)(s);return s}async findAccessKey(t,r){const n=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!n)throw new Hr.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const i=this.accessKeyByPublicKeyCache[n.toString()];if(i!==void 0)return{publicKey:n,accessKey:i};try{const a=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:n.toString(),finality:"optimistic"}),s={...a,nonce:BigInt(a.nonce||0)};return this.accessKeyByPublicKeyCache[n.toString()]?{publicKey:n,accessKey:this.accessKeyByPublicKeyCache[n.toString()]}:(this.accessKeyByPublicKeyCache[n.toString()]=s,{publicKey:n,accessKey:s})}catch(a){if(a.type=="AccessKeyDoesNotExist")return null;throw a}}async createAndDeployContract(t,r,n,i){const a=oo();return await this.signAndSendTransaction({receiverId:t,actions:[dc(),so(i),ao(Pn.PublicKey.from(r),a),lc(n)]}),new ps(this.connection,t)}async sendMoney(t,r){return this.signAndSendTransaction({receiverId:t,actions:[so(r)]})}async createAccount(t,r,n){const i=oo();return this.signAndSendTransaction({receiverId:t,actions:[dc(),so(n),ao(Pn.PublicKey.from(r),i)]})}async deleteAccount(t){return Ft.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[lv(t)]})}async deployContract(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[lc(t)]})}encodeJSContractArgs(t,r,n){return Buffer.concat([Buffer.from(t),Buffer.from([0]),Buffer.from(r),Buffer.from([0]),Buffer.from(n)])}async functionCall({contractId:t,methodName:r,args:n={},gas:i=Ft.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:a,walletMeta:s,walletCallbackUrl:o,stringify:h,jsContract:g}){this.validateArgs(n);let p;if(g)p=["call_js_contract",this.encodeJSContractArgs(t,r,JSON.stringify(n)),i,a,null,!0];else{const y=h===void 0?Cn.stringifyJsonOrBytes:h;p=[r,n,i,a,y,!1]}return this.signAndSendTransaction({receiverId:g?this.connection.jsvmAccountId:t,actions:[bv.apply(void 0,p)],walletMeta:s,walletCallbackUrl:o})}async addKey(t,r,n,i){n||(n=[]),Array.isArray(n)||(n=[n]);let a;return r?a=pv(r,n,i):a=oo(),this.signAndSendTransaction({receiverId:this.accountId,actions:[ao(Pn.PublicKey.from(t),a)]})}async deleteKey(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[hv(Pn.PublicKey.from(t))]})}async stake(t,r){return this.signAndSendTransaction({receiverId:this.accountId,actions:[yv(r,Pn.PublicKey.from(t))]})}async signedDelegate({actions:t,blockHeightTtl:r,receiverId:n}){const{provider:i,signer:a}=this.connection,{header:s}=await i.block({finality:"final"}),{accessKey:o,publicKey:h}=await this.findAccessKey(null,null),g=(0,Cn.buildDelegateAction)({actions:t,maxBlockHeight:BigInt(s.height)+BigInt(r),nonce:BigInt(o.nonce)+1n,publicKey:h,receiverId:n,senderId:this.accountId}),{signedDelegateAction:p}=await(0,Cn.signDelegateAction)({delegateAction:g,signer:{sign:async y=>{const{signature:A}=await a.signMessage(y,g.senderId,this.connection.networkId);return A}}});return p}validateArgs(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new Hr.PositionalArgsError}async viewFunction(t){return await(0,fc.viewFunction)(this.connection,t)}async viewState(t,r={finality:"optimistic"}){return await(0,fc.viewState)(this.connection,this.accountId,t,r)}async getAccessKeys(){var r;const t=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(r=t==null?void 0:t.keys)==null?void 0:r.map(n=>({...n,access_key:{...n.access_key,nonce:BigInt(n.access_key.nonce)}}))}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter(n=>n.access_key.permission!=="FullAccess").map(n=>{const i=n.access_key.permission;return{contractId:i.FunctionCall.receiver_id,amount:i.FunctionCall.allowance,publicKey:n.public_key}})}}async getAccountBalance(){const t=await this.connection.provider.experimental_protocolConfig({finality:"final"}),r=await this.state(),n=BigInt(t.runtime_config.storage_amount_per_byte),i=BigInt(r.storage_usage)*n,a=BigInt(r.locked),s=BigInt(r.amount)+a,o=s-(a>i?a:i);return{total:s.toString(),stateStaked:i.toString(),staked:a.toString(),available:o.toString()}}async getActiveDelegatedStakeBalance(){const t=await this.connection.provider.block({finality:"final"}),r=t.header.hash,n=t.header.epoch_id,{current_validators:i,next_validators:a,current_proposals:s}=await this.connection.provider.validators(n),o=new Set;[...i,...a,...s].forEach(E=>o.add(E.account_id));const h=[...o],g=h.map(E=>this.viewFunction({contractId:E,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:r}})),p=await Promise.allSettled(g);if(p.some(E=>E.status==="rejected"&&E.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const A=p.reduce((E,B,O)=>{const K=h[O];if(B.status==="fulfilled"){const D=BigInt(B.value);if(D!==0n)return{...E,stakedValidators:[...E.stakedValidators,{validatorId:K,amount:D.toString()}],total:E.total+D}}return B.status==="rejected"?{...E,failedValidators:[...E.failedValidators,{validatorId:K,error:B.reason}]}:E},{stakedValidators:[],failedValidators:[],total:0n});return{...A,total:A.total.toString()}}}Sn.Account=ps;var ua={},Vn={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.MULTISIG_CONFIRM_METHODS=ct.MULTISIG_CHANGE_METHODS=ct.MULTISIG_DEPOSIT=ct.MULTISIG_GAS=ct.MULTISIG_ALLOWANCE=ct.MULTISIG_STORAGE_KEY=void 0;const _v=tt;ct.MULTISIG_STORAGE_KEY="__multisigRequest";ct.MULTISIG_ALLOWANCE=BigInt((0,_v.parseNearAmount)("1"));ct.MULTISIG_GAS=100000000000000n;ct.MULTISIG_DEPOSIT=0n;ct.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"];ct.MULTISIG_CONFIRM_METHODS=["confirm"];var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.MultisigStateStatus=Mr.MultisigDeleteRequestRejectionError=void 0;var hc;(function(e){e.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",e.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",e.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",e.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",e.METHOD_NOT_FOUND="Contract method is not found"})(hc||(Mr.MultisigDeleteRequestRejectionError=hc={}));var bc;(function(e){e[e.INVALID_STATE=0]="INVALID_STATE",e[e.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",e[e.VALID_STATE=2]="VALID_STATE",e[e.UNKNOWN_STATE=3]="UNKNOWN_STATE"})(bc||(Mr.MultisigStateStatus=bc={}));Object.defineProperty(Vn,"__esModule",{value:!0});Vn.AccountMultisig=void 0;const wv=Ar,Sv=tt,Av=Sn,ft=ct,rr=Mr,{deployContract:Ev,functionCall:ei}=wv.actionCreators;var Zr;(function(e){e[e.INVALID_CODE=0]="INVALID_CODE",e[e.VALID_CODE=1]="VALID_CODE",e[e.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(Zr||(Zr={}));const pc={[ft.MULTISIG_STORAGE_KEY]:null};class xv extends Av.Account{constructor(r,n,i){super(r,n);k(this,"storage");k(this,"onAddRequestResult");this.storage=i.storage,this.onAddRequestResult=i.onAddRequestResult}async signAndSendTransactionWithAccount(r,n){return super.signAndSendTransaction({receiverId:r,actions:n})}async signAndSendTransaction({receiverId:r,actions:n}){const{accountId:i}=this,a=Buffer.from(JSON.stringify({request:{receiver_id:r,actions:Mv(n,i,r)}}));let s;try{s=await super.signAndSendTransaction({receiverId:i,actions:[ei("add_request_and_confirm",a,ft.MULTISIG_GAS,ft.MULTISIG_DEPOSIT)]})}catch(h){if(h.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction({receiverId:r,actions:n});throw h}if(!s.status)throw new Error("Request failed");const o={...s.status};if(!o.SuccessValue||typeof o.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:i,actions:n,requestId:parseInt(Buffer.from(o.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(s),this.deleteUnconfirmedRequests(),s}async checkMultisigCodeAndStateStatus(r){const i=r?Zr.UNKNOWN_CODE:Zr.VALID_CODE;try{return r?await super.signAndSendTransaction({receiverId:this.accountId,actions:[Ev(r),ei("delete_request",{request_id:4294967295},ft.MULTISIG_GAS,ft.MULTISIG_DEPOSIT)]}):await this.deleteRequest(4294967295),{codeStatus:Zr.VALID_CODE,stateStatus:rr.MultisigStateStatus.VALID_STATE}}catch(a){if(new RegExp(rr.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(a&&a.kind&&a.kind.ExecutionError))return{codeStatus:i,stateStatus:rr.MultisigStateStatus.INVALID_STATE};if(new RegExp(rr.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(a&&a.kind&&a.kind.ExecutionError))return{codeStatus:i,stateStatus:rr.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(rr.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(a&&a.kind&&a.kind.ExecutionError))return{codeStatus:i,stateStatus:rr.MultisigStateStatus.VALID_STATE};if(new RegExp(rr.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(a&&a.message))return{codeStatus:Zr.INVALID_CODE,stateStatus:rr.MultisigStateStatus.UNKNOWN_STATE};throw a}}deleteRequest(r){return super.signAndSendTransaction({receiverId:this.accountId,actions:[ei("delete_request",{request_id:r},ft.MULTISIG_GAS,ft.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){const r=await this.getRequestIds();r.length&&await Promise.all(r.map(n=>this.deleteRequest(n)))}async deleteUnconfirmedRequests(){const r=await this.getRequestIds(),{requestId:n}=this.getRequest();for(const i of r)if(i!=n)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[ei("delete_request",{request_id:i},ft.MULTISIG_GAS,ft.MULTISIG_DEPOSIT)]})}catch{Sv.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(ft.MULTISIG_STORAGE_KEY)||"{}"):pc[ft.MULTISIG_STORAGE_KEY]}setRequest(r){if(this.storage)return this.storage.setItem(ft.MULTISIG_STORAGE_KEY,JSON.stringify(r));pc[ft.MULTISIG_STORAGE_KEY]=r}}Vn.AccountMultisig=xv;const Iv=e=>e.toString().replace("ed25519:",""),Mv=(e,t,r)=>e.map(n=>{const i=n.enum,{gas:a,publicKey:s,methodName:o,args:h,deposit:g,accessKey:p,code:y}=n[i],A={type:i[0].toUpperCase()+i.substr(1),gas:a&&a.toString()||void 0,public_key:s&&Iv(s)||void 0,method_name:o,args:h&&Buffer.from(h).toString("base64")||void 0,code:y&&Buffer.from(y).toString("base64")||void 0,amount:g&&g.toString()||void 0,deposit:g&&g.toString()||"0",permission:void 0};if(p&&(r===t&&p.permission.enum!=="fullAccess"&&(A.permission={receiver_id:t,allowance:ft.MULTISIG_ALLOWANCE.toString(),method_names:ft.MULTISIG_CHANGE_METHODS}),p.permission.enum==="functionCall")){const{receiverId:E,methodNames:B,allowance:O}=p.permission.functionCall;A.permission={receiver_id:E,allowance:O&&O.toString()||void 0,method_names:B}}return A});var Pv=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});ua.Account2FA=void 0;const ni=Ut,Bn=yt,Bv=Ar,co=tt,Tv=Pv(bs),Ov=Vn,Tn=ct,On=Mr,{addKey:uo,deleteKey:fo,deployContract:ti,fullAccessKey:Cv,functionCall:yc,functionCallAccessKey:vc}=Bv.actionCreators;class Nv extends Ov.AccountMultisig{constructor(r,n,i){super(r,n,i);k(this,"sendCode");k(this,"getCode");k(this,"verifyCode");k(this,"onConfirmResult");k(this,"helperUrl","https://helper.testnet.near.org");this.helperUrl=i.helperUrl||this.helperUrl,this.storage=i.storage,this.sendCode=i.sendCode||this.sendCodeDefault,this.getCode=i.getCode||this.getCodeDefault,this.verifyCode=i.verifyCode||this.verifyCodeDefault,this.onConfirmResult=i.onConfirmResult}async signAndSendTransaction({receiverId:r,actions:n}){await super.signAndSendTransaction({receiverId:r,actions:n}),await this.sendCode();const i=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(i),i}async deployMultisig(r){const{accountId:n}=this,i=(await this.getRecoveryMethods()).data.filter(({kind:y,publicKey:A})=>(y==="phrase"||y==="ledger")&&A!==null).map(y=>y.publicKey),a=(await this.getAccessKeys()).filter(({public_key:y,access_key:{permission:A}})=>A==="FullAccess"&&!i.includes(y)).map(y=>y.public_key).map(gc),s=gc((await this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),o=Buffer.from(JSON.stringify({num_confirmations:2})),h=[...a.map(y=>fo(y)),...a.map(y=>uo(y,vc(n,Tn.MULTISIG_CHANGE_METHODS,null))),uo(s,vc(n,Tn.MULTISIG_CONFIRM_METHODS,null)),ti(r)],g=h.concat(yc("new",o,Tn.MULTISIG_GAS,Tn.MULTISIG_DEPOSIT));co.Logger.log("deploying multisig contract for",n);const{stateStatus:p}=await this.checkMultisigCodeAndStateStatus(r);switch(p){case On.MultisigStateStatus.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(n,g);case On.MultisigStateStatus.VALID_STATE:return await super.signAndSendTransactionWithAccount(n,h);case On.MultisigStateStatus.INVALID_STATE:throw new Bn.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new Bn.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:r,cleanupContractBytes:n}){let i=[];n&&(await this.deleteAllRequests().catch(h=>h),i=await this.get2faDisableCleanupActions(n));const a=await this.get2faDisableKeyConversionActions(),s=[...i,...a,ti(r)],o=await this.findAccessKey(this.accountId,s);if(o&&o.accessKey&&o.accessKey.permission!=="FullAccess")throw new Bn.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,s)}async get2faDisableCleanupActions(r){const n=await this.viewState("").catch(a=>{const s=a.cause&&a.cause.name;if(s=="NO_CONTRACT_CODE")return[];throw s=="TOO_LARGE_CONTRACT_STATE"?new Bn.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):a}),i=n.map(({key:a})=>a.toString("base64"));return n.length?[ti(r),yc("clean",{keys:i},Tn.MULTISIG_GAS,0n)]:[]}async get2faDisableKeyConversionActions(){const{accountId:r}=this,i=(await this.getAccessKeys()).filter(({access_key:s})=>s.permission!=="FullAccess").filter(({access_key:s})=>{const o=s.permission.FunctionCall;return o.receiver_id===r&&o.method_names.length===4&&o.method_names.includes("add_request_and_confirm")}),a=ni.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:r})).publicKey);return[fo(a),...i.map(({public_key:s})=>fo(ni.PublicKey.from(s))),...i.map(({public_key:s})=>uo(ni.PublicKey.from(s),Cv()))]}async disable(r,n){const{stateStatus:i}=await this.checkMultisigCodeAndStateStatus();if(i!==On.MultisigStateStatus.VALID_STATE&&i!==On.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new Bn.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let a;await this.deleteAllRequests().catch(h=>a=h);const o=[...await this.get2faDisableCleanupActions(n).catch(h=>{throw h.type==="ContractHasExistingState"&&a||h}),...await this.get2faDisableKeyConversionActions(),ti(r)];return co.Logger.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:o})}async sendCodeDefault(){const{accountId:r}=this,{requestId:n}=this.getRequest(),i=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:r,method:i,requestId:n}),n}async getCodeDefault(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const r=await this.get2faMethod(),n=await this.getCode(r);try{return await this.verifyCode(n)}catch(i){if(co.Logger.warn("Error validating security code:",i),i.toString().includes("invalid 2fa code provided")||i.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw i}}async verifyCodeDefault(r){const{accountId:n}=this,i=this.getRequest();if(!i)throw new Error("no request pending");const{requestId:a}=i;return await this.postSignedJson("/2fa/verify",{accountId:n,securityCode:r,requestId:a})}async getRecoveryMethods(){const{accountId:r}=this;return{accountId:r,data:await this.postSignedJson("/account/recoveryMethods",{accountId:r})}}async get2faMethod(){let{data:r}=await this.getRecoveryMethods();if(r&&r.length&&(r=r.find(a=>a.kind.indexOf("2fa-")===0)),!r)return null;const{kind:n,detail:i}=r;return{kind:n,detail:i}}async signatureFor(){const{accountId:r}=this,i=(await this.connection.provider.block({finality:"final"})).header.height.toString(),a=await this.connection.signer.signMessage(Buffer.from(i),r,this.connection.networkId),s=Buffer.from(a.signature).toString("base64");return{blockNumber:i,blockNumberSignature:s}}async postSignedJson(r,n){return await(0,Tv.default)(this.helperUrl+r,{body:JSON.stringify({...n,...await this.signatureFor()}),method:"POST"})}}ua.Account2FA=Nv;const gc=e=>ni.PublicKey.from(e);var wr={},kv=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wr,"__esModule",{value:!0});wr.UrlAccountCreator=wr.LocalAccountCreator=wr.AccountCreator=void 0;const Rv=kv(bs);class ys{}wr.AccountCreator=ys;class Lv extends ys{constructor(r,n){super();k(this,"masterAccount");k(this,"initialBalance");this.masterAccount=r,this.initialBalance=n}async createAccount(r,n){await this.masterAccount.createAccount(r,n,this.initialBalance)}}wr.LocalAccountCreator=Lv;class Kv extends ys{constructor(r,n){super();k(this,"connection");k(this,"helperUrl");this.connection=r,this.helperUrl=n}async createAccount(r,n){await(0,Rv.default)(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:r,newAccountPublicKey:n.toString()}),method:"POST"})}}wr.UrlAccountCreator=Kv;var fa={},vs={},da={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Signer=void 0;class jv{}Jn.Signer=jv;Object.defineProperty(da,"__esModule",{value:!0});da.InMemorySigner=void 0;const lo=Ut,Dv=Ur,Uv=Ir,$v=Jn;class gs extends $v.Signer{constructor(r){super();k(this,"keyStore");this.keyStore=r}static async fromKeyPair(r,n,i){const a=new Dv.InMemoryKeyStore;return await a.setKey(r,n,i),new gs(a)}async createKey(r,n,i){const a=i===lo.KeyType.SECP256K1?lo.KeyPair.fromRandom("secp256k1"):lo.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(n,r,a),a.getPublicKey()}async getPublicKey(r,n){const i=await this.keyStore.getKey(n,r);return i===null?null:i.getPublicKey()}async signMessage(r,n,i){const a=new Uint8Array((0,Uv.sha256)(r));if(!n)throw new Error("InMemorySigner requires provided account id");const s=await this.keyStore.getKey(i,n);if(s===null)throw new Error(`Key for ${n} not found in ${i}`);return s.sign(a)}toString(){return`InMemorySigner(${this.keyStore})`}}da.InMemorySigner=gs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=da;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}});var r=Jn;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return r.Signer}})})(vs);Object.defineProperty(fa,"__esModule",{value:!0});fa.Connection=void 0;const Fv=vs,ho=mn;function qv(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new ho.JsonRpcProvider({...e.args});case"FailoverRpcProvider":{const t=((e==null?void 0:e.args)||[]).map(r=>new ho.JsonRpcProvider(r));return new ho.FailoverRpcProvider(t)}default:throw new Error(`Unknown provider type ${e.type}`)}}function zv(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new Fv.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}class ms{constructor(t,r,n,i){k(this,"networkId");k(this,"provider");k(this,"signer");k(this,"jsvmAccountId");this.networkId=t,this.provider=r,this.signer=n,this.jsvmAccountId=i}getConnection(){return this}static fromConfig(t){const r=qv(t.provider),n=zv(t.signer);return new ms(t.networkId,r,n,t.jsvmAccountId)}}fa.Connection=ms;var la={},ha={},ba={},Co={exports:{}};(function(e,t){(function(r,n){n(t)})(X,function(r){const n=Symbol("newer"),i=Symbol("older");class a{constructor(y,A){typeof y!="number"&&(A=y,y=0),this.size=0,this.limit=y,this.oldest=this.newest=void 0,this._keymap=new Map,A&&(this.assign(A),y<1&&(this.limit=this.size))}_markEntryAsUsed(y){y!==this.newest&&(y[n]&&(y===this.oldest&&(this.oldest=y[n]),y[n][i]=y[i]),y[i]&&(y[i][n]=y[n]),y[n]=void 0,y[i]=this.newest,this.newest&&(this.newest[n]=y),this.newest=y)}assign(y){let A,E=this.limit||Number.MAX_VALUE;this._keymap.clear();let B=y[Symbol.iterator]();for(let O=B.next();!O.done;O=B.next()){let K=new s(O.value[0],O.value[1]);if(this._keymap.set(K.key,K),A?(A[n]=K,K[i]=A):this.oldest=K,A=K,E--==0)throw new Error("overflow")}this.newest=A,this.size=this._keymap.size}get(y){var A=this._keymap.get(y);return A?(this._markEntryAsUsed(A),A.value):void 0}set(y,A){var E=this._keymap.get(y);return E?(E.value=A,this._markEntryAsUsed(E),this):(this._keymap.set(y,E=new s(y,A)),this.newest?(this.newest[n]=E,E[i]=this.newest):this.oldest=E,this.newest=E,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var y=this.oldest;if(y)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),y[n]=y[i]=void 0,this._keymap.delete(y.key),--this.size,[y.key,y.value]}find(y){let A=this._keymap.get(y);return A?A.value:void 0}has(y){return this._keymap.has(y)}delete(y){var A=this._keymap.get(y);return A?(this._keymap.delete(A.key),A[n]&&A[i]?(A[i][n]=A[n],A[n][i]=A[i]):A[n]?(A[n][i]=void 0,this.oldest=A[n]):A[i]?(A[i][n]=void 0,this.newest=A[i]):this.oldest=this.newest=void 0,this.size--,A.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new h(this.oldest)}values(){return new g(this.oldest)}entries(){return this}[Symbol.iterator](){return new o(this.oldest)}forEach(y,A){typeof A!="object"&&(A=this);let E=this.oldest;for(;E;)y.call(A,E.value,E.key,this),E=E[n]}toJSON(){for(var y=new Array(this.size),A=0,E=this.oldest;E;)y[A++]={key:E.key,value:E.value},E=E[n];return y}toString(){for(var y="",A=this.oldest;A;)y+=String(A.key)+":"+A.value,A=A[n],A&&(y+=" < ");return y}}r.LRUMap=a;function s(p,y){this.key=p,this.value=y,this[n]=void 0,this[i]=void 0}function o(p){this.entry=p}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let p=this.entry;return p?(this.entry=p[n],{done:!1,value:[p.key,p.value]}):{done:!0,value:void 0}};function h(p){this.entry=p}h.prototype[Symbol.iterator]=function(){return this},h.prototype.next=function(){let p=this.entry;return p?(this.entry=p[n],{done:!1,value:p.key}):{done:!0,value:void 0}};function g(p){this.entry=p}g.prototype[Symbol.iterator]=function(){return this},g.prototype.next=function(){let p=this.entry;return p?(this.entry=p[n],{done:!1,value:p.value}):{done:!0,value:void 0}}})})(Co,Co.exports);var Hv=Co.exports;Object.defineProperty(ba,"__esModule",{value:!0});ba.Storage=void 0;const Gv=Hv,gi=class gi{constructor(t={max:gi.MAX_ELEMENTS}){k(this,"cache");k(this,"blockHeights");this.cache=new Gv.LRUMap(t.max),this.blockHeights=new Map}load(t){if(!("blockId"in t))return;let n=t.blockId;return n.toString().length==44&&(n=this.blockHeights.get(n.toString())),this.cache.get(n)}save(t,{blockHeight:r,blockTimestamp:n,contractCode:i,contractState:a}){this.blockHeights.set(t,r),this.cache.set(r,{blockHeight:r,blockTimestamp:n,contractCode:i,contractState:a})}};k(gi,"MAX_ELEMENTS",100);let No=gi;ba.Storage=No;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.Runtime=void 0;const Vv=Ir,Lt=e=>()=>{throw new Error("method not implemented: "+e)},Te=e=>()=>{throw new Error("method not available for view calls: "+e)};class Jv{constructor({contractCode:t,...r}){k(this,"context");k(this,"wasm");k(this,"memory");k(this,"registers");k(this,"logs");k(this,"result");this.context=r,this.wasm=this.prepareWASM(Buffer.from(t,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer.from([])}readUTF16CStr(t){const r=[],n=new Uint16Array(this.memory.buffer);let i=Number(t)/2;for(;n[i]!=0;)r.push(n[i]),i++;return Buffer.from(Uint16Array.from(r).buffer).toString("ucs2")}readUTF8CStr(t,r){const n=[],i=new Uint8Array(this.memory.buffer);let a=Number(r);for(let s=0;s<t&&i[a]!=0;s++)n.push(i[a]),a++;return Buffer.from(n).toString("utf8")}storageRead(t,r){const n=Buffer.from(new Uint8Array(this.memory.buffer,Number(r),Number(t))),i=this.context.contractState.filter(a=>Buffer.compare(a.key,n)===0).map(a=>a.value);return i.length===0?null:i.length>1?i:i[0]}prepareWASM(t){const r=[];if(t.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const i=t.readUInt32LE(4);if(i!=1)throw new Error("Invalid version: "+i);let a=8;r.push(t.subarray(0,a));function s(){let y=0,A=0,E;do E=t[a++],y|=(E&127)<<A,A+=7;while(E&128);return y}function o(){const A=t[a++]&1,E=s(),B=A?s():null;return{initial:E,max:B}}function h(){const y=s(),A=t.subarray(a,a+y);return a+=y,A.toString("utf8")}function g(y){const A=[];do{let E=y&127;y>>=7,y!==0&&(E|=128),A.push(E)}while(y!==0);return Buffer.from(A)}function p(y){const A=Buffer.from(y,"utf8");return Buffer.concat([g(A.length),A])}do{const y=a,A=t.readUInt8(a);a++;const E=s(),B=a+E;if(A==5)r.push(Buffer.from([5,1,0]));else if(A==2){const O=[],K=s();for(let q=0;q<K;q++){const Y=a;h(),h();const C=t.readUInt8(a);a++;let z=!1;switch(C){case 0:s();break;case 1:a++,o();break;case 2:o(),z=!0;break;case 3:a++,a++;break;default:throw new Error("Invalid import kind: "+C)}z||O.push(t.subarray(Y,a))}const D=Buffer.concat([p("env"),p("memory"),Buffer.from([2]),Buffer.from([0]),g(1)]);O.push(D);const H=Buffer.concat([g(O.length),...O]);r.push(Buffer.concat([Buffer.from([2]),g(H.length),H]))}else if(A==7){const O=[],K=s();for(let H=0;H<K;H++){const q=a;h();const Y=t.readUInt8(a);a++,s(),Y!==2&&O.push(t.subarray(q,a))}const D=Buffer.concat([g(O.length),...O]);r.push(Buffer.concat([Buffer.from([7]),g(D.length),D]))}else r.push(t.subarray(y,B));a=B}while(a<t.length);return Buffer.concat(r)}getRegisterLength(t){return BigInt(this.registers[t.toString()]?this.registers[t.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(t,r){new Uint8Array(this.memory.buffer).set(this.registers[t.toString()]||Buffer.from([]),Number(r))}getCurrentAccountId(t){this.registers[t.toString()]=Buffer.from(this.context.contractId)}inputMethodArgs(t){this.registers[t.toString()]=Buffer.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(t,r,n){const i=new Uint8Array(this.memory.buffer,Number(r),Number(t));this.registers[n.toString()]=(0,Vv.sha256)(i)}returnValue(t,r){this.result=Buffer.from(new Uint8Array(this.memory.buffer,Number(r),Number(t)))}panic(t){throw new Error("panic: "+t)}abort(t,r,n,i){const a=this.readUTF16CStr(t),s=this.readUTF16CStr(r),o=`${a} ${s}:${n}:${i}`;throw!a||!s?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+o)}appendToLog(t,r){this.logs.push(this.readUTF8CStr(t,r))}readStorage(t,r,n){const i=this.storageRead(t,r);return i==null?0n:(this.registers[n]=i,1n)}hasStorageKey(t,r){return this.storageRead(t,r)==null?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(t,r)=>this.panic(this.readUTF8CStr(t,r)),epoch_height:Lt("epoch_height"),storage_usage:Lt("storage_usage"),account_balance:Lt("account_balance"),account_locked_balance:Lt("account_locked_balance"),random_seed:Lt("random_seed"),ripemd160:Lt("ripemd160"),keccak256:Lt("keccak256"),keccak512:Lt("keccak512"),ecrecover:Lt("ecrecover"),validator_stake:Lt("validator_stake"),validator_total_stake:Lt("validator_total_stake"),write_register:Te("write_register"),signer_account_id:Te("signer_account_id"),signer_account_pk:Te("signer_account_pk"),predecessor_account_id:Te("predecessor_account_id"),attached_deposit:Te("attached_deposit"),prepaid_gas:Te("prepaid_gas"),used_gas:Te("used_gas"),promise_create:Te("promise_create"),promise_then:Te("promise_then"),promise_and:Te("promise_and"),promise_batch_create:Te("promise_batch_create"),promise_batch_then:Te("promise_batch_then"),promise_batch_action_create_account:Te("promise_batch_action_create_account"),promise_batch_action_deploy_contract:Te("promise_batch_action_deploy_contract"),promise_batch_action_function_call:Te("promise_batch_action_function_call"),promise_batch_action_function_call_weight:Te("promise_batch_action_function_call_weight"),promise_batch_action_transfer:Te("promise_batch_action_transfer"),promise_batch_action_stake:Te("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:Te("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:Te("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:Te("promise_batch_action_delete_key"),promise_batch_action_delete_account:Te("promise_batch_action_delete_account"),promise_results_count:Te("promise_results_count"),promise_result:Te("promise_result"),promise_return:Te("promise_return"),storage_write:Te("storage_write"),storage_remove:Te("storage_remove")}}async execute(t){const r=await WebAssembly.compile(this.wasm),i=(await WebAssembly.instantiate(r,{env:{...this.getHostImports(),memory:this.memory}})).exports[t];if(i==null)throw new Error(`Contract method '${t}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return i(),{result:this.result,logs:this.logs}}}pa.Runtime=Jv;Object.defineProperty(ha,"__esModule",{value:!0});ha.LocalViewExecution=void 0;const Wv=tt,Zv=ba,Xv=pa,Yv=Pt;class Qv{constructor(t){k(this,"connection");k(this,"storage");this.connection=t.getConnection(),this.storage=new Zv.Storage}async fetchContractCode(t,r){return(await this.connection.provider.query({request_type:"view_code",account_id:t,...r})).code_base64}async fetchContractState(t,r){return(0,Yv.viewState)(this.connection,t,"",r)}async fetch(t,r){const n=await this.connection.provider.block(r),i=n.header.hash,a=n.header.height,s=n.header.timestamp,o=await this.fetchContractCode(t,r),h=await this.fetchContractState(t,r);return{blockHash:i,blockHeight:a,blockTimestamp:s,contractCode:o,contractState:h}}async loadOrFetch(t,r){const n=this.storage.load(r);if(n)return n;const{blockHash:i,...a}=await this.fetch(t,r);return this.storage.save(i,a),a}async viewFunction({contractId:t,methodName:r,args:n={},blockQuery:i={finality:"optimistic"}}){const a=JSON.stringify(n),{contractCode:s,contractState:o,blockHeight:h,blockTimestamp:g}=await this.loadOrFetch(t,i),p=new Xv.Runtime({contractId:t,contractCode:s,contractState:o,blockHeight:h,blockTimestamp:g,methodArgs:a}),{result:y,logs:A}=await p.execute(r);return A&&(0,Wv.printTxOutcomeLogs)({contractId:t,logs:A}),JSON.parse(Buffer.from(y).toString())}}ha.LocalViewExecution=Qv;var _s={exports:{}};function eg(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}var Uf=eg,ws=Uf,Ss=function(e,t){return ws(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};Ss.valid=ws;Ss.property=function(e){return ws(e)?e:JSON.stringify(e)};var tg=Ss,mc=Wo,$f=Uf,_c=/[\{\[]/,wc=/[\}\]]/,Sc=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],Ff={};for(var bo=0;bo<Sc.length;bo++)Ff[Sc[bo]]=!0;var rg=function(e){return $f(e)&&!Ff.hasOwnProperty(e)},qf={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},zf=function(){var e=[],t=0,r={},n=function(s){for(var o="";o.length<t*2;)o+="  ";e.push(o+s)},i=function(s){if(wc.test(s.trim()[0])&&_c.test(s[s.length-1])){t--,n(s),t++;return}if(_c.test(s[s.length-1])){n(s),t++;return}if(wc.test(s.trim()[0])){t--,n(s);return}n(s)},a=function(s){if(!s)return a;if(arguments.length===1&&s.indexOf(`
`)>-1)for(var o=s.trim().split(`
`),h=0;h<o.length;h++)i(o[h].trim());else i(mc.format.apply(mc,arguments));return a};return a.scope={},a.formats=qf,a.sym=function(s){return(!s||!rg(s))&&(s="tmp"),r[s]||(r[s]=0),s+(r[s]++||"")},a.property=function(s,o){return arguments.length===1&&(o=s,s=""),o=o+"",$f(o)?s?s+"."+o:o:s?s+"["+JSON.stringify(o)+"]":JSON.stringify(o)},a.toString=function(){return e.join(`
`)},a.toFunction=function(s){s||(s={});var o="return ("+a.toString()+")";Object.keys(a.scope).forEach(function(p){s[p]||(s[p]=a.scope[p])});var h=Object.keys(s).map(function(p){return p}),g=h.map(function(p){return s[p]});return Function.apply(null,h.concat(o)).apply(null,g)},arguments.length&&a.apply(null,arguments),a};zf.formats=qf;var ng=zf,ya={},ig=/~/,ag=/~[01]/g;function og(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function Hf(e){return ig.test(e)?e.replace(ag,og):e}function sg(e,t,r){for(var n,i,a=1,s=t.length;a<s;){if(t[a]==="constructor"||t[a]==="prototype"||t[a]==="__proto__")return e;if(n=Hf(t[a++]),i=s>a,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),i&&(t[a]!==""&&t[a]<1/0||t[a]==="-"?e[n]=[]:e[n]={})),!i)break;e=e[n]}var o=e[n];return r===void 0?delete e[n]:e[n]=r,o}function As(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function Gf(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=As(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[Hf(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function Vf(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=As(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return sg(e,t,r)}function cg(e){var t=As(e);return{get:function(r){return Gf(r,t)},set:function(r,n){return Vf(r,t,n)}}}ya.get=Gf;ya.set=Vf;ya.compile=cg;var ug=dg,fg=Object.prototype.hasOwnProperty;function dg(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)fg.call(r,n)&&(e[n]=r[n])}return e}var Jf={},Wf={exports:{}};(function(e){var t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r=/\/\d{1,3}(?=%|$)/,n=/\//,i=/%.*$/,a=/([^0-9a-f:/%])/i,s=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function o(p){if(!t.test(p))return!1;var y=p.split(".");if(y.length!==4||y[0][0]==="0"&&y[0].length>1||y[1][0]==="0"&&y[1].length>1||y[2][0]==="0"&&y[2].length>1||y[3][0]==="0"&&y[3].length>1)return!1;var A=Number(y[0]),E=Number(y[1]),B=Number(y[2]),O=Number(y[3]);return A>=0&&A<256&&E>=0&&E<256&&B>=0&&B<256&&O>=0&&O<256}function h(p){var y=p.replace(r,""),A=p.length!==y.length;if(A||!A&&n.test(p))return!1;var E=y.replace(i,""),B=E.lastIndexOf(":");if(B===-1)return!1;var O=E.substring(B+1),K=o(O),D=K?E.substring(0,B+1)+"1234:5678":E;if(a.test(D)||s.test(D))return!1;var H=D.split("::");if(H.length>2)return!1;if(H.length===2){var q=H[0]===""?[]:H[0].split(":"),Y=H[1]===""?[]:H[1].split(":"),C=8-(q.length+Y.length);if(C<=0)return!1}else if(D.split(":").length!==8)return!1;return!0}function g(p){return o(p)||h(p)}e.exports=function(y){if(y||(y={}),y.version===4)return o;if(y.version===6)return h;if(y.version==null)return g;throw new Error("Unknown version: "+y.version)},e.exports.__all_regexes__=[t,r,n,i,a,s]})(Wf);var lg=Wf.exports;(function(e){var t=lg,r=/\s/,n=/^[a-zA-Z0-9.-]+$/,i=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,a=/^\+[0-9][0-9 ]{5,27}[0-9]$/,s=/ {2}/,o=/ /g;e["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,e.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,e.time=/^\d{2}:\d{2}:\d{2}$/,e.email=function(h){return h.indexOf("@")!==-1&&!r.test(h)},e["ip-address"]=e.ipv4=t({version:4}),e.ipv6=t({version:6}),e.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,e.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,e.hostname=function(h){if(!n.test(h))return!1;for(var g=h.split("."),p=0;p<g.length;p++)if(!i.test(g[p]))return!1;return!0},e.alpha=/^[a-zA-Z]+$/,e.alphanumeric=/^[a-zA-Z0-9]+$/,e.style=/.:\s*[^;]/g,e.phone=function(h){if(!a.test(h)||s.test(h))return!1;var g=h.substring(1).replace(o,"").length;return g>=7&&g<=15},e["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(Jf);_s.exports;(function(e){var t=tg,r=ng,n=ya,i=ug,a=Jf,s=function(A,E,B){var O=function(C){return C&&C.id===B?C:typeof C!="object"||!C?null:Object.keys(C).reduce(function(z,Z){return z||O(C[Z])},null)},K=O(A);if(K)return K;B=B.replace(/^#/,""),B=B.replace(/\/$/,"");try{return n.get(A,decodeURI(B))}catch{var D=B.indexOf("#"),H;if(D!==0)if(D===-1)H=E[B];else{var q=B.slice(0,D);H=E[q];var Y=B.slice(D).replace(/^#/,"");try{return n.get(H,Y)}catch{}}else H=E[B];return H||null}},o={};o.any=function(){return"true"},o.null=function(A){return A+" === null"},o.boolean=function(A){return"typeof "+A+' === "boolean"'},o.array=function(A){return"Array.isArray("+A+")"},o.object=function(A){return"typeof "+A+' === "object" && '+A+" && !Array.isArray("+A+")"},o.number=function(A){return"typeof "+A+' === "number" && isFinite('+A+")"},o.integer=function(A){return"typeof "+A+' === "number" && (Math.floor('+A+") === "+A+" || "+A+" > 9007199254740992 || "+A+" < -9007199254740992)"},o.string=function(A){return"typeof "+A+' === "string"'};var h=function(A,E){E=Math.min(E===-1?A.length:E,A.length);for(var B=[],O=0;O<E;O++)B.push(typeof A[O]=="object"?JSON.stringify(A[O]):A[O]);for(var O=1;O<B.length;O++)if(B.indexOf(B[O])!==O)return!1;return!0},g=function(A,E){var B,O=(E|0)!==E?Math.pow(10,E.toString().split(".").pop().length):1;if(O>1){var K=(A|0)!==A?Math.pow(10,A.toString().split(".").pop().length):1;K>O?B=!0:B=Math.round(O*A)%(O*E)}else B=A%E;return!B},p=function(A,E,B){return B>-1&&E.length>B?!0:A.test(E)},y=function(A,E,B,O,K){var D=K?i(a,K.formats):a,H={unique:h,formats:D,isMultipleOf:g,testLimitedRegex:p},q=K?!!K.verbose:!1,Y=K&&K.greedy!==void 0?K.greedy:!1,C={},z=[],Z=function(v){var _=v+(C[v]=(C[v]||0)+1);return z.push(_),_},N=function(v){var _=JSON.stringify(v);try{for(var P=/\[([^\[\]"]+)\]/;P.test(_);)_=_.replace(P,I);return _}catch{return JSON.stringify(v)}function I(m,u){if(z.indexOf(u)===-1)throw new Error("Unreplaceable");return'." + '+u+' + "'}},j={},te=function(v){if(j[v])return j[v];var _=Z("pattern");return H[_]=new RegExp(v),j[v]=_,_},M=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],c=function(){var v=M.shift();return M.push(v+v[0]),z.push(v),v},d=function(v,_,P,I,m){var u=_.properties,w=_.type,$=!1;Array.isArray(_.items)&&(u={},_.items.forEach(function(fe,ae){u[ae]=fe}),w="array",$=!0);var G=0,F=function(fe,ae,se){b("errors++"),P===!0&&(b("if (validate.errors === null) validate.errors = []"),q?b("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",N(ae||v),JSON.stringify(fe),se||v,JSON.stringify(w),JSON.stringify(m)):b("validate.errors.push({field:%s,message:%s})",N(ae||v),JSON.stringify(fe)))};_.required===!0?(G++,b("if (%s === undefined) {",v),F("is required"),b("} else {")):(G++,b("if (%s !== undefined) {",v));var ie=[].concat(w).map(function(fe){if(fe&&!o.hasOwnProperty(fe))throw new Error("Unknown type: "+fe);return o[fe||"any"](v)}).join(" || ")||"true";if(ie!=="true"&&(G++,b("if (!(%s)) {",ie),F("is the wrong type"),b("} else {")),$){if(_.additionalItems===!1)b("if (%s.length > %d) {",v,_.items.length),F("has additional items"),b("}");else if(_.additionalItems){var J=c();b("for (var %s = %d; %s < %s.length; %s++) {",J,_.items.length,J,v,J),d(v+"["+J+"]",_.additionalItems,P,I,m.concat("additionalItems")),b("}")}}if(_.format&&D[_.format]){w!=="string"&&a[_.format]&&b("if (%s) {",o.string(v));var W=Z("format");H[W]=D[_.format],typeof H[W]=="function"?b("if (!%s(%s)) {",W,v):b("if (!testLimitedRegex(%s, %s, %d)) {",W,v,typeof _.maxLength>"u"?-1:_.maxLength),F("must be "+_.format+" format"),b("}"),w!=="string"&&a[_.format]&&b("}")}if(Array.isArray(_.required)){var W=Z("missing");b("var %s = 0",W);var pe=function(ae){var se=t(v,ae);b("if (%s === undefined) {",se),F("is required",se),b("%s++",W),b("}")};b("if ((%s)) {",w!=="object"?o.object(v):"true"),_.required.map(pe),b("}"),Y||(b("if (%s === 0) {",W),G++)}if(_.uniqueItems&&(w!=="array"&&b("if (%s) {",o.array(v)),b("if (!(unique(%s, %d))) {",v,_.maxItems||-1),F("must be unique"),b("}"),w!=="array"&&b("}")),_.enum){var ne=_.enum.some(function(fe){return typeof fe=="object"}),he=ne?function(fe){return"JSON.stringify("+v+") !== JSON.stringify("+JSON.stringify(fe)+")"}:function(fe){return v+" !== "+JSON.stringify(fe)};b("if (%s) {",_.enum.map(he).join(" && ")||"false"),F("must be an enum value"),b("}")}if(_.dependencies&&(w!=="object"&&b("if (%s) {",o.object(v)),Object.keys(_.dependencies).forEach(function(fe){var ae=_.dependencies[fe];typeof ae=="string"&&(ae=[ae]);var se=function(Be){return t(v,Be)+" !== undefined"};Array.isArray(ae)&&(b("if (%s !== undefined && !(%s)) {",t(v,fe),ae.map(se).join(" && ")||"true"),F("dependencies not set"),b("}")),typeof ae=="object"&&(b("if (%s !== undefined) {",t(v,fe)),d(v,ae,P,I,m.concat(["dependencies",fe])),b("}"))}),w!=="object"&&b("}")),_.additionalProperties||_.additionalProperties===!1){w!=="object"&&b("if (%s) {",o.object(v));var J=c(),ee=Z("keys"),U=function(ae){return ee+"["+J+"] !== "+JSON.stringify(ae)},V=function(ae){return"!"+te(ae)+".test("+ee+"["+J+"])"},ce=Object.keys(u||{}).map(U).concat(Object.keys(_.patternProperties||{}).map(V)).join(" && ")||"true";b("var %s = Object.keys(%s)",ee,v)("for (var %s = 0; %s < %s.length; %s++) {",J,J,ee,J)("if (%s) {",ce),_.additionalProperties===!1?(I&&b("delete %s",v+"["+ee+"["+J+"]]"),F("has additional properties",null,JSON.stringify(v+".")+" + "+ee+"["+J+"]")):d(v+"["+ee+"["+J+"]]",_.additionalProperties,P,I,m.concat(["additionalProperties"])),b("}")("}"),w!=="object"&&b("}")}if(_.$ref){var oe=s(B,K&&K.schemas||{},_.$ref);if(oe){var Q=E[_.$ref];Q||(E[_.$ref]=function(se){return Q(se)},Q=y(oe,E,B,!1,K));var W=Z("ref");H[W]=Q,b("if (!(%s(%s))) {",W,v),F("referenced schema does not match"),b("}")}}if(_.not){var re=Z("prev");b("var %s = errors",re),d(v,_.not,!1,I,m.concat("not")),b("if (%s === errors) {",re),F("negative schema matches"),b("} else {")("errors = %s",re)("}")}if(_.items&&!$){w!=="array"&&b("if (%s) {",o.array(v));var J=c();b("for (var %s = 0; %s < %s.length; %s++) {",J,J,v,J),d(v+"["+J+"]",_.items,P,I,m.concat("items")),b("}"),w!=="array"&&b("}")}if(_.patternProperties){w!=="object"&&b("if (%s) {",o.object(v));var ee=Z("keys"),J=c();b("var %s = Object.keys(%s)",ee,v)("for (var %s = 0; %s < %s.length; %s++) {",J,J,ee,J),Object.keys(_.patternProperties).forEach(function(se){var Be=te(se);b("if (%s.test(%s)) {",Be,ee+"["+J+"]"),d(v+"["+ee+"["+J+"]]",_.patternProperties[se],P,I,m.concat(["patternProperties",se])),b("}")}),b("}"),w!=="object"&&b("}")}if(_.pattern){var ue=te(_.pattern);w!=="string"&&b("if (%s) {",o.string(v)),b("if (!(testLimitedRegex(%s, %s, %d))) {",ue,v,typeof _.maxLength>"u"?-1:_.maxLength),F("pattern mismatch"),b("}"),w!=="string"&&b("}")}if(_.allOf&&_.allOf.forEach(function(fe,ae){d(v,fe,P,I,m.concat(["allOf",ae]))}),_.anyOf&&_.anyOf.length){var re=Z("prev");_.anyOf.forEach(function(ae,se){se===0?b("var %s = errors",re):b("if (errors !== %s) {",re)("errors = %s",re),d(v,ae,!1,!1,m)}),_.anyOf.forEach(function(ae,se){se&&b("}")}),b("if (%s !== errors) {",re),F("no schemas match"),b("}")}if(_.oneOf&&_.oneOf.length){var re=Z("prev"),le=Z("passes");b("var %s = errors",re)("var %s = 0",le),_.oneOf.forEach(function(ae,se){d(v,ae,!1,!1,m),b("if (%s === errors) {",re)("%s++",le)("} else {")("errors = %s",re)("}")}),b("if (%s !== 1) {",le),F("no (or more than one) schemas match"),b("}")}for(_.multipleOf!==void 0&&(w!=="number"&&w!=="integer"&&b("if (%s) {",o.number(v)),b("if (!isMultipleOf(%s, %d)) {",v,_.multipleOf),F("has a remainder"),b("}"),w!=="number"&&w!=="integer"&&b("}")),_.maxProperties!==void 0&&(w!=="object"&&b("if (%s) {",o.object(v)),b("if (Object.keys(%s).length > %d) {",v,_.maxProperties),F("has more properties than allowed"),b("}"),w!=="object"&&b("}")),_.minProperties!==void 0&&(w!=="object"&&b("if (%s) {",o.object(v)),b("if (Object.keys(%s).length < %d) {",v,_.minProperties),F("has less properties than allowed"),b("}"),w!=="object"&&b("}")),_.maxItems!==void 0&&(w!=="array"&&b("if (%s) {",o.array(v)),b("if (%s.length > %d) {",v,_.maxItems),F("has more items than allowed"),b("}"),w!=="array"&&b("}")),_.minItems!==void 0&&(w!=="array"&&b("if (%s) {",o.array(v)),b("if (%s.length < %d) {",v,_.minItems),F("has less items than allowed"),b("}"),w!=="array"&&b("}")),_.maxLength!==void 0&&(w!=="string"&&b("if (%s) {",o.string(v)),b("if (%s.length > %d) {",v,_.maxLength),F("has longer length than allowed"),b("}"),w!=="string"&&b("}")),_.minLength!==void 0&&(w!=="string"&&b("if (%s) {",o.string(v)),b("if (%s.length < %d) {",v,_.minLength),F("has less length than allowed"),b("}"),w!=="string"&&b("}")),_.minimum!==void 0&&(w!=="number"&&w!=="integer"&&b("if (%s) {",o.number(v)),b("if (%s %s %d) {",v,_.exclusiveMinimum?"<=":"<",_.minimum),F("is less than minimum"),b("}"),w!=="number"&&w!=="integer"&&b("}")),_.maximum!==void 0&&(w!=="number"&&w!=="integer"&&b("if (%s) {",o.number(v)),b("if (%s %s %d) {",v,_.exclusiveMaximum?">=":">",_.maximum),F("is more than maximum"),b("}"),w!=="number"&&w!=="integer"&&b("}")),u&&Object.keys(u).forEach(function(fe){Array.isArray(w)&&w.indexOf("null")!==-1&&b("if (%s !== null) {",v),d(t(v,fe),u[fe],P,I,m.concat($?fe:["properties",fe])),Array.isArray(w)&&w.indexOf("null")!==-1&&b("}")});G--;)b("}")},b=r("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return d("data",A,O,K&&K.filter,[]),b("return errors === 0")("}"),b=b.toFunction(H),b.errors=null,Object.defineProperty&&Object.defineProperty(b,"error",{get:function(){return b.errors?b.errors.map(function(v){return v.field+" "+v.message}).join(`
`):""}}),b.toJSON=function(){return A},b};e.exports=function(A,E){return typeof A=="string"&&(A=JSON.parse(A)),y(A,{},A,!0,E)},e.exports.filter=function(A,E){var B=e.exports(A,i(E,{filter:!0}));return function(O){return B(O),O}}})(_s);var hg=_s.exports,Zf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbiSerializationType=e.AbiFunctionModifier=e.AbiFunctionKind=e.SCHEMA_VERSION=void 0,e.SCHEMA_VERSION="0.3.0",function(t){t.View="view",t.Call="call"}(e.AbiFunctionKind||(e.AbiFunctionKind={})),function(t){t.Init="init",t.Private="private",t.Payable="payable"}(e.AbiFunctionModifier||(e.AbiFunctionModifier={})),function(t){t.Json="json",t.Borsh="borsh"}(e.AbiSerializationType||(e.AbiSerializationType={}))})(Zf);var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.ConflictingOptions=jt.ArgumentSchemaError=jt.UnknownArgumentError=jt.UnsupportedSerializationError=void 0;class bg extends Error{constructor(t,r){super(`Contract method '${t}' is using an unsupported serialization type ${r}`)}}jt.UnsupportedSerializationError=bg;class pg extends Error{constructor(t,r){super(`Unrecognized argument '${t}', expected '${JSON.stringify(r)}'`)}}jt.UnknownArgumentError=pg;class yg extends Error{constructor(t,r){super(`Argument '${t}' does not conform to the specified ABI schema: '${JSON.stringify(r)}'`)}}jt.ArgumentSchemaError=yg;class vg extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}jt.ConflictingOptions=vg;var Xf=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});la.Contract=void 0;const po=tt,ko=yt,gg=ha,mg=Xf(hg),Ac=Xf(zc),vi=Zf,_g=Sn,Nn=jt,wg=Pt;function Ec(e,t){return{[e](...r){return t(...r)}}[e]}function xc(e,t,r){var i;if(!ii(e))return;if(t.params&&t.params.serialization_type!==vi.AbiSerializationType.Json)throw new Nn.UnsupportedSerializationError(t.name,t.params.serialization_type);if(t.result&&t.result.serialization_type!==vi.AbiSerializationType.Json)throw new Nn.UnsupportedSerializationError(t.name,t.result.serialization_type);const n=((i=t.params)==null?void 0:i.args)||[];for(const a of n){const s=e[a.name],o=a.type_schema;o.definitions=r.body.root_schema.definitions;const h=(0,mg.default)(o);if(!h(s))throw new Nn.ArgumentSchemaError(a.name,h.errors)}for(const a of Object.keys(e))if(!n.find(o=>o.name===a))throw new Nn.UnknownArgumentError(a,n.map(o=>o.name))}const Ic=e=>e&&e.byteLength!==void 0&&e.byteLength===e.length,ii=e=>Object.prototype.toString.call(e)==="[object Object]";class Sg{constructor(t,r,n){k(this,"account");k(this,"connection");k(this,"contractId");k(this,"lve");this.connection=t.getConnection(),t instanceof _g.Account&&((0,Ac.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=t),this.contractId=r,this.lve=new gg.LocalViewExecution(t);const{viewMethods:i=[],changeMethods:a=[],abi:s,useLocalViewExecution:o}=n;let h=i.map(p=>({name:p,abi:null})),g=a.map(p=>({name:p,abi:null}));if(s){if(h.length>0||g.length>0)throw new Nn.ConflictingOptions;h=s.body.functions.filter(p=>p.kind===vi.AbiFunctionKind.View).map(p=>({name:p.name,abi:p})),g=s.body.functions.filter(p=>p.kind===vi.AbiFunctionKind.Call).map(p=>({name:p.name,abi:p}))}h.forEach(({name:p,abi:y})=>{Object.defineProperty(this,p,{writable:!1,enumerable:!0,value:Ec(p,async(A={},E={},...B)=>{if(B.length||!(ii(A)||Ic(A))||!ii(E))throw new ko.PositionalArgsError;if(y&&xc(A,y,s),o)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:p,args:A,...E})}catch(O){po.Logger.warn(`Local view execution failed with: "${O.message}"`),po.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:p,args:A,...E}):(0,wg.viewFunction)(this.connection,{contractId:this.contractId,methodName:p,args:A,...E})})})}),g.forEach(({name:p,abi:y})=>{Object.defineProperty(this,p,{writable:!1,enumerable:!0,value:Ec(p,async(...A)=>{if(A.length&&(A.length>3||!(ii(A[0])||Ic(A[0]))))throw new ko.PositionalArgsError;return(A.length>1||!(A[0]&&A[0].args))&&((0,Ac.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),A[0]={args:A[0],gas:A[1],amount:A[2]}),y&&xc(A[0].args,y,s),this._changeMethod({methodName:p,...A[0]})})})})}async _changeMethod({signerAccount:t,args:r,methodName:n,gas:i,amount:a,meta:s,callbackUrl:o}){Ag({gas:i,amount:a});const h=this.account||t;if(!h)throw new Error("signerAccount must be specified");const g=await h.functionCall({contractId:this.contractId,methodName:n,args:r,gas:i,attachedDeposit:a,walletMeta:s,walletCallbackUrl:o});return(0,po.getTransactionLastResult)(g)}}la.Contract=Sg;function Ag(e){const t="number, decimal string or BigInt";for(const r of Object.keys(e)){const n=e[r];if(n&&typeof n!="bigint"&&isNaN(n))throw new ko.ArgumentTypeError(r,t,n)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.UnsupportedSerializationError=e.UnknownArgumentError=e.ConflictingOptions=e.ArgumentSchemaError=e.Contract=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.Connection=e.AccountMultisig=e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=e.Account2FA=e.Account=void 0;var t=Sn;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}});var r=ua;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return r.Account2FA}});var n=wr;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return n.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return n.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return n.UrlAccountCreator}});var i=Vn;Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return i.AccountMultisig}});var a=fa;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return a.Connection}});var s=ct;Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return s.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return s.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return s.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return s.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return s.MULTISIG_CONFIRM_METHODS}});var o=la;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return o.Contract}});var h=jt;Object.defineProperty(e,"ArgumentSchemaError",{enumerable:!0,get:function(){return h.ArgumentSchemaError}}),Object.defineProperty(e,"ConflictingOptions",{enumerable:!0,get:function(){return h.ConflictingOptions}}),Object.defineProperty(e,"UnknownArgumentError",{enumerable:!0,get:function(){return h.UnknownArgumentError}}),Object.defineProperty(e,"UnsupportedSerializationError",{enumerable:!0,get:function(){return h.UnsupportedSerializationError}});var g=Mr;Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return g.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return g.MultisigStateStatus}})})(Br);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;var t=Br;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return t.Account}})})(Kf);var Yf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=e.AccountMultisig=e.Account2FA=void 0;var t=Br;Object.defineProperty(e,"Account2FA",{enumerable:!0,get:function(){return t.Account2FA}}),Object.defineProperty(e,"AccountMultisig",{enumerable:!0,get:function(){return t.AccountMultisig}}),Object.defineProperty(e,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return t.MULTISIG_STORAGE_KEY}}),Object.defineProperty(e,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return t.MULTISIG_ALLOWANCE}}),Object.defineProperty(e,"MULTISIG_GAS",{enumerable:!0,get:function(){return t.MULTISIG_GAS}}),Object.defineProperty(e,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return t.MULTISIG_DEPOSIT}}),Object.defineProperty(e,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(e,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return t.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(e,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return t.MultisigDeleteRequestRejectionError}}),Object.defineProperty(e,"MultisigStateStatus",{enumerable:!0,get:function(){return t.MultisigStateStatus}})})(Yf);var Qf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;var t=Br;Object.defineProperty(e,"AccountCreator",{enumerable:!0,get:function(){return t.AccountCreator}}),Object.defineProperty(e,"LocalAccountCreator",{enumerable:!0,get:function(){return t.LocalAccountCreator}}),Object.defineProperty(e,"UrlAccountCreator",{enumerable:!0,get:function(){return t.UrlAccountCreator}})})(Qf);var ed={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var t=Br;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return t.Connection}})})(ed);var td={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Signer=e.InMemorySigner=void 0;var t=vs;Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return t.InMemorySigner}}),Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return t.Signer}})})(td);var rd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;var t=Br;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return t.Contract}})})(rd);var Es={},xs={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.Near=void 0;const Gr=Br;class Eg{constructor(t){k(this,"config");k(this,"connection");k(this,"accountCreator");var r;if(this.config=t,this.connection=Gr.Connection.fromConfig({networkId:t.networkId,provider:t.provider||{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||((r=t.deps)==null?void 0:r.keyStore)},jsvmAccountId:t.jsvmAccountId||`jsvm.${t.networkId}`}),t.masterAccount){const n=t.initialBalance?BigInt(t.initialBalance):500000000000000000000000000n;this.accountCreator=new Gr.LocalAccountCreator(new Gr.Account(this.connection,t.masterAccount),n)}else t.helperUrl?this.accountCreator=new Gr.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}async account(t){return new Gr.Account(this.connection,t)}async createAccount(t,r){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(t,r),new Gr.Account(this.connection,t)}}va.Near=Eg;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.ConnectedWalletAccount=un.WalletConnection=void 0;const xg=Br,nd=Ut,Ig=tt,id=Ar,Mg=Er,Pg="/login/",Bg="add_request_and_confirm",Tg="_wallet_auth_key",yo="pending_key";class Og{constructor(t,r){k(this,"_walletBaseUrl");k(this,"_authDataKey");k(this,"_keyStore");k(this,"_authData");k(this,"_networkId");k(this,"_near");k(this,"_connectedAccount");k(this,"_completeSignInPromise");if(typeof r!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(a,s){return s==="isSignedIn"?()=>!1:s==="getAccountId"?()=>"":a[s]&&typeof a[s]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:a[s]}});this._near=t;const n=r+Tg,i=JSON.parse(window.localStorage.getItem(n));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,r=r||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=i||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}async isSignedInAsync(){return this._completeSignInPromise?(await this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()}getAccountId(){return this._authData.accountId||""}async requestSignInUrl({contractId:t,methodNames:r,successUrl:n,failureUrl:i,keyType:a="ed25519"}){const s=new URL(window.location.href),o=new URL(this._walletBaseUrl+Pg);if(o.searchParams.set("success_url",n||s.href),o.searchParams.set("failure_url",i||s.href),t){await(await this._near.account(t)).state(),o.searchParams.set("contract_id",t);const g=nd.KeyPair.fromRandom(a);o.searchParams.set("public_key",g.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,yo+g.getPublicKey(),g)}return r&&r.forEach(h=>{o.searchParams.append("methodNames",h)}),o.toString()}async requestSignIn(t){const r=await this.requestSignInUrl(t);window.location.assign(r)}requestSignTransactionsUrl({transactions:t,meta:r,callbackUrl:n}){const i=new URL(window.location.href),a=new URL("sign",this._walletBaseUrl);return a.searchParams.set("transactions",t.map(s=>(0,Mg.serialize)(id.SCHEMA.Transaction,s)).map(s=>Buffer.from(s).toString("base64")).join(",")),a.searchParams.set("callbackUrl",n||i.href),r&&a.searchParams.set("meta",r),a.toString()}requestSignTransactions(t){const r=this.requestSignTransactionsUrl(t);window.location.assign(r)}async _completeSignInWithAccessKey(){const t=new URL(window.location.href),r=t.searchParams.get("public_key")||"",n=(t.searchParams.get("all_keys")||"").split(","),i=t.searchParams.get("account_id")||"";if(i){const a={accountId:i,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(a)),r&&await this._moveKeyFromTempToPermanent(i,r),this._authData=a}t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString())}async _moveKeyFromTempToPermanent(t,r){const n=await this._keyStore.getKey(this._networkId,yo+r);await this._keyStore.setKey(this._networkId,t,n),await this._keyStore.removeKey(this._networkId,yo+r)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ad(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}un.WalletConnection=Og;class ad extends xg.Account{constructor(r,n,i){super(n,i);k(this,"walletConnection");this.walletConnection=r}async signAndSendTransaction({receiverId:r,actions:n,walletMeta:i,walletCallbackUrl:a=window.location.href}){const s=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let o=await this.accessKeyForTransaction(r,n,s);if(!o)throw new Error(`Cannot find matching key for transaction sent to ${r}`);if(s&&s.toString()===o.public_key)try{return await super.signAndSendTransaction({receiverId:r,actions:n})}catch(E){if(E.type==="NotEnoughAllowance")o=await this.accessKeyForTransaction(r,n);else throw E}const h=await this.connection.provider.block({finality:"final"}),g=(0,Ig.baseDecode)(h.header.hash),p=nd.PublicKey.from(o.public_key),y=o.access_key.nonce+1n,A=(0,id.createTransaction)(this.accountId,p,r,y,n,g);return await this.walletConnection.requestSignTransactions({transactions:[A],meta:i,callbackUrl:a}),new Promise((E,B)=>{setTimeout(()=>{B(new Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(r,n,i){const{access_key:{permission:a}}=r;if(a==="FullAccess")return!0;if(a.FunctionCall){const{receiver_id:s,method_names:o}=a.FunctionCall;if(s===this.accountId&&o.includes(Bg))return!0;if(s===n){if(i.length!==1)return!1;const[{functionCall:h}]=i;return h&&(!h.deposit||h.deposit.toString()==="0")&&(o.length===0||o.includes(h.methodName))}}return!1}async accessKeyForTransaction(r,n,i){const a=await this.getAccessKeys();if(i){const o=a.find(h=>h.public_key.toString()===i.toString());if(o&&await this.accessKeyMatchesTransaction(o,r,n))return o}const s=this.walletConnection._authData.allKeys;for(const o of a)if(s.indexOf(o.public_key)!==-1&&await this.accessKeyMatchesTransaction(o,r,n))return o;return null}}un.ConnectedWalletAccount=ad;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=void 0;var t=va;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}});var r=un;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return r.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return r.WalletConnection}})})(xs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;var t=xs;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return t.Near}})})(Es);var od={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=void 0;var t=xs;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return t.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return t.WalletConnection}})})(od);(function(e){var t=X&&X.__createBinding||(Object.create?function(D,H,q,Y){Y===void 0&&(Y=q);var C=Object.getOwnPropertyDescriptor(H,q);(!C||("get"in C?!H.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return H[q]}}),Object.defineProperty(D,Y,C)}:function(D,H,q,Y){Y===void 0&&(Y=q),D[Y]=H[q]}),r=X&&X.__setModuleDefault||(Object.create?function(D,H){Object.defineProperty(D,"default",{enumerable:!0,value:H})}:function(D,H){D.default=H}),n=X&&X.__importStar||function(D){if(D&&D.__esModule)return D;var H={};if(D!=null)for(var q in D)q!=="default"&&Object.prototype.hasOwnProperty.call(D,q)&&t(H,D,q);return r(H,D),H};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const i=n(hf);e.providers=i;const a=n(Bf);e.utils=a;const s=n(Rf);e.transactions=s;const o=n(Lf);e.validators=o;const h=Kf;Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return h.Account}});const g=n(Yf);e.multisig=g;const p=n(Qf);e.accountCreator=p;const y=ed;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return y.Connection}});const A=td;Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return A.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return A.InMemorySigner}});const E=rd;Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return E.Contract}});const B=yi;Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return B.KeyPair}});const O=Es;Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return O.Near}});const K=od;Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return K.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return K.WalletConnection}})})(lf);var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.connect=void 0;const Cg=Es;async function Ng(e){return new Cg.Near(e)}ga.connect=Ng;(function(e){var t=X&&X.__createBinding||(Object.create?function(a,s,o,h){h===void 0&&(h=o);var g=Object.getOwnPropertyDescriptor(s,o);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,h,g)}:function(a,s,o,h){h===void 0&&(h=o),a[h]=s[o]}),r=X&&X.__setModuleDefault||(Object.create?function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}:function(a,s){a.default=s}),n=X&&X.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var o in a)o!=="default"&&Object.prototype.hasOwnProperty.call(a,o)&&t(s,a,o);return r(s,a),s},i=X&&X.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,a,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=void 0,e.keyStores=n(kc),i(lf,e),i(ga,e)})(Et);const sd={networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://testnet.nearblocks.io",indexerUrl:"https://testnet-api.kitwallet.app"};let Is;const kg=new Et.providers.FailoverRpcProvider([new Et.providers.JsonRpcProvider({url:sd.nodeUrl})]),Rg=async()=>{const e=new Et.keyStores.BrowserLocalStorageKeyStore,t=await Et.connect({keyStore:e,walletUrl:"https://testnet.mynearwallet.com",...sd,headers:{}});return{wallet:new Et.WalletConnection(t,"near_app"),keyStore:e}};(async()=>Is=await Rg())();const Lg=document.getElementById("sign-in"),Kg=document.getElementById("sign-transaction");Lg.addEventListener("click",()=>{Is.wallet.requestSignIn({contractId:"guest-book.testnet",methodNames:["getMessages","addMessage"]})});Kg.addEventListener("click",async()=>{const e="guest-book.testnet",t={text:"test"},r=[Et.transactions.functionCall("addMessage",mi.Buffer.from(JSON.stringify(t)),BigInt(1e13),BigInt(0))],n=await Is.wallet.account(),{networkId:i,signer:a}=n.connection,s=await a.getPublicKey(n.accountId,i),o=await n.accessKeyForTransaction(e,r,s);if(!o)throw new Error(`Failed to find matching key for transaction sent to ${e}`);const h=await kg.block({finality:"final"}),g=o.access_key.nonce+BigInt(1),p=Et.transactions.createTransaction(n.accountId,Et.utils.PublicKey.from(o.public_key),e,g,r,Et.utils.serialize.base_decode(h.header.hash)),y=p.encode(),A=Et.transactions.Transaction.decode(y);console.log({originalTX:p}),console.log({decodedTX:A}),console.log({publicKey:A.publicKey.toString()}),await Et.transactions.signTransaction(p,a,n.accountId,i)});
