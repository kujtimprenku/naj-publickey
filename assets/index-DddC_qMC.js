function gd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _d(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var Ps={exports:{}},$e=Ps.exports={},Gt,Vt;function Ca(){throw new Error("setTimeout has not been defined")}function Na(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Gt=setTimeout:Gt=Ca}catch{Gt=Ca}try{typeof clearTimeout=="function"?Vt=clearTimeout:Vt=Na}catch{Vt=Na}})();function Cs(t){if(Gt===setTimeout)return setTimeout(t,0);if((Gt===Ca||!Gt)&&setTimeout)return Gt=setTimeout,setTimeout(t,0);try{return Gt(t,0)}catch{try{return Gt.call(null,t,0)}catch{return Gt.call(this,t,0)}}}function wd(t){if(Vt===clearTimeout)return clearTimeout(t);if((Vt===Na||!Vt)&&clearTimeout)return Vt=clearTimeout,clearTimeout(t);try{return Vt(t)}catch{try{return Vt.call(null,t)}catch{return Vt.call(this,t)}}}var ur=[],sn=!1,jr,bi=-1;function Sd(){!sn||!jr||(sn=!1,jr.length?ur=jr.concat(ur):bi=-1,ur.length&&Ns())}function Ns(){if(!sn){var t=Cs(Sd);sn=!0;for(var e=ur.length;e;){for(jr=ur,ur=[];++bi<e;)jr&&jr[bi].run();bi=-1,e=ur.length}jr=null,sn=!1,wd(t)}}$e.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ur.push(new Rs(t,e)),ur.length===1&&!sn&&Cs(Ns)};function Rs(t,e){this.fun=t,this.array=e}Rs.prototype.run=function(){this.fun.apply(null,this.array)};$e.title="browser";$e.browser=!0;$e.env={};$e.argv=[];$e.version="";$e.versions={};function hr(){}$e.on=hr;$e.addListener=hr;$e.once=hr;$e.off=hr;$e.removeListener=hr;$e.removeAllListeners=hr;$e.emit=hr;$e.prependListener=hr;$e.prependOnceListener=hr;$e.listeners=function(t){return[]};$e.binding=function(t){throw new Error("process.binding is not supported")};$e.cwd=function(){return"/"};$e.chdir=function(t){throw new Error("process.chdir is not supported")};$e.umask=function(){return 0};var Ls=Ps.exports;const Ed=md(Ls),Ad=gd({__proto__:null,default:Ed},[Ls]);var Bi={},Pi={};Pi.byteLength=Md;Pi.toByteArray=Td;Pi.fromByteArray=Cd;var Jt=[],xt=[],xd=typeof Uint8Array<"u"?Uint8Array:Array,Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jr=0,Id=Qo.length;Jr<Id;++Jr)Jt[Jr]=Qo[Jr],xt[Qo.charCodeAt(Jr)]=Jr;xt[45]=62;xt[95]=63;function ks(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Md(t){var e=ks(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Od(t,e,r){return(e+r)*3/4-r}function Td(t){var e,r=ks(t),n=r[0],o=r[1],i=new xd(Od(t,n,o)),a=0,c=o>0?n-4:n,h;for(h=0;h<c;h+=4)e=xt[t.charCodeAt(h)]<<18|xt[t.charCodeAt(h+1)]<<12|xt[t.charCodeAt(h+2)]<<6|xt[t.charCodeAt(h+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=xt[t.charCodeAt(h)]<<2|xt[t.charCodeAt(h+1)]>>4,i[a++]=e&255),o===1&&(e=xt[t.charCodeAt(h)]<<10|xt[t.charCodeAt(h+1)]<<4|xt[t.charCodeAt(h+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function Bd(t){return Jt[t>>18&63]+Jt[t>>12&63]+Jt[t>>6&63]+Jt[t&63]}function Pd(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(Bd(n));return o.join("")}function Cd(t){for(var e,r=t.length,n=r%3,o=[],i=16383,a=0,c=r-n;a<c;a+=i)o.push(Pd(t,a,a+i>c?c:a+i));return n===1?(e=t[r-1],o.push(Jt[e>>2]+Jt[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"=")),o.join("")}var Va={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Va.read=function(t,e,r,n,o){var i,a,c=o*8-n-1,h=(1<<c)-1,v=h>>1,u=-7,p=r?o-1:0,A=r?-1:1,S=t[e+p];for(p+=A,i=S&(1<<-u)-1,S>>=-u,u+=c;u>0;i=i*256+t[e+p],p+=A,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=a*256+t[e+p],p+=A,u-=8);if(i===0)i=1-v;else{if(i===h)return a?NaN:(S?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-v}return(S?-1:1)*a*Math.pow(2,i-n)};Va.write=function(t,e,r,n,o,i){var a,c,h,v=i*8-o-1,u=(1<<v)-1,p=u>>1,A=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:i-1,O=n?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),a+p>=1?e+=A/h:e+=A*Math.pow(2,1-p),e*h>=2&&(a++,h/=2),a+p>=u?(c=0,a=u):a+p>=1?(c=(e*h-1)*Math.pow(2,o),a=a+p):(c=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;t[r+S]=c&255,S+=O,c/=256,o-=8);for(a=a<<o|c,v+=o;v>0;t[r+S]=a&255,S+=O,a/=256,v-=8);t[r+S-O]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Pi,r=Va,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=$,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const E=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(E,d),E.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(E){if(E>o)throw new RangeError('The value "'+E+'" is invalid for option "size"');const d=new Uint8Array(E);return Object.setPrototypeOf(d,c.prototype),d}function c(E,d,b){if(typeof E=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(E)}return h(E,d,b)}c.poolSize=8192;function h(E,d,b){if(typeof E=="string")return A(E,d);if(ArrayBuffer.isView(E))return O(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(ae(E,ArrayBuffer)||E&&ae(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(E,SharedArrayBuffer)||E&&ae(E.buffer,SharedArrayBuffer)))return B(E,d,b);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=E.valueOf&&E.valueOf();if(x!=null&&x!==E)return c.from(x,d,b);const P=R(E);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return c.from(E[Symbol.toPrimitive]("string"),d,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}c.from=function(E,d,b){return h(E,d,b)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function v(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function u(E,d,b){return v(E),E<=0?a(E):d!==void 0?typeof b=="string"?a(E).fill(d,b):a(E).fill(d):a(E)}c.alloc=function(E,d,b){return u(E,d,b)};function p(E){return v(E),a(E<0?0:N(E)|0)}c.allocUnsafe=function(E){return p(E)},c.allocUnsafeSlow=function(E){return p(E)};function A(E,d){if((typeof d!="string"||d==="")&&(d="utf8"),!c.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const b=U(E,d)|0;let x=a(b);const P=x.write(E,d);return P!==b&&(x=x.slice(0,P)),x}function S(E){const d=E.length<0?0:N(E.length)|0,b=a(d);for(let x=0;x<d;x+=1)b[x]=E[x]&255;return b}function O(E){if(ae(E,Uint8Array)){const d=new Uint8Array(E);return B(d.buffer,d.byteOffset,d.byteLength)}return S(E)}function B(E,d,b){if(d<0||E.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<d+(b||0))throw new RangeError('"length" is outside of buffer bounds');let x;return d===void 0&&b===void 0?x=new Uint8Array(E):b===void 0?x=new Uint8Array(E,d):x=new Uint8Array(E,d,b),Object.setPrototypeOf(x,c.prototype),x}function R(E){if(c.isBuffer(E)){const d=N(E.length)|0,b=a(d);return b.length===0||E.copy(b,0,0,d),b}if(E.length!==void 0)return typeof E.length!="number"||Oe(E.length)?a(0):S(E);if(E.type==="Buffer"&&Array.isArray(E.data))return S(E.data)}function N(E){if(E>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return E|0}function $(E){return+E!=E&&(E=0),c.alloc(+E)}c.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==c.prototype},c.compare=function(d,b){if(ae(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),ae(b,Uint8Array)&&(b=c.from(b,b.offset,b.byteLength)),!c.isBuffer(d)||!c.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===b)return 0;let x=d.length,P=b.length;for(let k=0,K=Math.min(x,P);k<K;++k)if(d[k]!==b[k]){x=d[k],P=b[k];break}return x<P?-1:P<x?1:0},c.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(d,b){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return c.alloc(0);let x;if(b===void 0)for(b=0,x=0;x<d.length;++x)b+=d[x].length;const P=c.allocUnsafe(b);let k=0;for(x=0;x<d.length;++x){let K=d[x];if(ae(K,Uint8Array))k+K.length>P.length?(c.isBuffer(K)||(K=c.from(K)),K.copy(P,k)):Uint8Array.prototype.set.call(P,K,k);else if(c.isBuffer(K))K.copy(P,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=K.length}return P};function U(E,d){if(c.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||ae(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const b=E.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&b===0)return 0;let P=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return te(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ue(E).length;default:if(P)return x?-1:te(E).length;d=(""+d).toLowerCase(),P=!0}}c.byteLength=U;function V(E,d,b){let x=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,d>>>=0,b<=d))return"";for(E||(E="utf8");;)switch(E){case"hex":return m(this,d,b);case"utf8":case"utf-8":return y(this,d,b);case"ascii":return T(this,d,b);case"latin1":case"binary":return I(this,d,b);case"base64":return l(this,d,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,d,b);default:if(x)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),x=!0}}c.prototype._isBuffer=!0;function C(E,d,b){const x=E[d];E[d]=E[b],E[b]=x}c.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<d;b+=2)C(this,b,b+1);return this},c.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<d;b+=4)C(this,b,b+3),C(this,b+1,b+2);return this},c.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<d;b+=8)C(this,b,b+7),C(this,b+1,b+6),C(this,b+2,b+5),C(this,b+3,b+4);return this},c.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?y(this,0,d):V.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(d){if(!c.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:c.compare(this,d)===0},c.prototype.inspect=function(){let d="";const b=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(d+=" ... "),"<Buffer "+d+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(d,b,x,P,k){if(ae(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(b===void 0&&(b=0),x===void 0&&(x=d?d.length:0),P===void 0&&(P=0),k===void 0&&(k=this.length),b<0||x>d.length||P<0||k>this.length)throw new RangeError("out of range index");if(P>=k&&b>=x)return 0;if(P>=k)return-1;if(b>=x)return 1;if(b>>>=0,x>>>=0,P>>>=0,k>>>=0,this===d)return 0;let K=k-P,fe=x-b;const Re=Math.min(K,fe),ve=this.slice(P,k),me=d.slice(b,x);for(let Me=0;Me<Re;++Me)if(ve[Me]!==me[Me]){K=ve[Me],fe=me[Me];break}return K<fe?-1:fe<K?1:0};function H(E,d,b,x,P){if(E.length===0)return-1;if(typeof b=="string"?(x=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Oe(b)&&(b=P?0:E.length-1),b<0&&(b=E.length+b),b>=E.length){if(P)return-1;b=E.length-1}else if(b<0)if(P)b=0;else return-1;if(typeof d=="string"&&(d=c.from(d,x)),c.isBuffer(d))return d.length===0?-1:X(E,d,b,x,P);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(E,d,b):Uint8Array.prototype.lastIndexOf.call(E,d,b):X(E,[d],b,x,P);throw new TypeError("val must be string, number or Buffer")}function X(E,d,b,x,P){let k=1,K=E.length,fe=d.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(E.length<2||d.length<2)return-1;k=2,K/=2,fe/=2,b/=2}function Re(me,Me){return k===1?me[Me]:me.readUInt16BE(Me*k)}let ve;if(P){let me=-1;for(ve=b;ve<K;ve++)if(Re(E,ve)===Re(d,me===-1?0:ve-me)){if(me===-1&&(me=ve),ve-me+1===fe)return me*k}else me!==-1&&(ve-=ve-me),me=-1}else for(b+fe>K&&(b=K-fe),ve=b;ve>=0;ve--){let me=!0;for(let Me=0;Me<fe;Me++)if(Re(E,ve+Me)!==Re(d,Me)){me=!1;break}if(me)return ve}return-1}c.prototype.includes=function(d,b,x){return this.indexOf(d,b,x)!==-1},c.prototype.indexOf=function(d,b,x){return H(this,d,b,x,!0)},c.prototype.lastIndexOf=function(d,b,x){return H(this,d,b,x,!1)};function L(E,d,b,x){b=Number(b)||0;const P=E.length-b;x?(x=Number(x),x>P&&(x=P)):x=P;const k=d.length;x>k/2&&(x=k/2);let K;for(K=0;K<x;++K){const fe=parseInt(d.substr(K*2,2),16);if(Oe(fe))return K;E[b+K]=fe}return K}function j(E,d,b,x){return ie(te(d,E.length-b),E,b,x)}function ee(E,d,b,x){return ie(se(d),E,b,x)}function M(E,d,b,x){return ie(ue(d),E,b,x)}function s(E,d,b,x){return ie(de(d,E.length-b),E,b,x)}c.prototype.write=function(d,b,x,P){if(b===void 0)P="utf8",x=this.length,b=0;else if(x===void 0&&typeof b=="string")P=b,x=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(x)?(x=x>>>0,P===void 0&&(P="utf8")):(P=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-b;if((x===void 0||x>k)&&(x=k),d.length>0&&(x<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let K=!1;for(;;)switch(P){case"hex":return L(this,d,b,x);case"utf8":case"utf-8":return j(this,d,b,x);case"ascii":case"latin1":case"binary":return ee(this,d,b,x);case"base64":return M(this,d,b,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,d,b,x);default:if(K)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),K=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function l(E,d,b){return d===0&&b===E.length?e.fromByteArray(E):e.fromByteArray(E.slice(d,b))}function y(E,d,b){b=Math.min(E.length,b);const x=[];let P=d;for(;P<b;){const k=E[P];let K=null,fe=k>239?4:k>223?3:k>191?2:1;if(P+fe<=b){let Re,ve,me,Me;switch(fe){case 1:k<128&&(K=k);break;case 2:Re=E[P+1],(Re&192)===128&&(Me=(k&31)<<6|Re&63,Me>127&&(K=Me));break;case 3:Re=E[P+1],ve=E[P+2],(Re&192)===128&&(ve&192)===128&&(Me=(k&15)<<12|(Re&63)<<6|ve&63,Me>2047&&(Me<55296||Me>57343)&&(K=Me));break;case 4:Re=E[P+1],ve=E[P+2],me=E[P+3],(Re&192)===128&&(ve&192)===128&&(me&192)===128&&(Me=(k&15)<<18|(Re&63)<<12|(ve&63)<<6|me&63,Me>65535&&Me<1114112&&(K=Me))}}K===null?(K=65533,fe=1):K>65535&&(K-=65536,x.push(K>>>10&1023|55296),K=56320|K&1023),x.push(K),P+=fe}return _(x)}const g=4096;function _(E){const d=E.length;if(d<=g)return String.fromCharCode.apply(String,E);let b="",x=0;for(;x<d;)b+=String.fromCharCode.apply(String,E.slice(x,x+=g));return b}function T(E,d,b){let x="";b=Math.min(E.length,b);for(let P=d;P<b;++P)x+=String.fromCharCode(E[P]&127);return x}function I(E,d,b){let x="";b=Math.min(E.length,b);for(let P=d;P<b;++P)x+=String.fromCharCode(E[P]);return x}function m(E,d,b){const x=E.length;(!d||d<0)&&(d=0),(!b||b<0||b>x)&&(b=x);let P="";for(let k=d;k<b;++k)P+=_e[E[k]];return P}function f(E,d,b){const x=E.slice(d,b);let P="";for(let k=0;k<x.length-1;k+=2)P+=String.fromCharCode(x[k]+x[k+1]*256);return P}c.prototype.slice=function(d,b){const x=this.length;d=~~d,b=b===void 0?x:~~b,d<0?(d+=x,d<0&&(d=0)):d>x&&(d=x),b<0?(b+=x,b<0&&(b=0)):b>x&&(b=x),b<d&&(b=d);const P=this.subarray(d,b);return Object.setPrototypeOf(P,c.prototype),P};function w(E,d,b){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+d>b)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(d,b,x){d=d>>>0,b=b>>>0,x||w(d,b,this.length);let P=this[d],k=1,K=0;for(;++K<b&&(k*=256);)P+=this[d+K]*k;return P},c.prototype.readUintBE=c.prototype.readUIntBE=function(d,b,x){d=d>>>0,b=b>>>0,x||w(d,b,this.length);let P=this[d+--b],k=1;for(;b>0&&(k*=256);)P+=this[d+--b]*k;return P},c.prototype.readUint8=c.prototype.readUInt8=function(d,b){return d=d>>>0,b||w(d,1,this.length),this[d]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(d,b){return d=d>>>0,b||w(d,2,this.length),this[d]|this[d+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(d,b){return d=d>>>0,b||w(d,2,this.length),this[d]<<8|this[d+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(d,b){return d=d>>>0,b||w(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(d,b){return d=d>>>0,b||w(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},c.prototype.readBigUInt64LE=ge(function(d){d=d>>>0,W(d,"offset");const b=this[d],x=this[d+7];(b===void 0||x===void 0)&&ce(d,this.length-8);const P=b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,k=this[++d]+this[++d]*2**8+this[++d]*2**16+x*2**24;return BigInt(P)+(BigInt(k)<<BigInt(32))}),c.prototype.readBigUInt64BE=ge(function(d){d=d>>>0,W(d,"offset");const b=this[d],x=this[d+7];(b===void 0||x===void 0)&&ce(d,this.length-8);const P=b*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],k=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+x;return(BigInt(P)<<BigInt(32))+BigInt(k)}),c.prototype.readIntLE=function(d,b,x){d=d>>>0,b=b>>>0,x||w(d,b,this.length);let P=this[d],k=1,K=0;for(;++K<b&&(k*=256);)P+=this[d+K]*k;return k*=128,P>=k&&(P-=Math.pow(2,8*b)),P},c.prototype.readIntBE=function(d,b,x){d=d>>>0,b=b>>>0,x||w(d,b,this.length);let P=b,k=1,K=this[d+--P];for(;P>0&&(k*=256);)K+=this[d+--P]*k;return k*=128,K>=k&&(K-=Math.pow(2,8*b)),K},c.prototype.readInt8=function(d,b){return d=d>>>0,b||w(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},c.prototype.readInt16LE=function(d,b){d=d>>>0,b||w(d,2,this.length);const x=this[d]|this[d+1]<<8;return x&32768?x|4294901760:x},c.prototype.readInt16BE=function(d,b){d=d>>>0,b||w(d,2,this.length);const x=this[d+1]|this[d]<<8;return x&32768?x|4294901760:x},c.prototype.readInt32LE=function(d,b){return d=d>>>0,b||w(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},c.prototype.readInt32BE=function(d,b){return d=d>>>0,b||w(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},c.prototype.readBigInt64LE=ge(function(d){d=d>>>0,W(d,"offset");const b=this[d],x=this[d+7];(b===void 0||x===void 0)&&ce(d,this.length-8);const P=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(x<<24);return(BigInt(P)<<BigInt(32))+BigInt(b+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),c.prototype.readBigInt64BE=ge(function(d){d=d>>>0,W(d,"offset");const b=this[d],x=this[d+7];(b===void 0||x===void 0)&&ce(d,this.length-8);const P=(b<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(P)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+x)}),c.prototype.readFloatLE=function(d,b){return d=d>>>0,b||w(d,4,this.length),r.read(this,d,!0,23,4)},c.prototype.readFloatBE=function(d,b){return d=d>>>0,b||w(d,4,this.length),r.read(this,d,!1,23,4)},c.prototype.readDoubleLE=function(d,b){return d=d>>>0,b||w(d,8,this.length),r.read(this,d,!0,52,8)},c.prototype.readDoubleBE=function(d,b){return d=d>>>0,b||w(d,8,this.length),r.read(this,d,!1,52,8)};function F(E,d,b,x,P,k){if(!c.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>P||d<k)throw new RangeError('"value" argument is out of bounds');if(b+x>E.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(d,b,x,P){if(d=+d,b=b>>>0,x=x>>>0,!P){const fe=Math.pow(2,8*x)-1;F(this,d,b,x,fe,0)}let k=1,K=0;for(this[b]=d&255;++K<x&&(k*=256);)this[b+K]=d/k&255;return b+x},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(d,b,x,P){if(d=+d,b=b>>>0,x=x>>>0,!P){const fe=Math.pow(2,8*x)-1;F(this,d,b,x,fe,0)}let k=x-1,K=1;for(this[b+k]=d&255;--k>=0&&(K*=256);)this[b+k]=d/K&255;return b+x},c.prototype.writeUint8=c.prototype.writeUInt8=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,1,255,0),this[b]=d&255,b+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,2,65535,0),this[b]=d&255,this[b+1]=d>>>8,b+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,2,65535,0),this[b]=d>>>8,this[b+1]=d&255,b+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,4,4294967295,0),this[b+3]=d>>>24,this[b+2]=d>>>16,this[b+1]=d>>>8,this[b]=d&255,b+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,4,4294967295,0),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4};function G(E,d,b,x,P){D(d,x,P,E,b,7);let k=Number(d&BigInt(4294967295));E[b++]=k,k=k>>8,E[b++]=k,k=k>>8,E[b++]=k,k=k>>8,E[b++]=k;let K=Number(d>>BigInt(32)&BigInt(4294967295));return E[b++]=K,K=K>>8,E[b++]=K,K=K>>8,E[b++]=K,K=K>>8,E[b++]=K,b}function z(E,d,b,x,P){D(d,x,P,E,b,7);let k=Number(d&BigInt(4294967295));E[b+7]=k,k=k>>8,E[b+6]=k,k=k>>8,E[b+5]=k,k=k>>8,E[b+4]=k;let K=Number(d>>BigInt(32)&BigInt(4294967295));return E[b+3]=K,K=K>>8,E[b+2]=K,K=K>>8,E[b+1]=K,K=K>>8,E[b]=K,b+8}c.prototype.writeBigUInt64LE=ge(function(d,b=0){return G(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ge(function(d,b=0){return z(this,d,b,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(d,b,x,P){if(d=+d,b=b>>>0,!P){const Re=Math.pow(2,8*x-1);F(this,d,b,x,Re-1,-Re)}let k=0,K=1,fe=0;for(this[b]=d&255;++k<x&&(K*=256);)d<0&&fe===0&&this[b+k-1]!==0&&(fe=1),this[b+k]=(d/K>>0)-fe&255;return b+x},c.prototype.writeIntBE=function(d,b,x,P){if(d=+d,b=b>>>0,!P){const Re=Math.pow(2,8*x-1);F(this,d,b,x,Re-1,-Re)}let k=x-1,K=1,fe=0;for(this[b+k]=d&255;--k>=0&&(K*=256);)d<0&&fe===0&&this[b+k+1]!==0&&(fe=1),this[b+k]=(d/K>>0)-fe&255;return b+x},c.prototype.writeInt8=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,1,127,-128),d<0&&(d=255+d+1),this[b]=d&255,b+1},c.prototype.writeInt16LE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,2,32767,-32768),this[b]=d&255,this[b+1]=d>>>8,b+2},c.prototype.writeInt16BE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,2,32767,-32768),this[b]=d>>>8,this[b+1]=d&255,b+2},c.prototype.writeInt32LE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,4,2147483647,-2147483648),this[b]=d&255,this[b+1]=d>>>8,this[b+2]=d>>>16,this[b+3]=d>>>24,b+4},c.prototype.writeInt32BE=function(d,b,x){return d=+d,b=b>>>0,x||F(this,d,b,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[b]=d>>>24,this[b+1]=d>>>16,this[b+2]=d>>>8,this[b+3]=d&255,b+4},c.prototype.writeBigInt64LE=ge(function(d,b=0){return G(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ge(function(d,b=0){return z(this,d,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ne(E,d,b,x,P,k){if(b+x>E.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function J(E,d,b,x,P){return d=+d,b=b>>>0,P||ne(E,d,b,4),r.write(E,d,b,x,23,4),b+4}c.prototype.writeFloatLE=function(d,b,x){return J(this,d,b,!0,x)},c.prototype.writeFloatBE=function(d,b,x){return J(this,d,b,!1,x)};function Z(E,d,b,x,P){return d=+d,b=b>>>0,P||ne(E,d,b,8),r.write(E,d,b,x,52,8),b+8}c.prototype.writeDoubleLE=function(d,b,x){return Z(this,d,b,!0,x)},c.prototype.writeDoubleBE=function(d,b,x){return Z(this,d,b,!1,x)},c.prototype.copy=function(d,b,x,P){if(!c.isBuffer(d))throw new TypeError("argument should be a Buffer");if(x||(x=0),!P&&P!==0&&(P=this.length),b>=d.length&&(b=d.length),b||(b=0),P>0&&P<x&&(P=x),P===x||d.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),d.length-b<P-x&&(P=d.length-b+x);const k=P-x;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,x,P):Uint8Array.prototype.set.call(d,this.subarray(x,P),b),k},c.prototype.fill=function(d,b,x,P){if(typeof d=="string"){if(typeof b=="string"?(P=b,b=0,x=this.length):typeof x=="string"&&(P=x,x=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!c.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(d.length===1){const K=d.charCodeAt(0);(P==="utf8"&&K<128||P==="latin1")&&(d=K)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(b<0||this.length<b||this.length<x)throw new RangeError("Out of range index");if(x<=b)return this;b=b>>>0,x=x===void 0?this.length:x>>>0,d||(d=0);let k;if(typeof d=="number")for(k=b;k<x;++k)this[k]=d;else{const K=c.isBuffer(d)?d:c.from(d,P),fe=K.length;if(fe===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(k=0;k<x-b;++k)this[k+b]=K[k%fe]}return this};const be={};function re(E,d,b){be[E]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(E,d){return`The "${E}" argument must be of type number. Received type ${typeof d}`},TypeError),re("ERR_OUT_OF_RANGE",function(E,d,b){let x=`The value of "${E}" is out of range.`,P=b;return Number.isInteger(b)&&Math.abs(b)>2**32?P=le(String(b)):typeof b=="bigint"&&(P=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(P=le(P)),P+="n"),x+=` It must be ${d}. Received ${P}`,x},RangeError);function le(E){let d="",b=E.length;const x=E[0]==="-"?1:0;for(;b>=x+4;b-=3)d=`_${E.slice(b-3,b)}${d}`;return`${E.slice(0,b)}${d}`}function Q(E,d,b){W(d,"offset"),(E[d]===void 0||E[d+b]===void 0)&&ce(d,E.length-(b+1))}function D(E,d,b,x,P,k){if(E>b||E<d){const K=typeof d=="bigint"?"n":"";let fe;throw d===0||d===BigInt(0)?fe=`>= 0${K} and < 2${K} ** ${(k+1)*8}${K}`:fe=`>= -(2${K} ** ${(k+1)*8-1}${K}) and < 2 ** ${(k+1)*8-1}${K}`,new be.ERR_OUT_OF_RANGE("value",fe,E)}Q(x,P,k)}function W(E,d){if(typeof E!="number")throw new be.ERR_INVALID_ARG_TYPE(d,"number",E)}function ce(E,d,b){throw Math.floor(E)!==E?(W(E,b),new be.ERR_OUT_OF_RANGE("offset","an integer",E)):d<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,E)}const oe=/[^+/0-9A-Za-z-_]/g;function Y(E){if(E=E.split("=")[0],E=E.trim().replace(oe,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function te(E,d){d=d||1/0;let b;const x=E.length;let P=null;const k=[];for(let K=0;K<x;++K){if(b=E.charCodeAt(K),b>55295&&b<57344){if(!P){if(b>56319){(d-=3)>-1&&k.push(239,191,189);continue}else if(K+1===x){(d-=3)>-1&&k.push(239,191,189);continue}P=b;continue}if(b<56320){(d-=3)>-1&&k.push(239,191,189),P=b;continue}b=(P-55296<<10|b-56320)+65536}else P&&(d-=3)>-1&&k.push(239,191,189);if(P=null,b<128){if((d-=1)<0)break;k.push(b)}else if(b<2048){if((d-=2)<0)break;k.push(b>>6|192,b&63|128)}else if(b<65536){if((d-=3)<0)break;k.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((d-=4)<0)break;k.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return k}function se(E){const d=[];for(let b=0;b<E.length;++b)d.push(E.charCodeAt(b)&255);return d}function de(E,d){let b,x,P;const k=[];for(let K=0;K<E.length&&!((d-=2)<0);++K)b=E.charCodeAt(K),x=b>>8,P=b%256,k.push(P),k.push(x);return k}function ue(E){return e.toByteArray(Y(E))}function ie(E,d,b,x){let P;for(P=0;P<x&&!(P+b>=d.length||P>=E.length);++P)d[P+b]=E[P];return P}function ae(E,d){return E instanceof d||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===d.name}function Oe(E){return E!==E}const _e=function(){const E="0123456789abcdef",d=new Array(256);for(let b=0;b<16;++b){const x=b*16;for(let P=0;P<16;++P)d[x+P]=E[b]+E[P]}return d}();function ge(E){return typeof BigInt>"u"?De:E}function De(){throw new Error("BigInt not supported")}})(Bi);Object.assign(self,{process:Ad,global:self,Buffer:Bi.Buffer});var Mt={},Ks={},js={},Gr={},Ci={},qt={},Gn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KeySize=t.KeyType=void 0,function(e){e[e.ED25519=0]="ED25519",e[e.SECP256K1=1]="SECP256K1"}(t.KeyType||(t.KeyType={})),function(e){e[e.SECRET_KEY=32]="SECRET_KEY",e[e.ED25519_PUBLIC_KEY=32]="ED25519_PUBLIC_KEY",e[e.SECP256k1_PUBLIC_KEY=64]="SECP256k1_PUBLIC_KEY"}(t.KeySize||(t.KeySize={}))})(Gn);var Ni={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.KeyPairBase=void 0;class Nd{}_n.KeyPairBase=Nd;var Vn={},je={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.DEFAULT_FUNCTION_CALL_GAS=void 0;Ri.DEFAULT_FUNCTION_CALL_GAS=BigInt("30000000000000");var Wa={},Li={},ki={},Ki={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.ConsoleLogger=void 0;class Rd{constructor(e){this.logLevels=e,this.isLevelEnabled=r=>this.logLevels.includes(r)}print(e,r,...n){switch(e){case"error":case"fatal":return console.error(r,...n);case"warn":return console.warn(r,...n);case"log":return console.log(r,...n);case"debug":case"verbose":return console.debug(r,...n)}}verbose(e,...r){this.isLevelEnabled("verbose")&&this.print("verbose",e,...r)}debug(e,...r){this.isLevelEnabled("debug")&&this.print("debug",e,...r)}log(e,...r){this.isLevelEnabled("log")&&this.print("log",e,...r)}warn(e,...r){this.isLevelEnabled("warn")&&this.print("warn",e,...r)}error(e,...r){this.isLevelEnabled("error")&&this.print("error",e,...r)}fatal(e,...r){this.isLevelEnabled("fatal")&&this.print("fatal",e,...r)}}ji.ConsoleLogger=Rd;var Ld={},Us;Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Logger=void 0;const kd=ji,Kd=["verbose","debug","log","warn","error","fatal"],jd=typeof process=="object"&&Ld.NEAR_NO_LOGS?void 0:new kd.ConsoleLogger(Kd);class Ui{static error(e,...r){var n;(n=this.instanceRef)===null||n===void 0||n.error(e,...r)}static log(e,...r){var n;(n=this.instanceRef)===null||n===void 0||n.log(e,...r)}static warn(e,...r){var n;(n=this.instanceRef)===null||n===void 0||n.warn(e,...r)}static debug(e,...r){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.debug)===null||o===void 0||o.call(n,e,...r)}static verbose(e,...r){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.verbose)===null||o===void 0||o.call(n,e,...r)}static fatal(e,...r){var n,o;(o=(n=this.instanceRef)===null||n===void 0?void 0:n.fatal)===null||o===void 0||o.call(n,e,...r)}}Ki.Logger=Ui;Us=Ui;Ui.instanceRef=jd;Ui.overrideLogger=t=>{Us.instanceRef=t};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var e=Ki;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return e.Logger}})})(ki);Object.defineProperty(Li,"__esModule",{value:!0});Li.logWarning=void 0;const Ud=ki;function $d(...t){const[e,...r]=t;Ud.Logger.warn(e,...r)}Li.logWarning=$d;var Ot={},it={},$i={};Object.defineProperty($i,"__esModule",{value:!0});$i.Assignable=void 0;class Dd{constructor(e){Object.keys(e).map(r=>{this[r]=e[r]})}}$i.Assignable=Dd;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.ErrorContext=Zt.TypedError=Zt.ArgumentTypeError=Zt.PositionalArgsError=void 0;class Fd extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}Zt.PositionalArgsError=Fd;class qd extends Error{constructor(e,r,n){super(`Expected ${r} for '${e}' argument, but got '${JSON.stringify(n)}'`)}}Zt.ArgumentTypeError=qd;class zd extends Error{constructor(e,r,n){super(e),this.type=r||"UntypedError",this.context=n}}Zt.TypedError=zd;class Hd{constructor(e){this.transactionHash=e}}Zt.ErrorContext=Hd;var $s={},Ds={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.IdType=void 0,function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}))})(Ds);var Fs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={}))})(Fs);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var e=Ds;Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return e.IdType}});var r=Fs;Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return r.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}})})($s);(function(t){var e=q&&q.__createBinding||(Object.create?function(n,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,a,c)}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]}),r=q&&q.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r($i,t),r(Zt,t),r($s,t)})(it);var qs={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(q,function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var r=Object.prototype.toString,n=Array.isArray||function(l){return r.call(l)==="[object Array]"};function o(s){return typeof s=="function"}function i(s){return n(s)?"array":typeof s}function a(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function c(s,l){return s!=null&&typeof s=="object"&&l in s}function h(s,l){return s!=null&&typeof s!="object"&&s.hasOwnProperty&&s.hasOwnProperty(l)}var v=RegExp.prototype.test;function u(s,l){return v.call(s,l)}var p=/\S/;function A(s){return!u(p,s)}var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function O(s){return String(s).replace(/[&<>"'`=\/]/g,function(y){return S[y]})}var B=/\s*/,R=/\s+/,N=/\s*=/,$=/\s*\}/,U=/#|\^|\/|>|\{|&|=|!/;function V(s,l){if(!s)return[];var y=!1,g=[],_=[],T=[],I=!1,m=!1,f="",w=0;function F(){if(I&&!m)for(;T.length;)delete _[T.pop()];else T=[];I=!1,m=!1}var G,z,ne;function J(Y){if(typeof Y=="string"&&(Y=Y.split(R,2)),!n(Y)||Y.length!==2)throw new Error("Invalid tags: "+Y);G=new RegExp(a(Y[0])+"\\s*"),z=new RegExp("\\s*"+a(Y[1])),ne=new RegExp("\\s*"+a("}"+Y[1]))}J(l||ee.tags);for(var Z=new X(s),be,re,le,Q,D,W;!Z.eos();){if(be=Z.pos,le=Z.scanUntil(G),le)for(var ce=0,oe=le.length;ce<oe;++ce)Q=le.charAt(ce),A(Q)?(T.push(_.length),f+=Q):(m=!0,y=!0,f+=" "),_.push(["text",Q,be,be+1]),be+=1,Q===`
`&&(F(),f="",w=0,y=!1);if(!Z.scan(G))break;if(I=!0,re=Z.scan(U)||"name",Z.scan(B),re==="="?(le=Z.scanUntil(N),Z.scan(N),Z.scanUntil(z)):re==="{"?(le=Z.scanUntil(ne),Z.scan($),Z.scanUntil(z),re="&"):le=Z.scanUntil(z),!Z.scan(z))throw new Error("Unclosed tag at "+Z.pos);if(re==">"?D=[re,le,be,Z.pos,f,w,y]:D=[re,le,be,Z.pos],w++,_.push(D),re==="#"||re==="^")g.push(D);else if(re==="/"){if(W=g.pop(),!W)throw new Error('Unopened section "'+le+'" at '+be);if(W[1]!==le)throw new Error('Unclosed section "'+W[1]+'" at '+be)}else re==="name"||re==="{"||re==="&"?m=!0:re==="="&&J(le)}if(F(),W=g.pop(),W)throw new Error('Unclosed section "'+W[1]+'" at '+Z.pos);return H(C(_))}function C(s){for(var l=[],y,g,_=0,T=s.length;_<T;++_)y=s[_],y&&(y[0]==="text"&&g&&g[0]==="text"?(g[1]+=y[1],g[3]=y[3]):(l.push(y),g=y));return l}function H(s){for(var l=[],y=l,g=[],_,T,I=0,m=s.length;I<m;++I)switch(_=s[I],_[0]){case"#":case"^":y.push(_),g.push(_),y=_[4]=[];break;case"/":T=g.pop(),T[5]=_[2],y=g.length>0?g[g.length-1][4]:l;break;default:y.push(_)}return l}function X(s){this.string=s,this.tail=s,this.pos=0}X.prototype.eos=function(){return this.tail===""},X.prototype.scan=function(l){var y=this.tail.match(l);if(!y||y.index!==0)return"";var g=y[0];return this.tail=this.tail.substring(g.length),this.pos+=g.length,g},X.prototype.scanUntil=function(l){var y=this.tail.search(l),g;switch(y){case-1:g=this.tail,this.tail="";break;case 0:g="";break;default:g=this.tail.substring(0,y),this.tail=this.tail.substring(y)}return this.pos+=g.length,g};function L(s,l){this.view=s,this.cache={".":this.view},this.parent=l}L.prototype.push=function(l){return new L(l,this)},L.prototype.lookup=function(l){var y=this.cache,g;if(y.hasOwnProperty(l))g=y[l];else{for(var _=this,T,I,m,f=!1;_;){if(l.indexOf(".")>0)for(T=_.view,I=l.split("."),m=0;T!=null&&m<I.length;)m===I.length-1&&(f=c(T,I[m])||h(T,I[m])),T=T[I[m++]];else T=_.view[l],f=c(_.view,l);if(f){g=T;break}_=_.parent}y[l]=g}return o(g)&&(g=g.call(this.view)),g};function j(){this.templateCache={_cache:{},set:function(l,y){this._cache[l]=y},get:function(l){return this._cache[l]},clear:function(){this._cache={}}}}j.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},j.prototype.parse=function(l,y){var g=this.templateCache,_=l+":"+(y||ee.tags).join(":"),T=typeof g<"u",I=T?g.get(_):void 0;return I==null&&(I=V(l,y),T&&g.set(_,I)),I},j.prototype.render=function(l,y,g,_){var T=this.parse(l,_),I=y instanceof L?y:new L(y,void 0);return this.renderTokens(T,I,g,l,_)},j.prototype.renderTokens=function(l,y,g,_,T){for(var I="",m,f,w,F=0,G=l.length;F<G;++F)w=void 0,m=l[F],f=m[0],f==="#"?w=this.renderSection(m,y,g,_):f==="^"?w=this.renderInverted(m,y,g,_):f===">"?w=this.renderPartial(m,y,g,T):f==="&"?w=this.unescapedValue(m,y):f==="name"?w=this.escapedValue(m,y):f==="text"&&(w=this.rawValue(m)),w!==void 0&&(I+=w);return I},j.prototype.renderSection=function(l,y,g,_){var T=this,I="",m=y.lookup(l[1]);function f(G){return T.render(G,y,g)}if(m){if(n(m))for(var w=0,F=m.length;w<F;++w)I+=this.renderTokens(l[4],y.push(m[w]),g,_);else if(typeof m=="object"||typeof m=="string"||typeof m=="number")I+=this.renderTokens(l[4],y.push(m),g,_);else if(o(m)){if(typeof _!="string")throw new Error("Cannot use higher-order sections without the original template");m=m.call(y.view,_.slice(l[3],l[5]),f),m!=null&&(I+=m)}else I+=this.renderTokens(l[4],y,g,_);return I}},j.prototype.renderInverted=function(l,y,g,_){var T=y.lookup(l[1]);if(!T||n(T)&&T.length===0)return this.renderTokens(l[4],y,g,_)},j.prototype.indentPartial=function(l,y,g){for(var _=y.replace(/[^ \t]/g,""),T=l.split(`
`),I=0;I<T.length;I++)T[I].length&&(I>0||!g)&&(T[I]=_+T[I]);return T.join(`
`)},j.prototype.renderPartial=function(l,y,g,_){if(g){var T=o(g)?g(l[1]):g[l[1]];if(T!=null){var I=l[6],m=l[5],f=l[4],w=T;return m==0&&f&&(w=this.indentPartial(T,f,I)),this.renderTokens(this.parse(w,_),y,g,w)}}},j.prototype.unescapedValue=function(l,y){var g=y.lookup(l[1]);if(g!=null)return g},j.prototype.escapedValue=function(l,y){var g=y.lookup(l[1]);if(g!=null)return ee.escape(g)},j.prototype.rawValue=function(l){return l[1]};var ee={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(s){M.templateCache=s},get templateCache(){return M.templateCache}},M=new j;return ee.clearCache=function(){return M.clearCache()},ee.parse=function(l,y){return M.parse(l,y)},ee.render=function(l,y,g,_){if(typeof l!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+i(l)+'" was given as the first argument for mustache#render(template, view, partials)');return M.render(l,y,g,_)},ee.escape=O,ee.Scanner=X,ee.Context=L,ee.Writer=j,ee})})(qs);var Gd=qs.exports,Ja={},Ra={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Bi,n=r.Buffer;function o(a,c){for(var h in a)c[h]=a[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=i);function i(a,c,h){return n(a,c,h)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(a,c,h){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,c,h)},i.alloc=function(a,c,h){if(typeof a!="number")throw new TypeError("Argument must be a number");var v=n(a);return c!==void 0?typeof h=="string"?v.fill(c,h):v.fill(c):v.fill(0),v},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(Ra,Ra.exports);var zs=Ra.exports,Uc=zs.Buffer,Vd=function(e){for(var r={},n=e.length,o=e.charAt(0),i=0;i<e.length;i++){var a=e.charAt(i);if(r[a]!==void 0)throw new TypeError(a+" is ambiguous");r[a]=i}function c(u){if(u.length===0)return"";for(var p=[0],A=0;A<u.length;++A){for(var S=0,O=u[A];S<p.length;++S)O+=p[S]<<8,p[S]=O%n,O=O/n|0;for(;O>0;)p.push(O%n),O=O/n|0}for(var B="",R=0;u[R]===0&&R<u.length-1;++R)B+=e[0];for(var N=p.length-1;N>=0;--N)B+=e[p[N]];return B}function h(u){if(u.length===0)return Uc.allocUnsafe(0);for(var p=[0],A=0;A<u.length;A++){var S=r[u[A]];if(S===void 0)return;for(var O=0,B=S;O<p.length;++O)B+=p[O]*n,p[O]=B&255,B>>=8;for(;B>0;)p.push(B&255),B>>=8}for(var R=0;u[R]===o&&R<u.length-1;++R)p.push(0);return Uc.from(p.reverse())}function v(u){var p=h(u);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:h,decode:v}},Wd=Vd,Jd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Zd=Wd(Jd);(function(t){var e=q&&q.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.baseDecode=t.baseEncode=t.parseNearAmount=t.formatNearAmount=t.NEAR_NOMINATION=t.NEAR_NOMINATION_EXP=void 0;const r=e(Zd);t.NEAR_NOMINATION_EXP=24,t.NEAR_NOMINATION=BigInt(10)**BigInt(t.NEAR_NOMINATION_EXP);const n=[],o=BigInt(10);for(let S=0,O=BigInt(5);S<t.NEAR_NOMINATION_EXP;S++,O=O*o)n[S]=O;function i(S,O=t.NEAR_NOMINATION_EXP){let B=BigInt(S);if(O!==t.NEAR_NOMINATION_EXP){const $=t.NEAR_NOMINATION_EXP-O-1;$>0&&(B+=n[$])}S=B.toString();const R=S.substring(0,S.length-t.NEAR_NOMINATION_EXP)||"0",N=S.substring(S.length-t.NEAR_NOMINATION_EXP).padStart(t.NEAR_NOMINATION_EXP,"0").substring(0,O);return h(`${u(R)}.${N}`)}t.formatNearAmount=i;function a(S){if(!S)return null;S=c(S);const O=S.split("."),B=O[0],R=O[1]||"";if(O.length>2||R.length>t.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${S}' as NEAR amount`);return v(B+R.padEnd(t.NEAR_NOMINATION_EXP,"0"))}t.parseNearAmount=a;function c(S){return S.replace(/,/g,"").trim()}function h(S){return S.replace(/\.?0*$/,"")}function v(S){return S=S.replace(/^0+/,""),S===""?"0":S}function u(S){const O=/(-?\d+)(\d{3})/;for(;O.test(S);)S=S.replace(O,"$1,$2");return S}function p(S){if(typeof S=="string"){const O=[];for(let B=0;B<S.length;B++)O.push(S.charCodeAt(B));S=new Uint8Array(O)}return r.default.encode(S)}t.baseEncode=p;function A(S){return new Uint8Array(r.default.decode(S))}t.baseDecode=A})(Ja);const Xd="Exceeded the maximum amount of gas allowed to burn per contract",Yd="Method name is empty",Qd="Wasmer compilation error: {{msg}}",e0="Smart contract panicked: {{panic_msg}}",t0="Error creating Wasm memory",r0="Exceeded the prepaid gas",n0="Method name is not valid UTF8 string",i0="String encoding is bad UTF-16 sequence",o0="WebAssembly trap: {{msg}}",a0="Gas instrumentation failed or contract has denied instructions.",c0="{{promise_idx}} does not correspond to existing promises",s0="Accessed invalid promise result index: {{result_idx}}",u0="Error happened while deserializing the module",f0="Contract method is not found",d0="Accessed invalid register id: {{register_id}}",l0="VM Logic returned an invalid receipt index: {{receipt_index}}",h0="Method name is empty in contract call",b0="Returning joint promise is currently prohibited",p0="Stack instrumentation failed",y0="Cannot find contract code for account {{account_id}}",v0="Invalid method signature",g0="Integer overflow happened during contract execution",m0="MemoryAccessViolation",_0="Iterator index {{iterator_index}} does not exist",w0="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",S0="VM Logic returned an invalid account id",E0="Error happened while serializing the module",A0="Actions can only be appended to non-joint promise.",x0="Internal memory declaration has been found in the module",I0="Error happened during instantiation",M0="{{method_name}} is not allowed in view calls",O0="VM Logic returned an invalid method name",T0="String encoding is bad UTF-8 sequence",B0="Exceeded the account balance",P0="Wasm contract link error: {{msg}}",C0="VM Logic provided an invalid public key",N0="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",R0="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",L0="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",k0="Transaction gas or balance cost is too high",K0="Transaction is not signed with the given public key",j0=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,U0="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",$0="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",D0="Transaction has expired",F0="Account {{account_id}} is staking and can not be deleted",q0="Signer {{signer_id}} does not exist",z0="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",H0="The public key {{public_key}} is already used for an existing access key",G0="Invalid signer account ID {{signer_id}} according to requirements",V0="The new account_id {{account_id}} can't be created by {{predecessor_id}}",W0="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",J0="Account {{account_id}} is not yet staked, but tried to unstake",Z0="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",X0="Can't create a new account {{account_id}}, because it already exists",Y0="Transaction parent block hash doesn't belong to the current chain",Q0="Can't complete the action because account {{account_id}} doesn't exist",el="Can't complete the action because access key {{public_key}} doesn't exist",tl="Transaction method name {{method_name}} isn't allowed by the access key",rl="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",nl="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",il="Invalid receiver account ID {{receiver_id}} according to requirements",ol="Account {{account_id}} tries to remove an access key that doesn't exist",al="Timeout exceeded",cl="Connection closed",sl="Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",ul="Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later",fl={GasLimitExceeded:Xd,MethodEmptyName:Yd,WasmerCompileError:Qd,GuestPanic:e0,Memory:t0,GasExceeded:r0,MethodUTF8Error:n0,BadUTF16:i0,WasmTrap:o0,GasInstrumentation:a0,InvalidPromiseIndex:c0,InvalidPromiseResultIndex:s0,Deserialization:u0,MethodNotFound:f0,InvalidRegisterId:d0,InvalidReceiptIndex:l0,EmptyMethodName:h0,CannotReturnJointPromise:b0,StackHeightInstrumentation:p0,CodeDoesNotExist:y0,MethodInvalidSignature:v0,IntegerOverflow:g0,MemoryAccessViolation:m0,InvalidIteratorIndex:_0,IteratorWasInvalidated:w0,InvalidAccountId:S0,Serialization:E0,CannotAppendActionToJointPromise:A0,InternalMemoryDeclared:x0,Instantiate:I0,ProhibitedInView:M0,InvalidMethodName:O0,BadUTF8:T0,BalanceExceeded:B0,LinkError:P0,InvalidPublicKey:C0,ActorNoPermission:N0,LackBalanceForState:R0,ReceiverMismatch:L0,CostOverflow:k0,InvalidSignature:K0,AccessKeyNotFound:j0,NotEnoughBalance:U0,NotEnoughAllowance:$0,Expired:D0,DeleteAccountStaking:F0,SignerDoesNotExist:q0,TriesToStake:z0,AddKeyAlreadyExists:H0,InvalidSigner:G0,CreateAccountNotAllowed:V0,RequiresFullAccess:W0,TriesToUnstake:J0,InvalidNonce:Z0,AccountAlreadyExists:X0,InvalidChain:Y0,AccountDoesNotExist:Q0,AccessKeyDoesNotExist:el,MethodNameMismatch:tl,DeleteAccountHasRent:rl,DeleteAccountHasEnoughBalance:nl,InvalidReceiver:il,DeleteKeyDoesNotExist:ol,Timeout:al,Closed:cl,ShardCongested:sl,ShardStuck:ul},dl={AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",forwarded_buffered_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_buffered_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptSizeExceeded:{name:"ReceiptSizeExceeded",subtypes:[],props:{limit:"",size:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},ShardCongested:{name:"ShardCongested",subtypes:[],props:{congestion_level:"",shard_id:""}},ShardStuck:{name:"ShardStuck",subtypes:[],props:{missed_chunks:"",shard_id:""}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}},ll={schema:dl};var Za=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getErrorTypeFromErrorMessage=Ot.formatError=Ot.parseResultError=Ot.parseRpcError=Ot.ServerError=void 0;const hl=it,bl=Za(Gd),pl=Ja,$c=Za(fl),yl=Za(ll),vl={formatNear:()=>(t,e)=>(0,pl.formatNearAmount)(e(t))};class Xa extends hl.TypedError{}Ot.ServerError=Xa;class gl extends Xa{}function Hs(t){const e={},r=Vs(t,yl.default.schema,e,""),n=new Xa(Gs(r,e),r);return Object.assign(n,e),n}Ot.parseRpcError=Hs;function ml(t){const e=Hs(t.status.Failure),r=new gl;return Object.assign(r,e),r.type=e.type,r.message=e.message,r.transaction_outcome=t.transaction_outcome,r}Ot.parseResultError=ml;function Gs(t,e){return typeof $c.default[t]=="string"?bl.default.render($c.default[t],Object.assign(Object.assign({},e),vl)):JSON.stringify(e)}Ot.formatError=Gs;function Vs(t,e,r,n){let o,i,a;for(const c in e){if(wl(t[c]))return t[c];if(ea(t[c]))o=t[c],i=e[c],a=c;else if(ea(t.kind)&&ea(t.kind[c]))o=t.kind[c],i=e[c],a=c;else continue}if(o&&i){for(const c of Object.keys(i.props))r[c]=o[c];return Vs(o,e,r,a)}else return r.kind=t,n}function _l(t,e){switch(!0){case/^account .*? does not exist while viewing$/.test(t):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(t):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(t):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(t):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(t):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(t):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(t):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(t):return"InvalidNonce";default:return e}}Ot.getErrorTypeFromErrorMessage=_l;function ea(t){return Object.prototype.toString.call(t)==="[object Object]"}function wl(t){return Object.prototype.toString.call(t)==="[object String]"}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseRpcError=t.parseResultError=t.getErrorTypeFromErrorMessage=t.formatError=t.ServerError=t.logWarning=void 0;var e=Li;Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return e.logWarning}});var r=Ot;Object.defineProperty(t,"ServerError",{enumerable:!0,get:function(){return r.ServerError}}),Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return r.formatError}}),Object.defineProperty(t,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return r.getErrorTypeFromErrorMessage}}),Object.defineProperty(t,"parseResultError",{enumerable:!0,get:function(){return r.parseResultError}}),Object.defineProperty(t,"parseRpcError",{enumerable:!0,get:function(){return r.parseRpcError}})})(Wa);var un={};Object.defineProperty(un,"__esModule",{value:!0});un.printTxOutcomeLogs=un.printTxOutcomeLogsAndFailures=void 0;const Sl=Wa,La=ki;function El({contractId:t,outcome:e}){const r=[e.transaction_outcome,...e.receipts_outcome].reduce((n,o)=>{const i=typeof o.outcome.status=="object"&&typeof o.outcome.status.Failure=="object";return o.outcome.logs.length||i?n.concat({receiptIds:o.outcome.receipt_ids,logs:o.outcome.logs,failure:typeof o.outcome.status=="object"&&o.outcome.status.Failure!==void 0?(0,Sl.parseRpcError)(o.outcome.status.Failure):null}):n},[]);for(const n of r)La.Logger.log(`Receipt${n.receiptIds.length>1?"s":""}: ${n.receiptIds.join(", ")}`),Ws({contractId:t,logs:n.logs,prefix:"	"}),n.failure&&La.Logger.warn(`	Failure [${t}]: ${n.failure}`)}un.printTxOutcomeLogsAndFailures=El;function Ws({contractId:t,logs:e,prefix:r=""}){for(const n of e)La.Logger.log(`${r}Log [${t}]: ${n}`)}un.printTxOutcomeLogs=Ws;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.getTransactionLastResult=void 0;function Al(t){if(typeof t.status=="object"&&typeof t.status.SuccessValue=="string"){const e=Buffer.from(t.status.SuccessValue,"base64").toString();try{return JSON.parse(e)}catch{return e}}return null}Di.getTransactionLastResult=Al;var fn={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Js=xl;function xl(t){if(!t)throw new TypeError("argument namespace is required");function e(r){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=Il,e.property=Ml,e}function Il(t,e){if(typeof t!="function")throw new TypeError("argument fn must be a function");return t}function Ml(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.sortBigIntAsc=void 0;function Ol(t,e){return t<e?-1:t>e?1:0}Wn.sortBigIntAsc=Ol;var Tl=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});fn.diffEpochValidators=fn.findSeatPrice=void 0;const Bl=Tl(Js),Zs=Wn;function Pl(t,e,r,n){return n&&n<49?Cl(t,e):(r||((0,Bl.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),r=[1,6250]),Nl(t,e,r))}fn.findSeatPrice=Pl;function Cl(t,e){const r=t.map(c=>BigInt(c.stake)).sort(Zs.sortBigIntAsc),n=BigInt(e),o=r.reduce((c,h)=>c+h);if(o<n)throw new Error("Stakes are below seats");let i=BigInt(1),a=o+BigInt(1);for(;i!==a-BigInt(1);){const c=(i+a)/BigInt(2);let h=!1,v=BigInt(0);for(let u=0;u<r.length;++u)if(v=v+r[u]/c,v>=n){i=c,h=!0;break}h||(a=c)}return i}function Nl(t,e,r){if(r.length!=2)throw Error("minimumStakeRatio should have 2 elements");const n=t.map(i=>BigInt(i.stake)).sort(Zs.sortBigIntAsc),o=n.reduce((i,a)=>i+a);return t.length<e?o*BigInt(r[0])/BigInt(r[1]):n[0]+BigInt(1)}function Rl(t,e){const r=new Map;t.forEach(o=>r.set(o.account_id,o));const n=new Set(e.map(o=>o.account_id));return{newValidators:e.filter(o=>!r.has(o.account_id)),removedValidators:t.filter(o=>!n.has(o.account_id)),changedValidators:e.filter(o=>r.has(o.account_id)&&r.get(o.account_id).stake!=o.stake).map(o=>({current:r.get(o.account_id),next:o}))}}fn.diffEpochValidators=Rl;(function(t){var e=q&&q.__createBinding||(Object.create?function(n,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,a,c)}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]}),r=q&&q.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ri,t),r(Wa,t),r(Ja,t),r(un,t),r(Di,t),r(fn,t),r(ki,t),r(Wn,t)})(je);var Ya={},Tt={},Fi={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.output=pt.exists=pt.hash=pt.bytes=pt.bool=pt.number=void 0;function vi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}pt.number=vi;function Xs(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}pt.bool=Xs;function Qa(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}pt.bytes=Qa;function Ys(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vi(t.outputLen),vi(t.blockLen)}pt.hash=Ys;function Qs(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}pt.exists=Qs;function eu(t,e){Qa(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}pt.output=eu;const Ll={number:vi,bool:Xs,bytes:Qa,hash:Ys,exists:Qs,output:eu};pt.default=Ll;var qi={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.crypto=void 0;zi.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=zi,r=H=>H instanceof Uint8Array,n=H=>new Uint8Array(H.buffer,H.byteOffset,H.byteLength);t.u8=n;const o=H=>new Uint32Array(H.buffer,H.byteOffset,Math.floor(H.byteLength/4));t.u32=o;const i=H=>new DataView(H.buffer,H.byteOffset,H.byteLength);t.createView=i;const a=(H,X)=>H<<32-X|H>>>X;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(H,X)=>X.toString(16).padStart(2,"0"));function h(H){if(!r(H))throw new Error("Uint8Array expected");let X="";for(let L=0;L<H.length;L++)X+=c[H[L]];return X}t.bytesToHex=h;function v(H){if(typeof H!="string")throw new Error("hex string expected, got "+typeof H);const X=H.length;if(X%2)throw new Error("padded hex string expected, got unpadded hex of length "+X);const L=new Uint8Array(X/2);for(let j=0;j<L.length;j++){const ee=j*2,M=H.slice(ee,ee+2),s=Number.parseInt(M,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");L[j]=s}return L}t.hexToBytes=v;const u=async()=>{};t.nextTick=u;async function p(H,X,L){let j=Date.now();for(let ee=0;ee<H;ee++){L(ee);const M=Date.now()-j;M>=0&&M<X||(await(0,t.nextTick)(),j+=M)}}t.asyncLoop=p;function A(H){if(typeof H!="string")throw new Error(`utf8ToBytes expected string, got ${typeof H}`);return new Uint8Array(new TextEncoder().encode(H))}t.utf8ToBytes=A;function S(H){if(typeof H=="string"&&(H=A(H)),!r(H))throw new Error(`expected Uint8Array, got ${typeof H}`);return H}t.toBytes=S;function O(...H){const X=new Uint8Array(H.reduce((j,ee)=>j+ee.length,0));let L=0;return H.forEach(j=>{if(!r(j))throw new Error("Uint8Array expected");X.set(j,L),L+=j.length}),X}t.concatBytes=O;class B{clone(){return this._cloneInto()}}t.Hash=B;const R={}.toString;function N(H,X){if(X!==void 0&&R.call(X)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(H,X)}t.checkOpts=N;function $(H){const X=j=>H().update(S(j)).digest(),L=H();return X.outputLen=L.outputLen,X.blockLen=L.blockLen,X.create=()=>H(),X}t.wrapConstructor=$;function U(H){const X=(j,ee)=>H(ee).update(S(j)).digest(),L=H({});return X.outputLen=L.outputLen,X.blockLen=L.blockLen,X.create=j=>H(j),X}t.wrapConstructorWithOpts=U;function V(H){const X=(j,ee)=>H(ee).update(S(j)).digest(),L=H({});return X.outputLen=L.outputLen,X.blockLen=L.blockLen,X.create=j=>H(j),X}t.wrapXOFConstructorWithOpts=V;function C(H=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=C})(qi);Object.defineProperty(Fi,"__esModule",{value:!0});Fi.SHA2=void 0;const ta=pt,Nn=qi;function kl(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(r>>o&i),c=Number(r&i),h=n?4:0,v=n?0:4;t.setUint32(e+h,a,n),t.setUint32(e+v,c,n)}let Kl=class extends Nn.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Nn.createView)(this.buffer)}update(e){(0,ta.exists)(this);const{view:r,buffer:n,blockLen:o}=this;e=(0,Nn.toBytes)(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c===o){const h=(0,Nn.createView)(e);for(;o<=i-a;a+=o)this.process(h,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ta.exists)(this),(0,ta.output)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let p=a;p<o;p++)r[p]=0;kl(n,o-8,BigInt(this.length*8),i),this.process(n,0);const c=(0,Nn.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=h/4,u=this.get();if(v>u.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<v;p++)c.setUint32(4*p,u[p],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:i,destroyed:a,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=a,o%r&&e.buffer.set(n),e}};Fi.SHA2=Kl;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.add5L=he.add5H=he.add4H=he.add4L=he.add3H=he.add3L=he.add=he.rotlBL=he.rotlBH=he.rotlSL=he.rotlSH=he.rotr32L=he.rotr32H=he.rotrBL=he.rotrBH=he.rotrSL=he.rotrSH=he.shrSL=he.shrSH=he.toBig=he.split=he.fromBig=void 0;const ii=BigInt(2**32-1),ka=BigInt(32);function ec(t,e=!1){return e?{h:Number(t&ii),l:Number(t>>ka&ii)}:{h:Number(t>>ka&ii)|0,l:Number(t&ii)|0}}he.fromBig=ec;function tu(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:a}=ec(t[o],e);[r[o],n[o]]=[i,a]}return[r,n]}he.split=tu;const ru=(t,e)=>BigInt(t>>>0)<<ka|BigInt(e>>>0);he.toBig=ru;const nu=(t,e,r)=>t>>>r;he.shrSH=nu;const iu=(t,e,r)=>t<<32-r|e>>>r;he.shrSL=iu;const ou=(t,e,r)=>t>>>r|e<<32-r;he.rotrSH=ou;const au=(t,e,r)=>t<<32-r|e>>>r;he.rotrSL=au;const cu=(t,e,r)=>t<<64-r|e>>>r-32;he.rotrBH=cu;const su=(t,e,r)=>t>>>r-32|e<<64-r;he.rotrBL=su;const uu=(t,e)=>e;he.rotr32H=uu;const fu=(t,e)=>t;he.rotr32L=fu;const du=(t,e,r)=>t<<r|e>>>32-r;he.rotlSH=du;const lu=(t,e,r)=>e<<r|t>>>32-r;he.rotlSL=lu;const hu=(t,e,r)=>e<<r-32|t>>>64-r;he.rotlBH=hu;const bu=(t,e,r)=>t<<r-32|e>>>64-r;he.rotlBL=bu;function pu(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}he.add=pu;const yu=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);he.add3L=yu;const vu=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;he.add3H=vu;const gu=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);he.add4L=gu;const mu=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0;he.add4H=mu;const _u=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0);he.add5L=_u;const wu=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;he.add5H=wu;const jl={fromBig:ec,split:tu,toBig:ru,shrSH:nu,shrSL:iu,rotrSH:ou,rotrSL:au,rotrBH:cu,rotrBL:su,rotr32H:uu,rotr32L:fu,rotlSH:du,rotlSL:lu,rotlBH:hu,rotlBL:bu,add:pu,add3L:yu,add3H:vu,add4L:gu,add4H:mu,add5H:wu,add5L:_u};he.default=jl;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.sha384=Tt.sha512_256=Tt.sha512_224=Tt.sha512=Tt.SHA512=void 0;const Ul=Fi,we=he,Hi=qi,[$l,Dl]=we.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),vr=new Uint32Array(80),gr=new Uint32Array(80);let Jn=class extends Ul.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:a,Dh:c,Dl:h,Eh:v,El:u,Fh:p,Fl:A,Gh:S,Gl:O,Hh:B,Hl:R}=this;return[e,r,n,o,i,a,c,h,v,u,p,A,S,O,B,R]}set(e,r,n,o,i,a,c,h,v,u,p,A,S,O,B,R){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=h|0,this.Eh=v|0,this.El=u|0,this.Fh=p|0,this.Fl=A|0,this.Gh=S|0,this.Gl=O|0,this.Hh=B|0,this.Hl=R|0}process(e,r){for(let U=0;U<16;U++,r+=4)vr[U]=e.getUint32(r),gr[U]=e.getUint32(r+=4);for(let U=16;U<80;U++){const V=vr[U-15]|0,C=gr[U-15]|0,H=we.default.rotrSH(V,C,1)^we.default.rotrSH(V,C,8)^we.default.shrSH(V,C,7),X=we.default.rotrSL(V,C,1)^we.default.rotrSL(V,C,8)^we.default.shrSL(V,C,7),L=vr[U-2]|0,j=gr[U-2]|0,ee=we.default.rotrSH(L,j,19)^we.default.rotrBH(L,j,61)^we.default.shrSH(L,j,6),M=we.default.rotrSL(L,j,19)^we.default.rotrBL(L,j,61)^we.default.shrSL(L,j,6),s=we.default.add4L(X,M,gr[U-7],gr[U-16]),l=we.default.add4H(s,H,ee,vr[U-7],vr[U-16]);vr[U]=l|0,gr[U]=s|0}let{Ah:n,Al:o,Bh:i,Bl:a,Ch:c,Cl:h,Dh:v,Dl:u,Eh:p,El:A,Fh:S,Fl:O,Gh:B,Gl:R,Hh:N,Hl:$}=this;for(let U=0;U<80;U++){const V=we.default.rotrSH(p,A,14)^we.default.rotrSH(p,A,18)^we.default.rotrBH(p,A,41),C=we.default.rotrSL(p,A,14)^we.default.rotrSL(p,A,18)^we.default.rotrBL(p,A,41),H=p&S^~p&B,X=A&O^~A&R,L=we.default.add5L($,C,X,Dl[U],gr[U]),j=we.default.add5H(L,N,V,H,$l[U],vr[U]),ee=L|0,M=we.default.rotrSH(n,o,28)^we.default.rotrBH(n,o,34)^we.default.rotrBH(n,o,39),s=we.default.rotrSL(n,o,28)^we.default.rotrBL(n,o,34)^we.default.rotrBL(n,o,39),l=n&i^n&c^i&c,y=o&a^o&h^a&h;N=B|0,$=R|0,B=S|0,R=O|0,S=p|0,O=A|0,{h:p,l:A}=we.default.add(v|0,u|0,j|0,ee|0),v=c|0,u=h|0,c=i|0,h=a|0,i=n|0,a=o|0;const g=we.default.add3L(ee,s,y);n=we.default.add3H(g,j,M,l),o=g|0}({h:n,l:o}=we.default.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:a}=we.default.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:h}=we.default.add(this.Ch|0,this.Cl|0,c|0,h|0),{h:v,l:u}=we.default.add(this.Dh|0,this.Dl|0,v|0,u|0),{h:p,l:A}=we.default.add(this.Eh|0,this.El|0,p|0,A|0),{h:S,l:O}=we.default.add(this.Fh|0,this.Fl|0,S|0,O|0),{h:B,l:R}=we.default.add(this.Gh|0,this.Gl|0,B|0,R|0),{h:N,l:$}=we.default.add(this.Hh|0,this.Hl|0,N|0,$|0),this.set(n,o,i,a,c,h,v,u,p,A,S,O,B,R,N,$)}roundClean(){vr.fill(0),gr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Tt.SHA512=Jn;class Fl extends Jn{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class ql extends Jn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}let zl=class extends Jn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Tt.sha512=(0,Hi.wrapConstructor)(()=>new Jn);Tt.sha512_224=(0,Hi.wrapConstructor)(()=>new Fl);Tt.sha512_256=(0,Hi.wrapConstructor)(()=>new ql);Tt.sha384=(0,Hi.wrapConstructor)(()=>new zl);var Gi={},pe={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.validateObject=ye.createHmacDrbg=ye.bitMask=ye.bitSet=ye.bitGet=ye.bitLen=ye.utf8ToBytes=ye.equalBytes=ye.concatBytes=ye.ensureBytes=ye.numberToVarBytesBE=ye.numberToBytesLE=ye.numberToBytesBE=ye.bytesToNumberLE=ye.bytesToNumberBE=ye.hexToBytes=ye.hexToNumber=ye.numberToHexUnpadded=ye.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Su=BigInt(0),Vi=BigInt(1),Hl=BigInt(2),Wi=t=>t instanceof Uint8Array,Gl=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tc(t){if(!Wi(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Gl[t[r]];return e}ye.bytesToHex=tc;function Eu(t){const e=t.toString(16);return e.length&1?`0${e}`:e}ye.numberToHexUnpadded=Eu;function rc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}ye.hexToNumber=rc;function Ji(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const o=n*2,i=t.slice(o,o+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}ye.hexToBytes=Ji;function Vl(t){return rc(tc(t))}ye.bytesToNumberBE=Vl;function Wl(t){if(!Wi(t))throw new Error("Uint8Array expected");return rc(tc(Uint8Array.from(t).reverse()))}ye.bytesToNumberLE=Wl;function Au(t,e){return Ji(t.toString(16).padStart(e*2,"0"))}ye.numberToBytesBE=Au;function Jl(t,e){return Au(t,e).reverse()}ye.numberToBytesLE=Jl;function Zl(t){return Ji(Eu(t))}ye.numberToVarBytesBE=Zl;function Xl(t,e,r){let n;if(typeof e=="string")try{n=Ji(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Wi(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}ye.ensureBytes=Xl;function xu(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!Wi(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}ye.concatBytes=xu;function Yl(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}ye.equalBytes=Yl;function Ql(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}ye.utf8ToBytes=Ql;function eh(t){let e;for(e=0;t>Su;t>>=Vi,e+=1);return e}ye.bitLen=eh;function th(t,e){return t>>BigInt(e)&Vi}ye.bitGet=th;const rh=(t,e,r)=>t|(r?Vi:Su)<<BigInt(e);ye.bitSet=rh;const nh=t=>(Hl<<BigInt(t-1))-Vi;ye.bitMask=nh;const ra=t=>new Uint8Array(t),Dc=t=>Uint8Array.from(t);function ih(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ra(t),o=ra(t),i=0;const a=()=>{n.fill(1),o.fill(0),i=0},c=(...p)=>r(o,n,...p),h=(p=ra())=>{o=c(Dc([0]),p),n=c(),p.length!==0&&(o=c(Dc([1]),p),n=c())},v=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){n=c();const S=n.slice();A.push(S),p+=n.length}return xu(...A)};return(p,A)=>{a(),h(p);let S;for(;!(S=A(v()));)h();return a(),S}}ye.createHmacDrbg=ih;const oh={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ah(t,e,r={}){const n=(o,i,a)=>{const c=oh[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const h=t[o];if(!(a&&h===void 0)&&!c(h,t))throw new Error(`Invalid param ${String(o)}=${h} (${typeof h}), expected ${i}`)};for(const[o,i]of Object.entries(e))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return t}ye.validateObject=ah;Object.defineProperty(pe,"__esModule",{value:!0});pe.mapHashToField=pe.getMinHashLength=pe.getFieldBytesLength=pe.hashToPrivateScalar=pe.FpSqrtEven=pe.FpSqrtOdd=pe.Field=pe.nLength=pe.FpIsSquare=pe.FpDiv=pe.FpInvertBatch=pe.FpPow=pe.validateField=pe.isNegativeLE=pe.FpSqrt=pe.tonelliShanks=pe.invert=pe.pow2=pe.pow=pe.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const St=ye,ot=BigInt(0),Pe=BigInt(1),xr=BigInt(2),ch=BigInt(3),Ka=BigInt(4),Fc=BigInt(5),qc=BigInt(8);BigInt(9);BigInt(16);function wt(t,e){const r=t%e;return r>=ot?r:e+r}pe.mod=wt;function Iu(t,e,r){if(r<=ot||e<ot)throw new Error("Expected power/modulo > 0");if(r===Pe)return ot;let n=Pe;for(;e>ot;)e&Pe&&(n=n*t%r),t=t*t%r,e>>=Pe;return n}pe.pow=Iu;function sh(t,e,r){let n=t;for(;e-- >ot;)n*=n,n%=r;return n}pe.pow2=sh;function gi(t,e){if(t===ot||e<=ot)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=wt(t,e),n=e,o=ot,i=Pe;for(;r!==ot;){const c=n/r,h=n%r,v=o-i*c;n=r,r=h,o=i,i=v}if(n!==Pe)throw new Error("invert: does not exist");return wt(o,e)}pe.invert=gi;function Mu(t){const e=(t-Pe)/xr;let r,n,o;for(r=t-Pe,n=0;r%xr===ot;r/=xr,n++);for(o=xr;o<t&&Iu(o,e,t)!==t-Pe;o++);if(n===1){const a=(t+Pe)/Ka;return function(h,v){const u=h.pow(v,a);if(!h.eql(h.sqr(u),v))throw new Error("Cannot find square root");return u}}const i=(r+Pe)/xr;return function(c,h){if(c.pow(h,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let v=n,u=c.pow(c.mul(c.ONE,o),r),p=c.pow(h,i),A=c.pow(h,r);for(;!c.eql(A,c.ONE);){if(c.eql(A,c.ZERO))return c.ZERO;let S=1;for(let B=c.sqr(A);S<v&&!c.eql(B,c.ONE);S++)B=c.sqr(B);const O=c.pow(u,Pe<<BigInt(v-S-1));u=c.sqr(O),p=c.mul(p,O),A=c.mul(A,u),v=S}return p}}pe.tonelliShanks=Mu;function Ou(t){if(t%Ka===ch){const e=(t+Pe)/Ka;return function(n,o){const i=n.pow(o,e);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%qc===Fc){const e=(t-Fc)/qc;return function(n,o){const i=n.mul(o,xr),a=n.pow(i,e),c=n.mul(o,a),h=n.mul(n.mul(c,xr),a),v=n.mul(c,n.sub(h,n.ONE));if(!n.eql(n.sqr(v),o))throw new Error("Cannot find square root");return v}}return Mu(t)}pe.FpSqrt=Ou;const uh=(t,e)=>(wt(t,e)&Pe)===Pe;pe.isNegativeLE=uh;const fh=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dh(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=fh.reduce((n,o)=>(n[o]="function",n),e);return(0,St.validateObject)(t,r)}pe.validateField=dh;function Tu(t,e,r){if(r<ot)throw new Error("Expected power > 0");if(r===ot)return t.ONE;if(r===Pe)return e;let n=t.ONE,o=e;for(;r>ot;)r&Pe&&(n=t.mul(n,o)),o=t.sqr(o),r>>=Pe;return n}pe.FpPow=Tu;function Bu(t,e){const r=new Array(e.length),n=e.reduce((i,a,c)=>t.is0(a)?i:(r[c]=i,t.mul(i,a)),t.ONE),o=t.inv(n);return e.reduceRight((i,a,c)=>t.is0(a)?i:(r[c]=t.mul(i,r[c]),t.mul(i,a)),o),r}pe.FpInvertBatch=Bu;function lh(t,e,r){return t.mul(e,typeof r=="bigint"?gi(r,t.ORDER):t.inv(r))}pe.FpDiv=lh;function hh(t){const e=(t.ORDER-Pe)/xr;return r=>{const n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}pe.FpIsSquare=hh;function nc(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}pe.nLength=nc;function bh(t,e,r=!1,n={}){if(t<=ot)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:i}=nc(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ou(t),c=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:(0,St.bitMask)(o),ZERO:ot,ONE:Pe,create:h=>wt(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return ot<=h&&h<t},is0:h=>h===ot,isOdd:h=>(h&Pe)===Pe,neg:h=>wt(-h,t),eql:(h,v)=>h===v,sqr:h=>wt(h*h,t),add:(h,v)=>wt(h+v,t),sub:(h,v)=>wt(h-v,t),mul:(h,v)=>wt(h*v,t),pow:(h,v)=>Tu(c,h,v),div:(h,v)=>wt(h*gi(v,t),t),sqrN:h=>h*h,addN:(h,v)=>h+v,subN:(h,v)=>h-v,mulN:(h,v)=>h*v,inv:h=>gi(h,t),sqrt:n.sqrt||(h=>a(c,h)),invertBatch:h=>Bu(c,h),cmov:(h,v,u)=>u?v:h,toBytes:h=>r?(0,St.numberToBytesLE)(h,i):(0,St.numberToBytesBE)(h,i),fromBytes:h=>{if(h.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${h.length}`);return r?(0,St.bytesToNumberLE)(h):(0,St.bytesToNumberBE)(h)}});return Object.freeze(c)}pe.Field=bh;function ph(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}pe.FpSqrtOdd=ph;function yh(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}pe.FpSqrtEven=yh;function vh(t,e,r=!1){t=(0,St.ensureBytes)("privateHash",t);const n=t.length,o=nc(e).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);const i=r?(0,St.bytesToNumberLE)(t):(0,St.bytesToNumberBE)(t);return wt(i,e-Pe)+Pe}pe.hashToPrivateScalar=vh;function ic(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}pe.getFieldBytesLength=ic;function Pu(t){const e=ic(t);return e+Math.ceil(e/2)}pe.getMinHashLength=Pu;function gh(t,e,r=!1){const n=t.length,o=ic(e),i=Pu(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const a=r?(0,St.bytesToNumberBE)(t):(0,St.bytesToNumberLE)(t),c=wt(a,e-Pe)+Pe;return r?(0,St.numberToBytesLE)(c,o):(0,St.numberToBytesBE)(c,o)}pe.mapHashToField=gh;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.validateBasic=dn.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zc=pe,mh=ye,_h=BigInt(0),na=BigInt(1);function wh(t,e){const r=(o,i)=>{const a=i.negate();return o?a:i},n=o=>{const i=Math.ceil(e/o)+1,a=2**(o-1);return{windows:i,windowSize:a}};return{constTimeNegate:r,unsafeLadder(o,i){let a=t.ZERO,c=o;for(;i>_h;)i&na&&(a=a.add(c)),c=c.double(),i>>=na;return a},precomputeWindow(o,i){const{windows:a,windowSize:c}=n(i),h=[];let v=o,u=v;for(let p=0;p<a;p++){u=v,h.push(u);for(let A=1;A<c;A++)u=u.add(v),h.push(u);v=u.double()}return h},wNAF(o,i,a){const{windows:c,windowSize:h}=n(o);let v=t.ZERO,u=t.BASE;const p=BigInt(2**o-1),A=2**o,S=BigInt(o);for(let O=0;O<c;O++){const B=O*h;let R=Number(a&p);a>>=S,R>h&&(R-=A,a+=na);const N=B,$=B+Math.abs(R)-1,U=O%2!==0,V=R<0;R===0?u=u.add(r(U,i[N])):v=v.add(r(V,i[$]))}return{p:v,f:u}},wNAFCached(o,i,a,c){const h=o._WINDOW_SIZE||1;let v=i.get(o);return v||(v=this.precomputeWindow(o,h),h!==1&&i.set(o,c(v))),this.wNAF(h,v,a)}}}dn.wNAF=wh;function Sh(t){return(0,zc.validateField)(t.Fp),(0,mh.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,zc.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}dn.validateBasic=Sh;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Eh=pe,sr=ye,mr=ye,Cu=dn,Lt=BigInt(0),_t=BigInt(1),oi=BigInt(2),Ah=BigInt(8),xh={zip215:!0};function Ih(t){const e=(0,Cu.validateBasic)(t);return sr.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Mh(t){const e=Ih(t),{Fp:r,n,prehash:o,hash:i,randomBytes:a,nByteLength:c,h}=e,v=oi<<BigInt(c*8)-_t,u=r.create,p=e.uvRatio||((I,m)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(m))}}catch{return{isValid:!1,value:Lt}}}),A=e.adjustScalarBytes||(I=>I),S=e.domain||((I,m,f)=>{if(m.length||f)throw new Error("Contexts/pre-hash are not supported");return I}),O=I=>typeof I=="bigint"&&Lt<I,B=(I,m)=>O(I)&&O(m)&&I<m,R=I=>I===Lt||B(I,v);function N(I,m){if(B(I,m))return I;throw new Error(`Expected valid scalar < ${m}, got ${typeof I} ${I}`)}function $(I){return I===Lt?I:N(I,n)}const U=new Map;function V(I){if(!(I instanceof C))throw new Error("ExtendedPoint expected")}class C{constructor(m,f,w,F){if(this.ex=m,this.ey=f,this.ez=w,this.et=F,!R(m))throw new Error("x required");if(!R(f))throw new Error("y required");if(!R(w))throw new Error("z required");if(!R(F))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(m){if(m instanceof C)throw new Error("extended point not allowed");const{x:f,y:w}=m||{};if(!R(f)||!R(w))throw new Error("invalid affine point");return new C(f,w,_t,u(f*w))}static normalizeZ(m){const f=r.invertBatch(m.map(w=>w.ez));return m.map((w,F)=>w.toAffine(f[F])).map(C.fromAffine)}_setWindowSize(m){this._WINDOW_SIZE=m,U.delete(this)}assertValidity(){const{a:m,d:f}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:w,ey:F,ez:G,et:z}=this,ne=u(w*w),J=u(F*F),Z=u(G*G),be=u(Z*Z),re=u(ne*m),le=u(Z*u(re+J)),Q=u(be+u(f*u(ne*J)));if(le!==Q)throw new Error("bad point: equation left != right (1)");const D=u(w*F),W=u(G*z);if(D!==W)throw new Error("bad point: equation left != right (2)")}equals(m){V(m);const{ex:f,ey:w,ez:F}=this,{ex:G,ey:z,ez:ne}=m,J=u(f*ne),Z=u(G*F),be=u(w*ne),re=u(z*F);return J===Z&&be===re}is0(){return this.equals(C.ZERO)}negate(){return new C(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:m}=e,{ex:f,ey:w,ez:F}=this,G=u(f*f),z=u(w*w),ne=u(oi*u(F*F)),J=u(m*G),Z=f+w,be=u(u(Z*Z)-G-z),re=J+z,le=re-ne,Q=J-z,D=u(be*le),W=u(re*Q),ce=u(be*Q),oe=u(le*re);return new C(D,W,oe,ce)}add(m){V(m);const{a:f,d:w}=e,{ex:F,ey:G,ez:z,et:ne}=this,{ex:J,ey:Z,ez:be,et:re}=m;if(f===BigInt(-1)){const ae=u((G-F)*(Z+J)),Oe=u((G+F)*(Z-J)),_e=u(Oe-ae);if(_e===Lt)return this.double();const ge=u(z*oi*re),De=u(ne*oi*be),E=De+ge,d=Oe+ae,b=De-ge,x=u(E*_e),P=u(d*b),k=u(E*b),K=u(_e*d);return new C(x,P,K,k)}const le=u(F*J),Q=u(G*Z),D=u(ne*w*re),W=u(z*be),ce=u((F+G)*(J+Z)-le-Q),oe=W-D,Y=W+D,te=u(Q-f*le),se=u(ce*oe),de=u(Y*te),ue=u(ce*te),ie=u(oe*Y);return new C(se,de,ie,ue)}subtract(m){return this.add(m.negate())}wNAF(m){return L.wNAFCached(this,U,m,C.normalizeZ)}multiply(m){const{p:f,f:w}=this.wNAF(N(m,n));return C.normalizeZ([f,w])[0]}multiplyUnsafe(m){let f=$(m);return f===Lt?X:this.equals(X)||f===_t?this:this.equals(H)?this.wNAF(f).p:L.unsafeLadder(this,f)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return L.unsafeLadder(this,n).is0()}toAffine(m){const{ex:f,ey:w,ez:F}=this,G=this.is0();m==null&&(m=G?Ah:r.inv(F));const z=u(f*m),ne=u(w*m),J=u(F*m);if(G)return{x:Lt,y:_t};if(J!==_t)throw new Error("invZ was invalid");return{x:z,y:ne}}clearCofactor(){const{h:m}=e;return m===_t?this:this.multiplyUnsafe(m)}static fromHex(m,f=!1){const{d:w,a:F}=e,G=r.BYTES;m=(0,mr.ensureBytes)("pointHex",m,G);const z=m.slice(),ne=m[G-1];z[G-1]=ne&-129;const J=sr.bytesToNumberLE(z);J===Lt||(f?N(J,v):N(J,r.ORDER));const Z=u(J*J),be=u(Z-_t),re=u(w*Z-F);let{isValid:le,value:Q}=p(be,re);if(!le)throw new Error("Point.fromHex: invalid y coordinate");const D=(Q&_t)===_t,W=(ne&128)!==0;if(!f&&Q===Lt&&W)throw new Error("Point.fromHex: x=0 and x_0=1");return W!==D&&(Q=u(-Q)),C.fromAffine({x:Q,y:J})}static fromPrivateKey(m){return M(m).point}toRawBytes(){const{x:m,y:f}=this.toAffine(),w=sr.numberToBytesLE(f,r.BYTES);return w[w.length-1]|=m&_t?128:0,w}toHex(){return sr.bytesToHex(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,_t,u(e.Gx*e.Gy)),C.ZERO=new C(Lt,_t,_t,Lt);const{BASE:H,ZERO:X}=C,L=(0,Cu.wNAF)(C,c*8);function j(I){return(0,Eh.mod)(I,n)}function ee(I){return j(sr.bytesToNumberLE(I))}function M(I){const m=c;I=(0,mr.ensureBytes)("private key",I,m);const f=(0,mr.ensureBytes)("hashed private key",i(I),2*m),w=A(f.slice(0,m)),F=f.slice(m,2*m),G=ee(w),z=H.multiply(G),ne=z.toRawBytes();return{head:w,prefix:F,scalar:G,point:z,pointBytes:ne}}function s(I){return M(I).pointBytes}function l(I=new Uint8Array,...m){const f=sr.concatBytes(...m);return ee(i(S(f,(0,mr.ensureBytes)("context",I),!!o)))}function y(I,m,f={}){I=(0,mr.ensureBytes)("message",I),o&&(I=o(I));const{prefix:w,scalar:F,pointBytes:G}=M(m),z=l(f.context,w,I),ne=H.multiply(z).toRawBytes(),J=l(f.context,ne,G,I),Z=j(z+J*F);$(Z);const be=sr.concatBytes(ne,sr.numberToBytesLE(Z,r.BYTES));return(0,mr.ensureBytes)("result",be,c*2)}const g=xh;function _(I,m,f,w=g){const{context:F,zip215:G}=w,z=r.BYTES;I=(0,mr.ensureBytes)("signature",I,2*z),m=(0,mr.ensureBytes)("message",m),o&&(m=o(m));const ne=sr.bytesToNumberLE(I.slice(z,2*z));let J,Z,be;try{J=C.fromHex(f,G),Z=C.fromHex(I.slice(0,z),G),be=H.multiplyUnsafe(ne)}catch{return!1}if(!G&&J.isSmallOrder())return!1;const re=l(F,Z.toRawBytes(),J.toRawBytes(),m);return Z.add(J.multiplyUnsafe(re)).subtract(be).clearCofactor().equals(C.ZERO)}return H._setWindowSize(8),{CURVE:e,getPublicKey:s,sign:y,verify:_,ExtendedPoint:C,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>a(r.BYTES),precompute(I=8,m=C.BASE){return m._setWindowSize(I),m.multiply(BigInt(3)),m}}}}Gi.twistedEdwards=Mh;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hc=pe,nn=ye,Rn=BigInt(0),ia=BigInt(1);function Oh(t){return(0,nn.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Th(t){const e=Oh(t),{P:r}=e,n=U=>(0,Hc.mod)(U,r),o=e.montgomeryBits,i=Math.ceil(o/8),a=e.nByteLength,c=e.adjustScalarBytes||(U=>U),h=e.powPminus2||(U=>(0,Hc.pow)(U,r-BigInt(2),r));function v(U,V,C){const H=n(U*(V-C));return V=n(V-H),C=n(C+H),[V,C]}function u(U){if(typeof U=="bigint"&&Rn<=U&&U<r)return U;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const p=(e.a-BigInt(2))/BigInt(4);function A(U,V){const C=u(U),H=u(V),X=C;let L=ia,j=Rn,ee=C,M=ia,s=Rn,l;for(let g=BigInt(o-1);g>=Rn;g--){const _=H>>g&ia;s^=_,l=v(s,L,ee),L=l[0],ee=l[1],l=v(s,j,M),j=l[0],M=l[1],s=_;const T=L+j,I=n(T*T),m=L-j,f=n(m*m),w=I-f,F=ee+M,G=ee-M,z=n(G*T),ne=n(F*m),J=z+ne,Z=z-ne;ee=n(J*J),M=n(X*n(Z*Z)),L=n(I*f),j=n(w*(I+n(p*w)))}l=v(s,L,ee),L=l[0],ee=l[1],l=v(s,j,M),j=l[0],M=l[1];const y=h(j);return n(L*y)}function S(U){return(0,nn.numberToBytesLE)(n(U),i)}function O(U){const V=(0,nn.ensureBytes)("u coordinate",U,i);return a===i&&(V[a-1]&=127),(0,nn.bytesToNumberLE)(V)}function B(U){const V=(0,nn.ensureBytes)("scalar",U);if(V.length!==i&&V.length!==a)throw new Error(`Expected ${i} or ${a} bytes, got ${V.length}`);return(0,nn.bytesToNumberLE)(c(V))}function R(U,V){const C=O(V),H=B(U),X=A(C,H);if(X===Rn)throw new Error("Invalid private or public key received");return S(X)}const N=S(e.Gu);function $(U){return R(U,N)}return{scalarMult:R,scalarMultBase:$,getSharedSecret:(U,V)=>R(U,V),getPublicKey:U=>$(U),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:N}}Zi.montgomery=Th;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.createHasher=Bt.isogenyMap=Bt.hash_to_field=Bt.expand_message_xof=Bt.expand_message_xmd=void 0;const Bh=pe,$t=ye;function Ph(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,$t.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}const Ch=$t.bytesToNumberBE;function Ar(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function Nh(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Hn(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function oc(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Nu(t,e,r,n){Hn(t),Hn(e),oc(r),e.length>255&&(e=n((0,$t.concatBytes)((0,$t.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:o,blockLen:i}=n,a=Math.ceil(r/o);if(a>255)throw new Error("Invalid xmd length");const c=(0,$t.concatBytes)(e,Ar(e.length,1)),h=Ar(0,i),v=Ar(r,2),u=new Array(a),p=n((0,$t.concatBytes)(h,t,v,Ar(0,1),c));u[0]=n((0,$t.concatBytes)(p,Ar(1,1),c));for(let S=1;S<=a;S++){const O=[Nh(p,u[S-1]),Ar(S+1,1),c];u[S]=n((0,$t.concatBytes)(...O))}return(0,$t.concatBytes)(...u).slice(0,r)}Bt.expand_message_xmd=Nu;function Ru(t,e,r,n,o){if(Hn(t),Hn(e),oc(r),e.length>255){const i=Math.ceil(2*n/8);e=o.create({dkLen:i}).update((0,$t.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(t).update(Ar(r,2)).update(e).update(Ar(e.length,1)).digest()}Bt.expand_message_xof=Ru;function ja(t,e,r){(0,$t.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:o,m:i,hash:a,expand:c,DST:h}=r;Hn(t),oc(e);const v=Ph(h),u=n.toString(2).length,p=Math.ceil((u+o)/8),A=e*i*p;let S;if(c==="xmd")S=Nu(t,v,A,a);else if(c==="xof")S=Ru(t,v,A,o,a);else if(c==="_internal_pass")S=t;else throw new Error('expand must be "xmd" or "xof"');const O=new Array(e);for(let B=0;B<e;B++){const R=new Array(i);for(let N=0;N<i;N++){const $=p*(N+B*i),U=S.subarray($,$+p);R[N]=(0,Bh.mod)(Ch(U),n)}O[B]=R}return O}Bt.hash_to_field=ja;function Rh(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,o)=>{const[i,a,c,h]=r.map(v=>v.reduce((u,p)=>t.add(t.mul(u,n),p)));return n=t.div(i,a),o=t.mul(o,t.div(c,h)),{x:n,y:o}}}Bt.isogenyMap=Rh;function Lh(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,o){const i=ja(n,2,{...r,DST:r.DST,...o}),a=t.fromAffine(e(i[0])),c=t.fromAffine(e(i[1])),h=a.add(c).clearCofactor();return h.assertValidity(),h},encodeToCurve(n,o){const i=ja(n,1,{...r,DST:r.encodeDST,...o}),a=t.fromAffine(e(i[0])).clearCofactor();return a.assertValidity(),a}}}Bt.createHasher=Lh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomeryPriv=t.edwardsToMontgomery=t.edwardsToMontgomeryPub=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Tt,r=qi,n=Gi,o=Zi,i=pe,a=ye,c=Bt,h=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),v=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),u=BigInt(0),p=BigInt(1),A=BigInt(2),S=BigInt(5),O=BigInt(10),B=BigInt(20),R=BigInt(40),N=BigInt(80);function $(Q){const D=h,ce=Q*Q%D*Q%D,oe=(0,i.pow2)(ce,A,D)*ce%D,Y=(0,i.pow2)(oe,p,D)*Q%D,te=(0,i.pow2)(Y,S,D)*Y%D,se=(0,i.pow2)(te,O,D)*te%D,de=(0,i.pow2)(se,B,D)*se%D,ue=(0,i.pow2)(de,R,D)*de%D,ie=(0,i.pow2)(ue,N,D)*ue%D,ae=(0,i.pow2)(ie,N,D)*ue%D,Oe=(0,i.pow2)(ae,O,D)*te%D;return{pow_p_5_8:(0,i.pow2)(Oe,A,D)*Q%D,b2:ce}}function U(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function V(Q,D){const W=h,ce=(0,i.mod)(D*D*D,W),oe=(0,i.mod)(ce*ce*D,W),Y=$(Q*oe).pow_p_5_8;let te=(0,i.mod)(Q*ce*Y,W);const se=(0,i.mod)(D*te*te,W),de=te,ue=(0,i.mod)(te*v,W),ie=se===Q,ae=se===(0,i.mod)(-Q,W),Oe=se===(0,i.mod)(-Q*v,W);return ie&&(te=de),(ae||Oe)&&(te=ue),(0,i.isNegativeLE)(te,W)&&(te=(0,i.mod)(-te,W)),{isValid:ie||ae,value:te}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const C=(0,i.Field)(h,void 0,!0),H={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:C,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:r.randomBytes,adjustScalarBytes:U,uvRatio:V};t.ed25519=(0,n.twistedEdwards)(H);function X(Q,D,W){if(D.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([W?1:0,D.length]),D,Q)}t.ed25519ctx=(0,n.twistedEdwards)({...H,domain:X}),t.ed25519ph=(0,n.twistedEdwards)({...H,domain:X,prehash:e.sha512}),t.x25519=(0,o.montgomery)({P:h,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const D=h,{pow_p_5_8:W,b2:ce}=$(Q);return(0,i.mod)((0,i.pow2)(W,BigInt(3),D)*ce,D)},adjustScalarBytes:U,randomBytes:r.randomBytes});function L(Q){const{y:D}=t.ed25519.ExtendedPoint.fromHex(Q),W=BigInt(1);return C.toBytes(C.create((W+D)*C.inv(W-D)))}t.edwardsToMontgomeryPub=L,t.edwardsToMontgomery=L;function j(Q){const D=H.hash(Q.subarray(0,32));return H.adjustScalarBytes(D).subarray(0,32)}t.edwardsToMontgomeryPriv=j;const ee=(C.ORDER+BigInt(3))/BigInt(8),M=C.pow(A,ee),s=C.sqrt(C.neg(C.ONE)),l=(C.ORDER-BigInt(5))/BigInt(8),y=BigInt(486662);function g(Q){let D=C.sqr(Q);D=C.mul(D,A);let W=C.add(D,C.ONE),ce=C.neg(y),oe=C.sqr(W),Y=C.mul(oe,W),te=C.mul(D,y);te=C.mul(te,ce),te=C.add(te,oe),te=C.mul(te,ce);let se=C.sqr(Y);oe=C.sqr(se),se=C.mul(se,Y),se=C.mul(se,te),oe=C.mul(oe,se);let de=C.pow(oe,l);de=C.mul(de,se);let ue=C.mul(de,s);oe=C.sqr(de),oe=C.mul(oe,Y);let ie=C.eql(oe,te),ae=C.cmov(ue,de,ie),Oe=C.mul(ce,D),_e=C.mul(de,Q);_e=C.mul(_e,M);let ge=C.mul(_e,s),De=C.mul(te,D);oe=C.sqr(_e),oe=C.mul(oe,Y);let E=C.eql(oe,De),d=C.cmov(ge,_e,E);oe=C.sqr(ae),oe=C.mul(oe,Y);let b=C.eql(oe,te),x=C.cmov(Oe,ce,b),P=C.cmov(d,ae,b),k=C.isOdd(P);return P=C.cmov(P,C.neg(P),b!==k),{xMn:x,xMd:W,yMn:P,yMd:p}}const _=(0,i.FpSqrtEven)(C,C.neg(BigInt(486664)));function T(Q){const{xMn:D,xMd:W,yMn:ce,yMd:oe}=g(Q);let Y=C.mul(D,oe);Y=C.mul(Y,_);let te=C.mul(W,ce),se=C.sub(D,W),de=C.add(D,W),ue=C.mul(te,de),ie=C.eql(ue,C.ZERO);Y=C.cmov(Y,C.ZERO,ie),te=C.cmov(te,C.ONE,ie),se=C.cmov(se,C.ONE,ie),de=C.cmov(de,C.ONE,ie);const ae=C.invertBatch([te,de]);return{x:C.mul(Y,ae[0]),y:C.mul(se,ae[1])}}const I=(0,c.createHasher)(t.ed25519.ExtendedPoint,Q=>T(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:C.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});t.hashToCurve=I.hashToCurve,t.encodeToCurve=I.encodeToCurve;function m(Q){if(!(Q instanceof re))throw new Error("RistrettoPoint expected")}const f=v,w=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),F=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),G=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),z=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ne=Q=>V(p,Q),J=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Z=Q=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&J);function be(Q){const{d:D}=t.ed25519.CURVE,W=t.ed25519.CURVE.Fp.ORDER,ce=t.ed25519.CURVE.Fp.create,oe=ce(f*Q*Q),Y=ce((oe+p)*G);let te=BigInt(-1);const se=ce((te-D*oe)*ce(oe+D));let{isValid:de,value:ue}=V(Y,se),ie=ce(ue*Q);(0,i.isNegativeLE)(ie,W)||(ie=ce(-ie)),de||(ue=ie),de||(te=oe);const ae=ce(te*(oe-p)*z-se),Oe=ue*ue,_e=ce((ue+ue)*se),ge=ce(ae*w),De=ce(p-Oe),E=ce(p+Oe);return new t.ed25519.ExtendedPoint(ce(_e*E),ce(De*ge),ce(ge*E),ce(_e*De))}class re{constructor(D){this.ep=D}static fromAffine(D){return new re(t.ed25519.ExtendedPoint.fromAffine(D))}static hashToCurve(D){D=(0,a.ensureBytes)("ristrettoHash",D,64);const W=Z(D.slice(0,32)),ce=be(W),oe=Z(D.slice(32,64)),Y=be(oe);return new re(ce.add(Y))}static fromHex(D){D=(0,a.ensureBytes)("ristrettoHex",D,32);const{a:W,d:ce}=t.ed25519.CURVE,oe=t.ed25519.CURVE.Fp.ORDER,Y=t.ed25519.CURVE.Fp.create,te="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",se=Z(D);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(se,32),D)||(0,i.isNegativeLE)(se,oe))throw new Error(te);const de=Y(se*se),ue=Y(p+W*de),ie=Y(p-W*de),ae=Y(ue*ue),Oe=Y(ie*ie),_e=Y(W*ce*ae-Oe),{isValid:ge,value:De}=ne(Y(_e*Oe)),E=Y(De*ie),d=Y(De*E*_e);let b=Y((se+se)*E);(0,i.isNegativeLE)(b,oe)&&(b=Y(-b));const x=Y(ue*d),P=Y(b*x);if(!ge||(0,i.isNegativeLE)(P,oe)||x===u)throw new Error(te);return new re(new t.ed25519.ExtendedPoint(b,x,p,P))}toRawBytes(){let{ex:D,ey:W,ez:ce,et:oe}=this.ep;const Y=t.ed25519.CURVE.Fp.ORDER,te=t.ed25519.CURVE.Fp.create,se=te(te(ce+W)*te(ce-W)),de=te(D*W),ue=te(de*de),{value:ie}=ne(te(se*ue)),ae=te(ie*se),Oe=te(ie*de),_e=te(ae*Oe*oe);let ge;if((0,i.isNegativeLE)(oe*_e,Y)){let E=te(W*f),d=te(D*f);D=E,W=d,ge=te(ae*F)}else ge=Oe;(0,i.isNegativeLE)(D*_e,Y)&&(W=te(-W));let De=te((ce-W)*ge);return(0,i.isNegativeLE)(De,Y)&&(De=te(-De)),(0,a.numberToBytesLE)(De,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(D){m(D);const{ex:W,ey:ce}=this.ep,{ex:oe,ey:Y}=D.ep,te=t.ed25519.CURVE.Fp.create,se=te(W*Y)===te(ce*oe),de=te(ce*Y)===te(W*oe);return se||de}add(D){return m(D),new re(this.ep.add(D.ep))}subtract(D){return m(D),new re(this.ep.subtract(D.ep))}multiply(D){return new re(this.ep.multiply(D))}multiplyUnsafe(D){return new re(this.ep.multiplyUnsafe(D))}}t.RistrettoPoint=(re.BASE||(re.BASE=new re(t.ed25519.ExtendedPoint.BASE)),re.ZERO||(re.ZERO=new re(t.ed25519.ExtendedPoint.ZERO)),re);const le=(Q,D)=>{const W=D.DST,ce=typeof W=="string"?(0,r.utf8ToBytes)(W):W,oe=(0,c.expand_message_xmd)(Q,ce,64,e.sha512);return re.hashToCurve(oe)};t.hashToRistretto255=le,t.hash_to_ristretto255=t.hashToRistretto255})(Ya);var Ua={exports:{}},oa=65536,kh=4294967295;function Kh(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var jh=zs.Buffer,mi=q.crypto||q.msCrypto;mi&&mi.getRandomValues?Ua.exports=Uh:Ua.exports=Kh;function Uh(t,e){if(t>kh)throw new RangeError("requested too many random bytes");var r=jh.allocUnsafe(t);if(t>0)if(t>oa)for(var n=0;n<t;n+=oa)mi.getRandomValues(r.slice(n,n+oa));else mi.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}var Lu=Ua.exports,wn={};const Ie={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function It(t,e){if(!t)throw new Error(e)}function Ae(t,e,r){if(It(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),o=`Expected ${t} to be an Uint8Array with length [${n}]`;It(r.includes(e.length),o)}else{const n=`Expected ${t} to be an Uint8Array with length ${r}`;It(e.length===r,n)}}function Rr(t){It(on(t)==="Boolean","Expected compressed to be a Boolean")}function kt(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),Ae("output",t,e),t}function on(t){return Object.prototype.toString.call(t).slice(8,-1)}var $h=t=>({contextRandomize(e){switch(It(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Ae("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Ie.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Ae("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Ae("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Ie.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(Ae("private key",e,32),Ae("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(Ae("private key",e,32),Ae("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_MUL)}},publicKeyVerify(e){return Ae("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(Ae("private key",e,32),Rr(r),n=kt(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(Ie.SECKEY_INVALID);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(Ae("public key",e,[33,65]),Rr(r),n=kt(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(Ae("public key",e,[33,65]),Rr(r),n=kt(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){It(Array.isArray(e),"Expected public keys to be an Array"),It(e.length>0,"Expected public keys array will have more than zero items");for(const o of e)Ae("public key",o,[33,65]);switch(Rr(r),n=kt(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_COMBINE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,o){switch(Ae("public key",e,[33,65]),Ae("tweak",r,32),Rr(n),o=kt(o,n?33:65),t.publicKeyTweakAdd(o,e,r)){case 0:return o;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,o){switch(Ae("public key",e,[33,65]),Ae("tweak",r,32),Rr(n),o=kt(o,n?33:65),t.publicKeyTweakMul(o,e,r)){case 0:return o;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_MUL)}},signatureNormalize(e){switch(Ae("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Ie.SIG_PARSE)}},signatureExport(e,r){Ae("signature",e,64),r=kt(r,72);const n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(Ae("signature",e),r=kt(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},o){Ae("message",e,32),Ae("private key",r,32),It(on(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ae("options.data",n.data),n.noncefn!==void 0&&It(on(n.noncefn)==="Function","Expected options.noncefn to be a Function"),o=kt(o,64);const i={signature:o,recid:null};switch(t.ecdsaSign(i,e,r,n.data,n.noncefn)){case 0:return i;case 1:throw new Error(Ie.SIGN);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(Ae("signature",e,64),Ae("message",r,32),Ae("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,o=!0,i){switch(Ae("signature",e,64),It(on(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Ae("message",n,32),Rr(o),i=kt(i,o?33:65),t.ecdsaRecover(i,e,r,n)){case 0:return i;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.RECOVER);case 3:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},o){switch(Ae("public key",e,[33,65]),Ae("private key",r,32),It(on(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ae("options.data",n.data),n.hashfn!==void 0?(It(on(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Ae("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Ae("options.ybuf",n.ybuf,32),Ae("output",o)):o=kt(o,32),t.ecdh(o,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return o;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.ECDH)}}}),ku={};const Dh="elliptic",Fh="6.5.7",qh="EC cryptography",zh="lib/elliptic.js",Hh=["lib"],Gh={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Vh={type:"git",url:"git@github.com:indutny/elliptic"},Wh=["EC","Elliptic","curve","Cryptography"],Jh="Fedor Indutny <fedor@indutny.com>",Zh="MIT",Xh={url:"https://github.com/indutny/elliptic/issues"},Yh="https://github.com/indutny/elliptic",Qh={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},e1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},t1={name:Dh,version:Fh,description:qh,main:zh,files:Hh,scripts:Gh,repository:Vh,keywords:Wh,author:Jh,license:Zh,bugs:Xh,homepage:Yh,devDependencies:Qh,dependencies:e1};var Et={},ac={exports:{}};const r1={},n1=Object.freeze(Object.defineProperty({__proto__:null,default:r1},Symbol.toStringTag,{value:"Module"})),ln=_d(n1);ac.exports;(function(t){(function(e,r){function n(M,s){if(!M)throw new Error(s||"Assertion failed")}function o(M,s){M.super_=s;var l=function(){};l.prototype=s.prototype,M.prototype=new l,M.prototype.constructor=M}function i(M,s,l){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((s==="le"||s==="be")&&(l=s,s=10),this._init(M||0,s||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ln.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,l){return s.cmp(l)>0?s:l},i.min=function(s,l){return s.cmp(l)<0?s:l},i.prototype._init=function(s,l,y){if(typeof s=="number")return this._initNumber(s,l,y);if(typeof s=="object")return this._initArray(s,l,y);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),s=s.toString().replace(/\s+/g,"");var g=0;s[0]==="-"&&(g++,this.negative=1),g<s.length&&(l===16?this._parseHex(s,g,y):(this._parseBase(s,l,g),y==="le"&&this._initArray(this.toArray(),l,y)))},i.prototype._initNumber=function(s,l,y){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),l,y)},i.prototype._initArray=function(s,l,y){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var _,T,I=0;if(y==="be")for(g=s.length-1,_=0;g>=0;g-=3)T=s[g]|s[g-1]<<8|s[g-2]<<16,this.words[_]|=T<<I&67108863,this.words[_+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(y==="le")for(g=0,_=0;g<s.length;g+=3)T=s[g]|s[g+1]<<8|s[g+2]<<16,this.words[_]|=T<<I&67108863,this.words[_+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()};function c(M,s){var l=M.charCodeAt(s);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function h(M,s,l){var y=c(M,l);return l-1>=s&&(y|=c(M,l-1)<<4),y}i.prototype._parseHex=function(s,l,y){this.length=Math.ceil((s.length-l)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var _=0,T=0,I;if(y==="be")for(g=s.length-1;g>=l;g-=2)I=h(s,l,g)<<_,this.words[T]|=I&67108863,_>=18?(_-=18,T+=1,this.words[T]|=I>>>26):_+=8;else{var m=s.length-l;for(g=m%2===0?l+1:l;g<s.length;g+=2)I=h(s,l,g)<<_,this.words[T]|=I&67108863,_>=18?(_-=18,T+=1,this.words[T]|=I>>>26):_+=8}this.strip()};function v(M,s,l,y){for(var g=0,_=Math.min(M.length,l),T=s;T<_;T++){var I=M.charCodeAt(T)-48;g*=y,I>=49?g+=I-49+10:I>=17?g+=I-17+10:g+=I}return g}i.prototype._parseBase=function(s,l,y){this.words=[0],this.length=1;for(var g=0,_=1;_<=67108863;_*=l)g++;g--,_=_/l|0;for(var T=s.length-y,I=T%g,m=Math.min(T,T-I)+y,f=0,w=y;w<m;w+=g)f=v(s,w,w+g,l),this.imuln(_),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(I!==0){var F=1;for(f=v(s,w,s.length,l),w=0;w<I;w++)F*=l;this.imuln(F),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var l=0;l<this.length;l++)s.words[l]=this.words[l];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,l){s=s||10,l=l|0||1;var y;if(s===16||s==="hex"){y="";for(var g=0,_=0,T=0;T<this.length;T++){var I=this.words[T],m=((I<<g|_)&16777215).toString(16);_=I>>>24-g&16777215,_!==0||T!==this.length-1?y=u[6-m.length]+m+y:y=m+y,g+=2,g>=26&&(g-=26,T--)}for(_!==0&&(y=_.toString(16)+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(s===(s|0)&&s>=2&&s<=36){var f=p[s],w=A[s];y="";var F=this.clone();for(F.negative=0;!F.isZero();){var G=F.modn(w).toString(s);F=F.idivn(w),F.isZero()?y=G+y:y=u[f-G.length]+G+y}for(this.isZero()&&(y="0"+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,l){return n(typeof a<"u"),this.toArrayLike(a,s,l)},i.prototype.toArray=function(s,l){return this.toArrayLike(Array,s,l)},i.prototype.toArrayLike=function(s,l,y){var g=this.byteLength(),_=y||Math.max(1,g);n(g<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var T=l==="le",I=new s(_),m,f,w=this.clone();if(T){for(f=0;!w.isZero();f++)m=w.andln(255),w.iushrn(8),I[f]=m;for(;f<_;f++)I[f]=0}else{for(f=0;f<_-g;f++)I[f]=0;for(f=0;!w.isZero();f++)m=w.andln(255),w.iushrn(8),I[_-f-1]=m}return I},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var l=s,y=0;return l>=4096&&(y+=13,l>>>=13),l>=64&&(y+=7,l>>>=7),l>=8&&(y+=4,l>>>=4),l>=2&&(y+=2,l>>>=2),y+l},i.prototype._zeroBits=function(s){if(s===0)return 26;var l=s,y=0;return l&8191||(y+=13,l>>>=13),l&127||(y+=7,l>>>=7),l&15||(y+=4,l>>>=4),l&3||(y+=2,l>>>=2),l&1||y++,y},i.prototype.bitLength=function(){var s=this.words[this.length-1],l=this._countBits(s);return(this.length-1)*26+l};function S(M){for(var s=new Array(M.bitLength()),l=0;l<s.length;l++){var y=l/26|0,g=l%26;s[l]=(M.words[y]&1<<g)>>>g}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,l=0;l<this.length;l++){var y=this._zeroBits(this.words[l]);if(s+=y,y!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]|s.words[l];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var l;this.length>s.length?l=s:l=this;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]&s.words[y];return this.length=l.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var l,y;this.length>s.length?(l=this,y=s):(l=s,y=this);for(var g=0;g<y.length;g++)this.words[g]=l.words[g]^y.words[g];if(this!==l)for(;g<l.length;g++)this.words[g]=l.words[g];return this.length=l.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var l=Math.ceil(s/26)|0,y=s%26;this._expand(l),y>0&&l--;for(var g=0;g<l;g++)this.words[g]=~this.words[g]&67108863;return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,l){n(typeof s=="number"&&s>=0);var y=s/26|0,g=s%26;return this._expand(y+1),l?this.words[y]=this.words[y]|1<<g:this.words[y]=this.words[y]&~(1<<g),this.strip()},i.prototype.iadd=function(s){var l;if(this.negative!==0&&s.negative===0)return this.negative=0,l=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,l=this.isub(s),s.negative=1,l._normSign();var y,g;this.length>s.length?(y=this,g=s):(y=s,g=this);for(var _=0,T=0;T<g.length;T++)l=(y.words[T]|0)+(g.words[T]|0)+_,this.words[T]=l&67108863,_=l>>>26;for(;_!==0&&T<y.length;T++)l=(y.words[T]|0)+_,this.words[T]=l&67108863,_=l>>>26;if(this.length=y.length,_!==0)this.words[this.length]=_,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},i.prototype.add=function(s){var l;return s.negative!==0&&this.negative===0?(s.negative=0,l=this.sub(s),s.negative^=1,l):s.negative===0&&this.negative!==0?(this.negative=0,l=s.sub(this),this.negative=1,l):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var l=this.iadd(s);return s.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var y=this.cmp(s);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,_;y>0?(g=this,_=s):(g=s,_=this);for(var T=0,I=0;I<_.length;I++)l=(g.words[I]|0)-(_.words[I]|0)+T,T=l>>26,this.words[I]=l&67108863;for(;T!==0&&I<g.length;I++)l=(g.words[I]|0)+T,T=l>>26,this.words[I]=l&67108863;if(T===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function O(M,s,l){l.negative=s.negative^M.negative;var y=M.length+s.length|0;l.length=y,y=y-1|0;var g=M.words[0]|0,_=s.words[0]|0,T=g*_,I=T&67108863,m=T/67108864|0;l.words[0]=I;for(var f=1;f<y;f++){for(var w=m>>>26,F=m&67108863,G=Math.min(f,s.length-1),z=Math.max(0,f-M.length+1);z<=G;z++){var ne=f-z|0;g=M.words[ne]|0,_=s.words[z]|0,T=g*_+F,w+=T/67108864|0,F=T&67108863}l.words[f]=F|0,m=w|0}return m!==0?l.words[f]=m|0:l.length--,l.strip()}var B=function(s,l,y){var g=s.words,_=l.words,T=y.words,I=0,m,f,w,F=g[0]|0,G=F&8191,z=F>>>13,ne=g[1]|0,J=ne&8191,Z=ne>>>13,be=g[2]|0,re=be&8191,le=be>>>13,Q=g[3]|0,D=Q&8191,W=Q>>>13,ce=g[4]|0,oe=ce&8191,Y=ce>>>13,te=g[5]|0,se=te&8191,de=te>>>13,ue=g[6]|0,ie=ue&8191,ae=ue>>>13,Oe=g[7]|0,_e=Oe&8191,ge=Oe>>>13,De=g[8]|0,E=De&8191,d=De>>>13,b=g[9]|0,x=b&8191,P=b>>>13,k=_[0]|0,K=k&8191,fe=k>>>13,Re=_[1]|0,ve=Re&8191,me=Re>>>13,Me=_[2]|0,Fe=Me&8191,qe=Me>>>13,Cc=_[3]|0,ze=Cc&8191,He=Cc>>>13,Nc=_[4]|0,Ge=Nc&8191,Ve=Nc>>>13,Rc=_[5]|0,We=Rc&8191,Je=Rc>>>13,Lc=_[6]|0,Ze=Lc&8191,Xe=Lc>>>13,kc=_[7]|0,Ye=kc&8191,Qe=kc>>>13,Kc=_[8]|0,et=Kc&8191,tt=Kc>>>13,jc=_[9]|0,rt=jc&8191,nt=jc>>>13;y.negative=s.negative^l.negative,y.length=19,m=Math.imul(G,K),f=Math.imul(G,fe),f=f+Math.imul(z,K)|0,w=Math.imul(z,fe);var Ro=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,m=Math.imul(J,K),f=Math.imul(J,fe),f=f+Math.imul(Z,K)|0,w=Math.imul(Z,fe),m=m+Math.imul(G,ve)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(z,ve)|0,w=w+Math.imul(z,me)|0;var Lo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,m=Math.imul(re,K),f=Math.imul(re,fe),f=f+Math.imul(le,K)|0,w=Math.imul(le,fe),m=m+Math.imul(J,ve)|0,f=f+Math.imul(J,me)|0,f=f+Math.imul(Z,ve)|0,w=w+Math.imul(Z,me)|0,m=m+Math.imul(G,Fe)|0,f=f+Math.imul(G,qe)|0,f=f+Math.imul(z,Fe)|0,w=w+Math.imul(z,qe)|0;var ko=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(ko>>>26)|0,ko&=67108863,m=Math.imul(D,K),f=Math.imul(D,fe),f=f+Math.imul(W,K)|0,w=Math.imul(W,fe),m=m+Math.imul(re,ve)|0,f=f+Math.imul(re,me)|0,f=f+Math.imul(le,ve)|0,w=w+Math.imul(le,me)|0,m=m+Math.imul(J,Fe)|0,f=f+Math.imul(J,qe)|0,f=f+Math.imul(Z,Fe)|0,w=w+Math.imul(Z,qe)|0,m=m+Math.imul(G,ze)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(z,ze)|0,w=w+Math.imul(z,He)|0;var Ko=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,m=Math.imul(oe,K),f=Math.imul(oe,fe),f=f+Math.imul(Y,K)|0,w=Math.imul(Y,fe),m=m+Math.imul(D,ve)|0,f=f+Math.imul(D,me)|0,f=f+Math.imul(W,ve)|0,w=w+Math.imul(W,me)|0,m=m+Math.imul(re,Fe)|0,f=f+Math.imul(re,qe)|0,f=f+Math.imul(le,Fe)|0,w=w+Math.imul(le,qe)|0,m=m+Math.imul(J,ze)|0,f=f+Math.imul(J,He)|0,f=f+Math.imul(Z,ze)|0,w=w+Math.imul(Z,He)|0,m=m+Math.imul(G,Ge)|0,f=f+Math.imul(G,Ve)|0,f=f+Math.imul(z,Ge)|0,w=w+Math.imul(z,Ve)|0;var jo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(jo>>>26)|0,jo&=67108863,m=Math.imul(se,K),f=Math.imul(se,fe),f=f+Math.imul(de,K)|0,w=Math.imul(de,fe),m=m+Math.imul(oe,ve)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(Y,ve)|0,w=w+Math.imul(Y,me)|0,m=m+Math.imul(D,Fe)|0,f=f+Math.imul(D,qe)|0,f=f+Math.imul(W,Fe)|0,w=w+Math.imul(W,qe)|0,m=m+Math.imul(re,ze)|0,f=f+Math.imul(re,He)|0,f=f+Math.imul(le,ze)|0,w=w+Math.imul(le,He)|0,m=m+Math.imul(J,Ge)|0,f=f+Math.imul(J,Ve)|0,f=f+Math.imul(Z,Ge)|0,w=w+Math.imul(Z,Ve)|0,m=m+Math.imul(G,We)|0,f=f+Math.imul(G,Je)|0,f=f+Math.imul(z,We)|0,w=w+Math.imul(z,Je)|0;var Uo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,m=Math.imul(ie,K),f=Math.imul(ie,fe),f=f+Math.imul(ae,K)|0,w=Math.imul(ae,fe),m=m+Math.imul(se,ve)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(de,ve)|0,w=w+Math.imul(de,me)|0,m=m+Math.imul(oe,Fe)|0,f=f+Math.imul(oe,qe)|0,f=f+Math.imul(Y,Fe)|0,w=w+Math.imul(Y,qe)|0,m=m+Math.imul(D,ze)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(W,ze)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(re,Ge)|0,f=f+Math.imul(re,Ve)|0,f=f+Math.imul(le,Ge)|0,w=w+Math.imul(le,Ve)|0,m=m+Math.imul(J,We)|0,f=f+Math.imul(J,Je)|0,f=f+Math.imul(Z,We)|0,w=w+Math.imul(Z,Je)|0,m=m+Math.imul(G,Ze)|0,f=f+Math.imul(G,Xe)|0,f=f+Math.imul(z,Ze)|0,w=w+Math.imul(z,Xe)|0;var $o=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+($o>>>26)|0,$o&=67108863,m=Math.imul(_e,K),f=Math.imul(_e,fe),f=f+Math.imul(ge,K)|0,w=Math.imul(ge,fe),m=m+Math.imul(ie,ve)|0,f=f+Math.imul(ie,me)|0,f=f+Math.imul(ae,ve)|0,w=w+Math.imul(ae,me)|0,m=m+Math.imul(se,Fe)|0,f=f+Math.imul(se,qe)|0,f=f+Math.imul(de,Fe)|0,w=w+Math.imul(de,qe)|0,m=m+Math.imul(oe,ze)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(Y,ze)|0,w=w+Math.imul(Y,He)|0,m=m+Math.imul(D,Ge)|0,f=f+Math.imul(D,Ve)|0,f=f+Math.imul(W,Ge)|0,w=w+Math.imul(W,Ve)|0,m=m+Math.imul(re,We)|0,f=f+Math.imul(re,Je)|0,f=f+Math.imul(le,We)|0,w=w+Math.imul(le,Je)|0,m=m+Math.imul(J,Ze)|0,f=f+Math.imul(J,Xe)|0,f=f+Math.imul(Z,Ze)|0,w=w+Math.imul(Z,Xe)|0,m=m+Math.imul(G,Ye)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(z,Ye)|0,w=w+Math.imul(z,Qe)|0;var Do=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Do>>>26)|0,Do&=67108863,m=Math.imul(E,K),f=Math.imul(E,fe),f=f+Math.imul(d,K)|0,w=Math.imul(d,fe),m=m+Math.imul(_e,ve)|0,f=f+Math.imul(_e,me)|0,f=f+Math.imul(ge,ve)|0,w=w+Math.imul(ge,me)|0,m=m+Math.imul(ie,Fe)|0,f=f+Math.imul(ie,qe)|0,f=f+Math.imul(ae,Fe)|0,w=w+Math.imul(ae,qe)|0,m=m+Math.imul(se,ze)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(de,ze)|0,w=w+Math.imul(de,He)|0,m=m+Math.imul(oe,Ge)|0,f=f+Math.imul(oe,Ve)|0,f=f+Math.imul(Y,Ge)|0,w=w+Math.imul(Y,Ve)|0,m=m+Math.imul(D,We)|0,f=f+Math.imul(D,Je)|0,f=f+Math.imul(W,We)|0,w=w+Math.imul(W,Je)|0,m=m+Math.imul(re,Ze)|0,f=f+Math.imul(re,Xe)|0,f=f+Math.imul(le,Ze)|0,w=w+Math.imul(le,Xe)|0,m=m+Math.imul(J,Ye)|0,f=f+Math.imul(J,Qe)|0,f=f+Math.imul(Z,Ye)|0,w=w+Math.imul(Z,Qe)|0,m=m+Math.imul(G,et)|0,f=f+Math.imul(G,tt)|0,f=f+Math.imul(z,et)|0,w=w+Math.imul(z,tt)|0;var Fo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,m=Math.imul(x,K),f=Math.imul(x,fe),f=f+Math.imul(P,K)|0,w=Math.imul(P,fe),m=m+Math.imul(E,ve)|0,f=f+Math.imul(E,me)|0,f=f+Math.imul(d,ve)|0,w=w+Math.imul(d,me)|0,m=m+Math.imul(_e,Fe)|0,f=f+Math.imul(_e,qe)|0,f=f+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,qe)|0,m=m+Math.imul(ie,ze)|0,f=f+Math.imul(ie,He)|0,f=f+Math.imul(ae,ze)|0,w=w+Math.imul(ae,He)|0,m=m+Math.imul(se,Ge)|0,f=f+Math.imul(se,Ve)|0,f=f+Math.imul(de,Ge)|0,w=w+Math.imul(de,Ve)|0,m=m+Math.imul(oe,We)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(Y,We)|0,w=w+Math.imul(Y,Je)|0,m=m+Math.imul(D,Ze)|0,f=f+Math.imul(D,Xe)|0,f=f+Math.imul(W,Ze)|0,w=w+Math.imul(W,Xe)|0,m=m+Math.imul(re,Ye)|0,f=f+Math.imul(re,Qe)|0,f=f+Math.imul(le,Ye)|0,w=w+Math.imul(le,Qe)|0,m=m+Math.imul(J,et)|0,f=f+Math.imul(J,tt)|0,f=f+Math.imul(Z,et)|0,w=w+Math.imul(Z,tt)|0,m=m+Math.imul(G,rt)|0,f=f+Math.imul(G,nt)|0,f=f+Math.imul(z,rt)|0,w=w+Math.imul(z,nt)|0;var qo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(qo>>>26)|0,qo&=67108863,m=Math.imul(x,ve),f=Math.imul(x,me),f=f+Math.imul(P,ve)|0,w=Math.imul(P,me),m=m+Math.imul(E,Fe)|0,f=f+Math.imul(E,qe)|0,f=f+Math.imul(d,Fe)|0,w=w+Math.imul(d,qe)|0,m=m+Math.imul(_e,ze)|0,f=f+Math.imul(_e,He)|0,f=f+Math.imul(ge,ze)|0,w=w+Math.imul(ge,He)|0,m=m+Math.imul(ie,Ge)|0,f=f+Math.imul(ie,Ve)|0,f=f+Math.imul(ae,Ge)|0,w=w+Math.imul(ae,Ve)|0,m=m+Math.imul(se,We)|0,f=f+Math.imul(se,Je)|0,f=f+Math.imul(de,We)|0,w=w+Math.imul(de,Je)|0,m=m+Math.imul(oe,Ze)|0,f=f+Math.imul(oe,Xe)|0,f=f+Math.imul(Y,Ze)|0,w=w+Math.imul(Y,Xe)|0,m=m+Math.imul(D,Ye)|0,f=f+Math.imul(D,Qe)|0,f=f+Math.imul(W,Ye)|0,w=w+Math.imul(W,Qe)|0,m=m+Math.imul(re,et)|0,f=f+Math.imul(re,tt)|0,f=f+Math.imul(le,et)|0,w=w+Math.imul(le,tt)|0,m=m+Math.imul(J,rt)|0,f=f+Math.imul(J,nt)|0,f=f+Math.imul(Z,rt)|0,w=w+Math.imul(Z,nt)|0;var zo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(zo>>>26)|0,zo&=67108863,m=Math.imul(x,Fe),f=Math.imul(x,qe),f=f+Math.imul(P,Fe)|0,w=Math.imul(P,qe),m=m+Math.imul(E,ze)|0,f=f+Math.imul(E,He)|0,f=f+Math.imul(d,ze)|0,w=w+Math.imul(d,He)|0,m=m+Math.imul(_e,Ge)|0,f=f+Math.imul(_e,Ve)|0,f=f+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,Ve)|0,m=m+Math.imul(ie,We)|0,f=f+Math.imul(ie,Je)|0,f=f+Math.imul(ae,We)|0,w=w+Math.imul(ae,Je)|0,m=m+Math.imul(se,Ze)|0,f=f+Math.imul(se,Xe)|0,f=f+Math.imul(de,Ze)|0,w=w+Math.imul(de,Xe)|0,m=m+Math.imul(oe,Ye)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(Y,Ye)|0,w=w+Math.imul(Y,Qe)|0,m=m+Math.imul(D,et)|0,f=f+Math.imul(D,tt)|0,f=f+Math.imul(W,et)|0,w=w+Math.imul(W,tt)|0,m=m+Math.imul(re,rt)|0,f=f+Math.imul(re,nt)|0,f=f+Math.imul(le,rt)|0,w=w+Math.imul(le,nt)|0;var Ho=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,m=Math.imul(x,ze),f=Math.imul(x,He),f=f+Math.imul(P,ze)|0,w=Math.imul(P,He),m=m+Math.imul(E,Ge)|0,f=f+Math.imul(E,Ve)|0,f=f+Math.imul(d,Ge)|0,w=w+Math.imul(d,Ve)|0,m=m+Math.imul(_e,We)|0,f=f+Math.imul(_e,Je)|0,f=f+Math.imul(ge,We)|0,w=w+Math.imul(ge,Je)|0,m=m+Math.imul(ie,Ze)|0,f=f+Math.imul(ie,Xe)|0,f=f+Math.imul(ae,Ze)|0,w=w+Math.imul(ae,Xe)|0,m=m+Math.imul(se,Ye)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(de,Ye)|0,w=w+Math.imul(de,Qe)|0,m=m+Math.imul(oe,et)|0,f=f+Math.imul(oe,tt)|0,f=f+Math.imul(Y,et)|0,w=w+Math.imul(Y,tt)|0,m=m+Math.imul(D,rt)|0,f=f+Math.imul(D,nt)|0,f=f+Math.imul(W,rt)|0,w=w+Math.imul(W,nt)|0;var Go=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Go>>>26)|0,Go&=67108863,m=Math.imul(x,Ge),f=Math.imul(x,Ve),f=f+Math.imul(P,Ge)|0,w=Math.imul(P,Ve),m=m+Math.imul(E,We)|0,f=f+Math.imul(E,Je)|0,f=f+Math.imul(d,We)|0,w=w+Math.imul(d,Je)|0,m=m+Math.imul(_e,Ze)|0,f=f+Math.imul(_e,Xe)|0,f=f+Math.imul(ge,Ze)|0,w=w+Math.imul(ge,Xe)|0,m=m+Math.imul(ie,Ye)|0,f=f+Math.imul(ie,Qe)|0,f=f+Math.imul(ae,Ye)|0,w=w+Math.imul(ae,Qe)|0,m=m+Math.imul(se,et)|0,f=f+Math.imul(se,tt)|0,f=f+Math.imul(de,et)|0,w=w+Math.imul(de,tt)|0,m=m+Math.imul(oe,rt)|0,f=f+Math.imul(oe,nt)|0,f=f+Math.imul(Y,rt)|0,w=w+Math.imul(Y,nt)|0;var Vo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,m=Math.imul(x,We),f=Math.imul(x,Je),f=f+Math.imul(P,We)|0,w=Math.imul(P,Je),m=m+Math.imul(E,Ze)|0,f=f+Math.imul(E,Xe)|0,f=f+Math.imul(d,Ze)|0,w=w+Math.imul(d,Xe)|0,m=m+Math.imul(_e,Ye)|0,f=f+Math.imul(_e,Qe)|0,f=f+Math.imul(ge,Ye)|0,w=w+Math.imul(ge,Qe)|0,m=m+Math.imul(ie,et)|0,f=f+Math.imul(ie,tt)|0,f=f+Math.imul(ae,et)|0,w=w+Math.imul(ae,tt)|0,m=m+Math.imul(se,rt)|0,f=f+Math.imul(se,nt)|0,f=f+Math.imul(de,rt)|0,w=w+Math.imul(de,nt)|0;var Wo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,m=Math.imul(x,Ze),f=Math.imul(x,Xe),f=f+Math.imul(P,Ze)|0,w=Math.imul(P,Xe),m=m+Math.imul(E,Ye)|0,f=f+Math.imul(E,Qe)|0,f=f+Math.imul(d,Ye)|0,w=w+Math.imul(d,Qe)|0,m=m+Math.imul(_e,et)|0,f=f+Math.imul(_e,tt)|0,f=f+Math.imul(ge,et)|0,w=w+Math.imul(ge,tt)|0,m=m+Math.imul(ie,rt)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ae,rt)|0,w=w+Math.imul(ae,nt)|0;var Jo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,m=Math.imul(x,Ye),f=Math.imul(x,Qe),f=f+Math.imul(P,Ye)|0,w=Math.imul(P,Qe),m=m+Math.imul(E,et)|0,f=f+Math.imul(E,tt)|0,f=f+Math.imul(d,et)|0,w=w+Math.imul(d,tt)|0,m=m+Math.imul(_e,rt)|0,f=f+Math.imul(_e,nt)|0,f=f+Math.imul(ge,rt)|0,w=w+Math.imul(ge,nt)|0;var Zo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,m=Math.imul(x,et),f=Math.imul(x,tt),f=f+Math.imul(P,et)|0,w=Math.imul(P,tt),m=m+Math.imul(E,rt)|0,f=f+Math.imul(E,nt)|0,f=f+Math.imul(d,rt)|0,w=w+Math.imul(d,nt)|0;var Xo=(I+m|0)+((f&8191)<<13)|0;I=(w+(f>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,m=Math.imul(x,rt),f=Math.imul(x,nt),f=f+Math.imul(P,rt)|0,w=Math.imul(P,nt);var Yo=(I+m|0)+((f&8191)<<13)|0;return I=(w+(f>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,T[0]=Ro,T[1]=Lo,T[2]=ko,T[3]=Ko,T[4]=jo,T[5]=Uo,T[6]=$o,T[7]=Do,T[8]=Fo,T[9]=qo,T[10]=zo,T[11]=Ho,T[12]=Go,T[13]=Vo,T[14]=Wo,T[15]=Jo,T[16]=Zo,T[17]=Xo,T[18]=Yo,I!==0&&(T[19]=I,y.length++),y};Math.imul||(B=O);function R(M,s,l){l.negative=s.negative^M.negative,l.length=M.length+s.length;for(var y=0,g=0,_=0;_<l.length-1;_++){var T=g;g=0;for(var I=y&67108863,m=Math.min(_,s.length-1),f=Math.max(0,_-M.length+1);f<=m;f++){var w=_-f,F=M.words[w]|0,G=s.words[f]|0,z=F*G,ne=z&67108863;T=T+(z/67108864|0)|0,ne=ne+I|0,I=ne&67108863,T=T+(ne>>>26)|0,g+=T>>>26,T&=67108863}l.words[_]=I,y=T,T=g}return y!==0?l.words[_]=y:l.length--,l.strip()}function N(M,s,l){var y=new $;return y.mulp(M,s,l)}i.prototype.mulTo=function(s,l){var y,g=this.length+s.length;return this.length===10&&s.length===10?y=B(this,s,l):g<63?y=O(this,s,l):g<1024?y=R(this,s,l):y=N(this,s,l),y};function $(M,s){this.x=M,this.y=s}$.prototype.makeRBT=function(s){for(var l=new Array(s),y=i.prototype._countBits(s)-1,g=0;g<s;g++)l[g]=this.revBin(g,y,s);return l},$.prototype.revBin=function(s,l,y){if(s===0||s===y-1)return s;for(var g=0,_=0;_<l;_++)g|=(s&1)<<l-_-1,s>>=1;return g},$.prototype.permute=function(s,l,y,g,_,T){for(var I=0;I<T;I++)g[I]=l[s[I]],_[I]=y[s[I]]},$.prototype.transform=function(s,l,y,g,_,T){this.permute(T,s,l,y,g,_);for(var I=1;I<_;I<<=1)for(var m=I<<1,f=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),F=0;F<_;F+=m)for(var G=f,z=w,ne=0;ne<I;ne++){var J=y[F+ne],Z=g[F+ne],be=y[F+ne+I],re=g[F+ne+I],le=G*be-z*re;re=G*re+z*be,be=le,y[F+ne]=J+be,g[F+ne]=Z+re,y[F+ne+I]=J-be,g[F+ne+I]=Z-re,ne!==m&&(le=f*G-w*z,z=f*z+w*G,G=le)}},$.prototype.guessLen13b=function(s,l){var y=Math.max(l,s)|1,g=y&1,_=0;for(y=y/2|0;y;y=y>>>1)_++;return 1<<_+1+g},$.prototype.conjugate=function(s,l,y){if(!(y<=1))for(var g=0;g<y/2;g++){var _=s[g];s[g]=s[y-g-1],s[y-g-1]=_,_=l[g],l[g]=-l[y-g-1],l[y-g-1]=-_}},$.prototype.normalize13b=function(s,l){for(var y=0,g=0;g<l/2;g++){var _=Math.round(s[2*g+1]/l)*8192+Math.round(s[2*g]/l)+y;s[g]=_&67108863,_<67108864?y=0:y=_/67108864|0}return s},$.prototype.convert13b=function(s,l,y,g){for(var _=0,T=0;T<l;T++)_=_+(s[T]|0),y[2*T]=_&8191,_=_>>>13,y[2*T+1]=_&8191,_=_>>>13;for(T=2*l;T<g;++T)y[T]=0;n(_===0),n((_&-8192)===0)},$.prototype.stub=function(s){for(var l=new Array(s),y=0;y<s;y++)l[y]=0;return l},$.prototype.mulp=function(s,l,y){var g=2*this.guessLen13b(s.length,l.length),_=this.makeRBT(g),T=this.stub(g),I=new Array(g),m=new Array(g),f=new Array(g),w=new Array(g),F=new Array(g),G=new Array(g),z=y.words;z.length=g,this.convert13b(s.words,s.length,I,g),this.convert13b(l.words,l.length,w,g),this.transform(I,T,m,f,g,_),this.transform(w,T,F,G,g,_);for(var ne=0;ne<g;ne++){var J=m[ne]*F[ne]-f[ne]*G[ne];f[ne]=m[ne]*G[ne]+f[ne]*F[ne],m[ne]=J}return this.conjugate(m,f,g),this.transform(m,f,z,T,g,_),this.conjugate(z,T,g),this.normalize13b(z,g),y.negative=s.negative^l.negative,y.length=s.length+l.length,y.strip()},i.prototype.mul=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),this.mulTo(s,l)},i.prototype.mulf=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),N(this,s,l)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var l=0,y=0;y<this.length;y++){var g=(this.words[y]|0)*s,_=(g&67108863)+(l&67108863);l>>=26,l+=g/67108864|0,l+=_>>>26,this.words[y]=_&67108863}return l!==0&&(this.words[y]=l,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var l=S(s);if(l.length===0)return new i(1);for(var y=this,g=0;g<l.length&&l[g]===0;g++,y=y.sqr());if(++g<l.length)for(var _=y.sqr();g<l.length;g++,_=_.sqr())l[g]!==0&&(y=y.mul(_));return y},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var l=s%26,y=(s-l)/26,g=67108863>>>26-l<<26-l,_;if(l!==0){var T=0;for(_=0;_<this.length;_++){var I=this.words[_]&g,m=(this.words[_]|0)-I<<l;this.words[_]=m|T,T=I>>>26-l}T&&(this.words[_]=T,this.length++)}if(y!==0){for(_=this.length-1;_>=0;_--)this.words[_+y]=this.words[_];for(_=0;_<y;_++)this.words[_]=0;this.length+=y}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,l,y){n(typeof s=="number"&&s>=0);var g;l?g=(l-l%26)/26:g=0;var _=s%26,T=Math.min((s-_)/26,this.length),I=67108863^67108863>>>_<<_,m=y;if(g-=T,g=Math.max(0,g),m){for(var f=0;f<T;f++)m.words[f]=this.words[f];m.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var w=0;for(f=this.length-1;f>=0&&(w!==0||f>=g);f--){var F=this.words[f]|0;this.words[f]=w<<26-_|F>>>_,w=F&I}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,l,y){return n(this.negative===0),this.iushrn(s,l,y)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var l=s%26,y=(s-l)/26,g=1<<l;if(this.length<=y)return!1;var _=this.words[y];return!!(_&g)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var l=s%26,y=(s-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(l!==0&&y++,this.length=Math.min(y,this.length),l!==0){var g=67108863^67108863>>>l<<l;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,l,y){var g=s.length+y,_;this._expand(g);var T,I=0;for(_=0;_<s.length;_++){T=(this.words[_+y]|0)+I;var m=(s.words[_]|0)*l;T-=m&67108863,I=(T>>26)-(m/67108864|0),this.words[_+y]=T&67108863}for(;_<this.length-y;_++)T=(this.words[_+y]|0)+I,I=T>>26,this.words[_+y]=T&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,_=0;_<this.length;_++)T=-(this.words[_]|0)+I,I=T>>26,this.words[_]=T&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,l){var y=this.length-s.length,g=this.clone(),_=s,T=_.words[_.length-1]|0,I=this._countBits(T);y=26-I,y!==0&&(_=_.ushln(y),g.iushln(y),T=_.words[_.length-1]|0);var m=g.length-_.length,f;if(l!=="mod"){f=new i(null),f.length=m+1,f.words=new Array(f.length);for(var w=0;w<f.length;w++)f.words[w]=0}var F=g.clone()._ishlnsubmul(_,1,m);F.negative===0&&(g=F,f&&(f.words[m]=1));for(var G=m-1;G>=0;G--){var z=(g.words[_.length+G]|0)*67108864+(g.words[_.length+G-1]|0);for(z=Math.min(z/T|0,67108863),g._ishlnsubmul(_,z,G);g.negative!==0;)z--,g.negative=0,g._ishlnsubmul(_,1,G),g.isZero()||(g.negative^=1);f&&(f.words[G]=z)}return f&&f.strip(),g.strip(),l!=="div"&&y!==0&&g.iushrn(y),{div:f||null,mod:g}},i.prototype.divmod=function(s,l,y){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,_,T;return this.negative!==0&&s.negative===0?(T=this.neg().divmod(s,l),l!=="mod"&&(g=T.div.neg()),l!=="div"&&(_=T.mod.neg(),y&&_.negative!==0&&_.iadd(s)),{div:g,mod:_}):this.negative===0&&s.negative!==0?(T=this.divmod(s.neg(),l),l!=="mod"&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&s.negative?(T=this.neg().divmod(s.neg(),l),l!=="div"&&(_=T.mod.neg(),y&&_.negative!==0&&_.isub(s)),{div:T.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?l==="div"?{div:this.divn(s.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,l)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var l=this.divmod(s);if(l.mod.isZero())return l.div;var y=l.div.negative!==0?l.mod.isub(s):l.mod,g=s.ushrn(1),_=s.andln(1),T=y.cmp(g);return T<0||_===1&&T===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var l=(1<<26)%s,y=0,g=this.length-1;g>=0;g--)y=(l*y+(this.words[g]|0))%s;return y},i.prototype.idivn=function(s){n(s<=67108863);for(var l=0,y=this.length-1;y>=0;y--){var g=(this.words[y]|0)+l*67108864;this.words[y]=g/s|0,l=g%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var l=this,y=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var g=new i(1),_=new i(0),T=new i(0),I=new i(1),m=0;l.isEven()&&y.isEven();)l.iushrn(1),y.iushrn(1),++m;for(var f=y.clone(),w=l.clone();!l.isZero();){for(var F=0,G=1;!(l.words[0]&G)&&F<26;++F,G<<=1);if(F>0)for(l.iushrn(F);F-- >0;)(g.isOdd()||_.isOdd())&&(g.iadd(f),_.isub(w)),g.iushrn(1),_.iushrn(1);for(var z=0,ne=1;!(y.words[0]&ne)&&z<26;++z,ne<<=1);if(z>0)for(y.iushrn(z);z-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(f),I.isub(w)),T.iushrn(1),I.iushrn(1);l.cmp(y)>=0?(l.isub(y),g.isub(T),_.isub(I)):(y.isub(l),T.isub(g),I.isub(_))}return{a:T,b:I,gcd:y.iushln(m)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var l=this,y=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var g=new i(1),_=new i(0),T=y.clone();l.cmpn(1)>0&&y.cmpn(1)>0;){for(var I=0,m=1;!(l.words[0]&m)&&I<26;++I,m<<=1);if(I>0)for(l.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var f=0,w=1;!(y.words[0]&w)&&f<26;++f,w<<=1);if(f>0)for(y.iushrn(f);f-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);l.cmp(y)>=0?(l.isub(y),g.isub(_)):(y.isub(l),_.isub(g))}var F;return l.cmpn(1)===0?F=g:F=_,F.cmpn(0)<0&&F.iadd(s),F},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var l=this.clone(),y=s.clone();l.negative=0,y.negative=0;for(var g=0;l.isEven()&&y.isEven();g++)l.iushrn(1),y.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;y.isEven();)y.iushrn(1);var _=l.cmp(y);if(_<0){var T=l;l=y,y=T}else if(_===0||y.cmpn(1)===0)break;l.isub(y)}while(!0);return y.iushln(g)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var l=s%26,y=(s-l)/26,g=1<<l;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var _=g,T=y;_!==0&&T<this.length;T++){var I=this.words[T]|0;I+=_,_=I>>>26,I&=67108863,this.words[T]=I}return _!==0&&(this.words[T]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var l=s<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var y;if(this.length>1)y=1;else{l&&(s=-s),n(s<=67108863,"Number is too big");var g=this.words[0]|0;y=g===s?0:g<s?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var l=this.ucmp(s);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var l=0,y=this.length-1;y>=0;y--){var g=this.words[y]|0,_=s.words[y]|0;if(g!==_){g<_?l=-1:g>_&&(l=1);break}}return l},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new j(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var U={k256:null,p224:null,p192:null,p25519:null};function V(M,s){this.name=M,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var l=s,y;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),y=l.bitLength();while(y>this.n);var g=y<this.n?-1:l.ucmp(this.p);return g===0?(l.words[0]=0,l.length=1):g>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},V.prototype.split=function(s,l){s.iushrn(this.n,0,l)},V.prototype.imulK=function(s){return s.imul(this.k)};function C(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(C,V),C.prototype.split=function(s,l){for(var y=4194303,g=Math.min(s.length,9),_=0;_<g;_++)l.words[_]=s.words[_];if(l.length=g,s.length<=9){s.words[0]=0,s.length=1;return}var T=s.words[9];for(l.words[l.length++]=T&y,_=10;_<s.length;_++){var I=s.words[_]|0;s.words[_-10]=(I&y)<<4|T>>>22,T=I}T>>>=22,s.words[_-10]=T,T===0&&s.length>10?s.length-=10:s.length-=9},C.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var l=0,y=0;y<s.length;y++){var g=s.words[y]|0;l+=g*977,s.words[y]=l&67108863,l=g*64+(l/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function H(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,V);function X(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(X,V);function L(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(L,V),L.prototype.imulK=function(s){for(var l=0,y=0;y<s.length;y++){var g=(s.words[y]|0)*19+l,_=g&67108863;g>>>=26,s.words[y]=_,l=g}return l!==0&&(s.words[s.length++]=l),s},i._prime=function(s){if(U[s])return U[s];var l;if(s==="k256")l=new C;else if(s==="p224")l=new H;else if(s==="p192")l=new X;else if(s==="p25519")l=new L;else throw new Error("Unknown prime "+s);return U[s]=l,l};function j(M){if(typeof M=="string"){var s=i._prime(M);this.m=s.p,this.prime=s}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},j.prototype._verify2=function(s,l){n((s.negative|l.negative)===0,"red works only with positives"),n(s.red&&s.red===l.red,"red works only with red numbers")},j.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},j.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},j.prototype.add=function(s,l){this._verify2(s,l);var y=s.add(l);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},j.prototype.iadd=function(s,l){this._verify2(s,l);var y=s.iadd(l);return y.cmp(this.m)>=0&&y.isub(this.m),y},j.prototype.sub=function(s,l){this._verify2(s,l);var y=s.sub(l);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},j.prototype.isub=function(s,l){this._verify2(s,l);var y=s.isub(l);return y.cmpn(0)<0&&y.iadd(this.m),y},j.prototype.shl=function(s,l){return this._verify1(s),this.imod(s.ushln(l))},j.prototype.imul=function(s,l){return this._verify2(s,l),this.imod(s.imul(l))},j.prototype.mul=function(s,l){return this._verify2(s,l),this.imod(s.mul(l))},j.prototype.isqr=function(s){return this.imul(s,s.clone())},j.prototype.sqr=function(s){return this.mul(s,s)},j.prototype.sqrt=function(s){if(s.isZero())return s.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(s,y)}for(var g=this.m.subn(1),_=0;!g.isZero()&&g.andln(1)===0;)_++,g.iushrn(1);n(!g.isZero());var T=new i(1).toRed(this),I=T.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,m).cmp(I)!==0;)f.redIAdd(I);for(var w=this.pow(f,g),F=this.pow(s,g.addn(1).iushrn(1)),G=this.pow(s,g),z=_;G.cmp(T)!==0;){for(var ne=G,J=0;ne.cmp(T)!==0;J++)ne=ne.redSqr();n(J<z);var Z=this.pow(w,new i(1).iushln(z-J-1));F=F.redMul(Z),w=Z.redSqr(),G=G.redMul(w),z=J}return F},j.prototype.invm=function(s){var l=s._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(s,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return s.clone();var y=4,g=new Array(1<<y);g[0]=new i(1).toRed(this),g[1]=s;for(var _=2;_<g.length;_++)g[_]=this.mul(g[_-1],s);var T=g[0],I=0,m=0,f=l.bitLength()%26;for(f===0&&(f=26),_=l.length-1;_>=0;_--){for(var w=l.words[_],F=f-1;F>=0;F--){var G=w>>F&1;if(T!==g[0]&&(T=this.sqr(T)),G===0&&I===0){m=0;continue}I<<=1,I|=G,m++,!(m!==y&&(_!==0||F!==0))&&(T=this.mul(T,g[I]),m=0,I=0)}f=26}return T},j.prototype.convertTo=function(s){var l=s.umod(this.m);return l===s?l.clone():l},j.prototype.convertFrom=function(s){var l=s.clone();return l.red=null,l},i.mont=function(s){return new ee(s)};function ee(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ee,j),ee.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ee.prototype.convertFrom=function(s){var l=this.imod(s.mul(this.rinv));return l.red=null,l},ee.prototype.imul=function(s,l){if(s.isZero()||l.isZero())return s.words[0]=0,s.length=1,s;var y=s.imul(l),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(g).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},ee.prototype.mul=function(s,l){if(s.isZero()||l.isZero())return new i(0)._forceRed(this);var y=s.mul(l),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=y.isub(g).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},ee.prototype.invm=function(s){var l=this.imod(s._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,q)})(ac);var br=ac.exports,Vr=Ku;function Ku(t,e){if(!t)throw new Error(e||"Assertion failed")}Ku.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var cc={};(function(t){var e=t;function r(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var c=[];if(typeof i!="string"){for(var h=0;h<i.length;h++)c[h]=i[h]|0;return c}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var h=0;h<i.length;h+=2)c.push(parseInt(i[h]+i[h+1],16))}else for(var h=0;h<i.length;h++){var v=i.charCodeAt(h),u=v>>8,p=v&255;u?c.push(u,p):c.push(p)}return c}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var a="",c=0;c<i.length;c++)a+=n(i[c].toString(16));return a}e.toHex=o,e.encode=function(a,c){return c==="hex"?o(a):a}})(cc);(function(t){var e=t,r=br,n=Vr,o=cc;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(u,p,A){var S=new Array(Math.max(u.bitLength(),A)+1),O;for(O=0;O<S.length;O+=1)S[O]=0;var B=1<<p+1,R=u.clone();for(O=0;O<S.length;O++){var N,$=R.andln(B-1);R.isOdd()?($>(B>>1)-1?N=(B>>1)-$:N=$,R.isubn(N)):N=0,S[O]=N,R.iushrn(1)}return S}e.getNAF=i;function a(u,p){var A=[[],[]];u=u.clone(),p=p.clone();for(var S=0,O=0,B;u.cmpn(-S)>0||p.cmpn(-O)>0;){var R=u.andln(3)+S&3,N=p.andln(3)+O&3;R===3&&(R=-1),N===3&&(N=-1);var $;R&1?(B=u.andln(7)+S&7,(B===3||B===5)&&N===2?$=-R:$=R):$=0,A[0].push($);var U;N&1?(B=p.andln(7)+O&7,(B===3||B===5)&&R===2?U=-N:U=N):U=0,A[1].push(U),2*S===$+1&&(S=1-S),2*O===U+1&&(O=1-O),u.iushrn(1),p.iushrn(1)}return A}e.getJSF=a;function c(u,p,A){var S="_"+p;u.prototype[p]=function(){return this[S]!==void 0?this[S]:this[S]=A.call(this)}}e.cachedProperty=c;function h(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=h;function v(u){return new r(u,"hex","le")}e.intFromLE=v})(Et);var sc={exports:{}},aa;sc.exports=function(e){return aa||(aa=new Mr(null)),aa.generate(e)};function Mr(t){this.rand=t}sc.exports.Rand=Mr;Mr.prototype.generate=function(e){return this._rand(e)};Mr.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Mr.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Mr.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Mr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Gc=ln;if(typeof Gc.randomBytes!="function")throw new Error("Not supported");Mr.prototype._rand=function(e){return Gc.randomBytes(e)}}catch{}var ju=sc.exports,uc={},Lr=br,Zn=Et,_i=Zn.getNAF,i1=Zn.getJSF,wi=Zn.assert;function Nr(t,e){this.type=t,this.p=new Lr(e.p,16),this.red=e.prime?Lr.red(e.prime):Lr.mont(this.p),this.zero=new Lr(0).toRed(this.red),this.one=new Lr(1).toRed(this.red),this.two=new Lr(2).toRed(this.red),this.n=e.n&&new Lr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xi=Nr;Nr.prototype.point=function(){throw new Error("Not implemented")};Nr.prototype.validate=function(){throw new Error("Not implemented")};Nr.prototype._fixedNafMul=function(e,r){wi(e.precomputed);var n=e._getDoubles(),o=_i(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],c,h;for(c=0;c<o.length;c+=n.step){h=0;for(var v=c+n.step-1;v>=c;v--)h=(h<<1)+o[v];a.push(h)}for(var u=this.jpoint(null,null,null),p=this.jpoint(null,null,null),A=i;A>0;A--){for(c=0;c<a.length;c++)h=a[c],h===A?p=p.mixedAdd(n.points[c]):h===-A&&(p=p.mixedAdd(n.points[c].neg()));u=u.add(p)}return u.toP()};Nr.prototype._wnafMul=function(e,r){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,a=_i(r,n,this._bitLength),c=this.jpoint(null,null,null),h=a.length-1;h>=0;h--){for(var v=0;h>=0&&a[h]===0;h--)v++;if(h>=0&&v++,c=c.dblp(v),h<0)break;var u=a[h];wi(u!==0),e.type==="affine"?u>0?c=c.mixedAdd(i[u-1>>1]):c=c.mixedAdd(i[-u-1>>1].neg()):u>0?c=c.add(i[u-1>>1]):c=c.add(i[-u-1>>1].neg())}return e.type==="affine"?c.toP():c};Nr.prototype._wnafMulAdd=function(e,r,n,o,i){var a=this._wnafT1,c=this._wnafT2,h=this._wnafT3,v=0,u,p,A;for(u=0;u<o;u++){A=r[u];var S=A._getNAFPoints(e);a[u]=S.wnd,c[u]=S.points}for(u=o-1;u>=1;u-=2){var O=u-1,B=u;if(a[O]!==1||a[B]!==1){h[O]=_i(n[O],a[O],this._bitLength),h[B]=_i(n[B],a[B],this._bitLength),v=Math.max(h[O].length,v),v=Math.max(h[B].length,v);continue}var R=[r[O],null,null,r[B]];r[O].y.cmp(r[B].y)===0?(R[1]=r[O].add(r[B]),R[2]=r[O].toJ().mixedAdd(r[B].neg())):r[O].y.cmp(r[B].y.redNeg())===0?(R[1]=r[O].toJ().mixedAdd(r[B]),R[2]=r[O].add(r[B].neg())):(R[1]=r[O].toJ().mixedAdd(r[B]),R[2]=r[O].toJ().mixedAdd(r[B].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],$=i1(n[O],n[B]);for(v=Math.max($[0].length,v),h[O]=new Array(v),h[B]=new Array(v),p=0;p<v;p++){var U=$[0][p]|0,V=$[1][p]|0;h[O][p]=N[(U+1)*3+(V+1)],h[B][p]=0,c[O]=R}}var C=this.jpoint(null,null,null),H=this._wnafT4;for(u=v;u>=0;u--){for(var X=0;u>=0;){var L=!0;for(p=0;p<o;p++)H[p]=h[p][u]|0,H[p]!==0&&(L=!1);if(!L)break;X++,u--}if(u>=0&&X++,C=C.dblp(X),u<0)break;for(p=0;p<o;p++){var j=H[p];j!==0&&(j>0?A=c[p][j-1>>1]:j<0&&(A=c[p][-j-1>>1].neg()),A.type==="affine"?C=C.mixedAdd(A):C=C.add(A))}}for(u=0;u<o;u++)c[u]=null;return i?C:C.toP()};function Nt(t,e){this.curve=t,this.type=e,this.precomputed=null}Nr.BasePoint=Nt;Nt.prototype.eq=function(){throw new Error("Not implemented")};Nt.prototype.validate=function(){return this.curve.validate(this)};Nr.prototype.decodePoint=function(e,r){e=Zn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?wi(e[e.length-1]%2===0):e[0]===7&&wi(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nt.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nt.prototype.encode=function(e,r){return Zn.encode(this._encode(r),e)};Nt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)o=o.dbl();n.push(o)}return{step:e,points:n}};Nt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(o);return{wnd:e,points:r}};Nt.prototype._getBeta=function(){return null};Nt.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var $a={exports:{}};typeof Object.create=="function"?$a.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$a.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Yi=$a.exports,o1=Et,Ke=br,fc=Yi,Sn=Xi,a1=o1.assert;function Rt(t){Sn.call(this,"short",t),this.a=new Ke(t.a,16).toRed(this.red),this.b=new Ke(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fc(Rt,Sn);var c1=Rt;Rt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ke(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(e.lambda)n=new Ke(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],a1(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new Ke(c.a,16),b:new Ke(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Rt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ke.mont(e),n=new Ke(2).toRed(r).redInvm(),o=n.redNeg(),i=new Ke(3).toRed(r).redNeg().redSqrt().redMul(n),a=o.redAdd(i).fromRed(),c=o.redSub(i).fromRed();return[a,c]};Rt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Ke(1),a=new Ke(0),c=new Ke(0),h=new Ke(1),v,u,p,A,S,O,B,R=0,N,$;n.cmpn(0)!==0;){var U=o.div(n);N=o.sub(U.mul(n)),$=c.sub(U.mul(i));var V=h.sub(U.mul(a));if(!p&&N.cmp(r)<0)v=B.neg(),u=i,p=N.neg(),A=$;else if(p&&++R===2)break;B=N,o=n,n=N,c=i,i=$,h=a,a=V}S=N.neg(),O=$;var C=p.sqr().add(A.sqr()),H=S.sqr().add(O.sqr());return H.cmp(C)>=0&&(S=v,O=u),p.negative&&(p=p.neg(),A=A.neg()),S.negative&&(S=S.neg(),O=O.neg()),[{a:p,b:A},{a:S,b:O}]};Rt.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],o=r[1],i=o.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=i.mul(n.a),h=a.mul(o.a),v=i.mul(n.b),u=a.mul(o.b),p=e.sub(c).sub(h),A=v.add(u).neg();return{k1:p,k2:A}};Rt.prototype.pointFromX=function(e,r){e=new Ke(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(r&&!i||!r&&i)&&(o=o.redNeg()),this.point(e,o)};Rt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,o=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Rt.prototype._endoWnafMulAdd=function(e,r,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),h=e[a],v=h._getBeta();c.k1.negative&&(c.k1.ineg(),h=h.neg(!0)),c.k2.negative&&(c.k2.ineg(),v=v.neg(!0)),o[a*2]=h,o[a*2+1]=v,i[a*2]=c.k1,i[a*2+1]=c.k2}for(var u=this._wnafMulAdd(1,o,i,a*2,n),p=0;p<a*2;p++)o[p]=null,i[p]=null;return u};function st(t,e,r,n){Sn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ke(e,16),this.y=new Ke(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fc(st,Sn.BasePoint);Rt.prototype.point=function(e,r,n){return new st(this,e,r,n)};Rt.prototype.pointFromJSON=function(e,r){return st.fromJSON(this,e,r)};st.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return r}};st.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};st.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=e.point(r[0],r[1],n);if(!r[2])return o;function i(c){return e.point(c[0],c[1],n)}var a=r[2];return o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(i))}},o};st.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};st.prototype.isInfinity=function(){return this.inf};st.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};st.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),a=i.redSqr().redISub(this.x.redAdd(this.x)),c=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)};st.prototype.getX=function(){return this.x.fromRed()};st.prototype.getY=function(){return this.y.fromRed()};st.prototype.mul=function(e){return e=new Ke(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};st.prototype.mulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};st.prototype.jmulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};st.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};st.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};st.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ft(t,e,r,n){Sn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ke(0)):(this.x=new Ke(e,16),this.y=new Ke(r,16),this.z=new Ke(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fc(ft,Sn.BasePoint);Rt.prototype.jpoint=function(e,r,n){return new ft(this,e,r,n)};ft.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(e);return this.curve.point(n,o)};ft.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ft.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),h=o.redSub(i),v=a.redSub(c);if(h.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=h.redSqr(),p=u.redMul(h),A=o.redMul(u),S=v.redSqr().redIAdd(p).redISub(A).redISub(A),O=v.redMul(A.redISub(S)).redISub(a.redMul(p)),B=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(S,O,B)};ft.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(o),h=i.redSub(a);if(c.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=c.redSqr(),u=v.redMul(c),p=n.redMul(v),A=h.redSqr().redIAdd(u).redISub(p).redISub(p),S=h.redMul(p.redISub(A)).redISub(i.redMul(u)),O=this.z.redMul(c);return this.curve.jpoint(A,S,O)};ft.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,a=this.x,c=this.y,h=this.z,v=h.redSqr().redSqr(),u=c.redAdd(c);for(r=0;r<e;r++){var p=a.redSqr(),A=u.redSqr(),S=A.redSqr(),O=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(v)),B=a.redMul(A),R=O.redSqr().redISub(B.redAdd(B)),N=B.redISub(R),$=O.redMul(N);$=$.redIAdd($).redISub(S);var U=u.redMul(h);r+1<e&&(v=v.redMul(S)),a=R,h=U,u=$}return this.curve.jpoint(a,u.redMul(i),h)};ft.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ft.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(o).redISub(a);c=c.redIAdd(c);var h=o.redAdd(o).redIAdd(o),v=h.redSqr().redISub(c).redISub(c),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=v,r=h.redMul(c.redISub(v)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),A=this.y.redSqr(),S=A.redSqr(),O=this.x.redAdd(A).redSqr().redISub(p).redISub(S);O=O.redIAdd(O);var B=p.redAdd(p).redIAdd(p),R=B.redSqr(),N=S.redIAdd(S);N=N.redIAdd(N),N=N.redIAdd(N),e=R.redISub(O).redISub(O),r=B.redMul(O.redISub(e)).redISub(N),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ft.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(o).redISub(a);c=c.redIAdd(c);var h=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),v=h.redSqr().redISub(c).redISub(c);e=v;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=h.redMul(c.redISub(v)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),A=this.y.redSqr(),S=this.x.redMul(A),O=this.x.redSub(p).redMul(this.x.redAdd(p));O=O.redAdd(O).redIAdd(O);var B=S.redIAdd(S);B=B.redIAdd(B);var R=B.redAdd(B);e=O.redSqr().redISub(R),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(p);var N=A.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),r=O.redMul(B.redISub(e)).redISub(N)}return this.curve.jpoint(e,r,n)};ft.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),h=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),v=r.redAdd(r);v=v.redIAdd(v);var u=v.redMul(c),p=h.redSqr().redISub(u.redAdd(u)),A=u.redISub(p),S=c.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var O=h.redMul(A).redISub(S),B=n.redAdd(n).redMul(o);return this.curve.jpoint(p,O,B)};ft.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(o);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var h=c.redSqr(),v=o.redIAdd(o);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var u=i.redIAdd(c).redSqr().redISub(a).redISub(h).redISub(v),p=r.redMul(u);p=p.redIAdd(p),p=p.redIAdd(p);var A=this.x.redMul(h).redISub(p);A=A.redIAdd(A),A=A.redIAdd(A);var S=this.y.redMul(u.redMul(v.redISub(u)).redISub(c.redMul(h)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(h);return this.curve.jpoint(A,S,O)};ft.prototype.mul=function(e,r){return e=new Ke(e,r),this.curve._wnafMul(this,e)};ft.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};ft.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};ft.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ft.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var an=br,Uu=Yi,Qi=Xi,s1=Et;function En(t){Qi.call(this,"mont",t),this.a=new an(t.a,16).toRed(this.red),this.b=new an(t.b,16).toRed(this.red),this.i4=new an(4).toRed(this.red).redInvm(),this.two=new an(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Uu(En,Qi);var u1=En;En.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),o=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=o.redSqrt();return i.redSqr().cmp(o)===0};function ct(t,e,r){Qi.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new an(e,16),this.z=new an(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Uu(ct,Qi.BasePoint);En.prototype.decodePoint=function(e,r){return this.point(s1.toArray(e,r),1)};En.prototype.point=function(e,r){return new ct(this,e,r)};En.prototype.pointFromJSON=function(e){return ct.fromJSON(this,e)};ct.prototype.precompute=function(){};ct.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ct.fromJSON=function(e,r){return new ct(e,r[0],r[1]||e.one)};ct.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ct.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ct.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=r.redSub(o),a=r.redMul(o),c=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,c)};ct.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ct.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),c=a.redMul(n),h=i.redMul(o),v=r.z.redMul(c.redAdd(h).redSqr()),u=r.x.redMul(c.redISub(h).redSqr());return this.curve.point(v,u)};ct.prototype.mul=function(e){for(var r=e.clone(),n=this,o=this.curve.point(null,null),i=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var c=a.length-1;c>=0;c--)a[c]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};ct.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ct.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ct.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ct.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ct.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var f1=Et,fr=br,$u=Yi,eo=Xi,d1=f1.assert;function ir(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,eo.call(this,"edwards",t),this.a=new fr(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fr(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fr(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d1(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}$u(ir,eo);var l1=ir;ir.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ir.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ir.prototype.jpoint=function(e,r,n,o){return this.point(e,r,n,o)};ir.prototype.pointFromX=function(e,r){e=new fr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=o.redMul(i.redInvm()),c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var h=c.fromRed().isOdd();return(r&&!h||!r&&h)&&(c=c.redNeg()),this.point(e,c)};ir.prototype.pointFromY=function(e,r){e=new fr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=o.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};ir.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),o=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return o.cmp(i)===0};function Ne(t,e,r,n,o){eo.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fr(e,16),this.y=new fr(r,16),this.z=n?new fr(n,16):this.curve.one,this.t=o&&new fr(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}$u(Ne,eo.BasePoint);ir.prototype.pointFromJSON=function(e){return Ne.fromJSON(this,e)};ir.prototype.point=function(e,r,n,o){return new Ne(this,e,r,n,o)};Ne.fromJSON=function(e,r){return new Ne(e,r[0],r[1],r[2])};Ne.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ne.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ne.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=o.redAdd(r),c=a.redSub(n),h=o.redSub(r),v=i.redMul(c),u=a.redMul(h),p=i.redMul(h),A=c.redMul(a);return this.curve.point(v,u,A,p)};Ne.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),o,i,a,c,h,v;if(this.curve.twisted){c=this.curve._mulA(r);var u=c.redAdd(n);this.zOne?(o=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(c.redSub(n)),a=u.redSqr().redSub(u).redSub(u)):(h=this.z.redSqr(),v=u.redSub(h).redISub(h),o=e.redSub(r).redISub(n).redMul(v),i=u.redMul(c.redSub(n)),a=u.redMul(v))}else c=r.redAdd(n),h=this.curve._mulC(this.z).redSqr(),v=c.redSub(h).redSub(h),o=this.curve._mulC(e.redISub(c)).redMul(v),i=this.curve._mulC(c).redMul(r.redISub(n)),a=c.redMul(v);return this.curve.point(o,i,a)};Ne.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ne.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),c=i.redSub(o),h=i.redAdd(o),v=n.redAdd(r),u=a.redMul(c),p=h.redMul(v),A=a.redMul(v),S=c.redMul(h);return this.curve.point(u,p,S,A)};Ne.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(i),c=n.redSub(a),h=n.redAdd(a),v=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),u=r.redMul(c).redMul(v),p,A;return this.curve.twisted?(p=r.redMul(h).redMul(i.redSub(this.curve._mulA(o))),A=c.redMul(h)):(p=r.redMul(h).redMul(i.redSub(o)),A=this.curve._mulC(c).redMul(h)),this.curve.point(u,p,A)};Ne.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ne.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ne.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ne.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ne.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ne.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ne.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ne.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ne.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ne.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};Ne.prototype.toP=Ne.prototype.normalize;Ne.prototype.mixedAdd=Ne.prototype.add;(function(t){var e=t;e.base=Xi,e.short=c1,e.mont=u1,e.edwards=l1})(uc);var to={},ro={},Se={},h1=Vr,b1=Yi;Se.inherits=b1;function p1(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function y1(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),o=0;o<t.length;o+=2)r.push(parseInt(t[o]+t[o+1],16))}else for(var n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):p1(t,o)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++o)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(o=0;o<t.length;o++)r[o]=t[o]|0;return r}Se.toArray=y1;function v1(t){for(var e="",r=0;r<t.length;r++)e+=Fu(t[r].toString(16));return e}Se.toHex=v1;function Du(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Se.htonl=Du;function g1(t,e){for(var r="",n=0;n<t.length;n++){var o=t[n];e==="little"&&(o=Du(o)),r+=qu(o.toString(16))}return r}Se.toHex32=g1;function Fu(t){return t.length===1?"0"+t:t}Se.zero2=Fu;function qu(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Se.zero8=qu;function m1(t,e,r,n){var o=r-e;h1(o%4===0);for(var i=new Array(o/4),a=0,c=e;a<i.length;a++,c+=4){var h;n==="big"?h=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:h=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],i[a]=h>>>0}return i}Se.join32=m1;function _1(t,e){for(var r=new Array(t.length*4),n=0,o=0;n<t.length;n++,o+=4){var i=t[n];e==="big"?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=i&255):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=i&255)}return r}Se.split32=_1;function w1(t,e){return t>>>e|t<<32-e}Se.rotr32=w1;function S1(t,e){return t<<e|t>>>32-e}Se.rotl32=S1;function E1(t,e){return t+e>>>0}Se.sum32=E1;function A1(t,e,r){return t+e+r>>>0}Se.sum32_3=A1;function x1(t,e,r,n){return t+e+r+n>>>0}Se.sum32_4=x1;function I1(t,e,r,n,o){return t+e+r+n+o>>>0}Se.sum32_5=I1;function M1(t,e,r,n){var o=t[e],i=t[e+1],a=n+i>>>0,c=(a<n?1:0)+r+o;t[e]=c>>>0,t[e+1]=a}Se.sum64=M1;function O1(t,e,r,n){var o=e+n>>>0,i=(o<e?1:0)+t+r;return i>>>0}Se.sum64_hi=O1;function T1(t,e,r,n){var o=e+n;return o>>>0}Se.sum64_lo=T1;function B1(t,e,r,n,o,i,a,c){var h=0,v=e;v=v+n>>>0,h+=v<e?1:0,v=v+i>>>0,h+=v<i?1:0,v=v+c>>>0,h+=v<c?1:0;var u=t+r+o+a+h;return u>>>0}Se.sum64_4_hi=B1;function P1(t,e,r,n,o,i,a,c){var h=e+n+i+c;return h>>>0}Se.sum64_4_lo=P1;function C1(t,e,r,n,o,i,a,c,h,v){var u=0,p=e;p=p+n>>>0,u+=p<e?1:0,p=p+i>>>0,u+=p<i?1:0,p=p+c>>>0,u+=p<c?1:0,p=p+v>>>0,u+=p<v?1:0;var A=t+r+o+a+h+u;return A>>>0}Se.sum64_5_hi=C1;function N1(t,e,r,n,o,i,a,c,h,v){var u=e+n+i+c+v;return u>>>0}Se.sum64_5_lo=N1;function R1(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Se.rotr64_hi=R1;function L1(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Se.rotr64_lo=L1;function k1(t,e,r){return t>>>r}Se.shr64_hi=k1;function K1(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Se.shr64_lo=K1;var An={},Vc=Se,j1=Vr;function no(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}An.BlockHash=no;no.prototype.update=function(e,r){if(e=Vc.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Vc.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};no.prototype.digest=function(e){return this.update(this._pad()),j1(this.pending===null),this._digest(e)};no.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,a=8;a<this.padLength;a++)o[i++]=0;return o};var xn={},or={},U1=Se,Xt=U1.rotr32;function $1(t,e,r,n){if(t===0)return zu(e,r,n);if(t===1||t===3)return Gu(e,r,n);if(t===2)return Hu(e,r,n)}or.ft_1=$1;function zu(t,e,r){return t&e^~t&r}or.ch32=zu;function Hu(t,e,r){return t&e^t&r^e&r}or.maj32=Hu;function Gu(t,e,r){return t^e^r}or.p32=Gu;function D1(t){return Xt(t,2)^Xt(t,13)^Xt(t,22)}or.s0_256=D1;function F1(t){return Xt(t,6)^Xt(t,11)^Xt(t,25)}or.s1_256=F1;function q1(t){return Xt(t,7)^Xt(t,18)^t>>>3}or.g0_256=q1;function z1(t){return Xt(t,17)^Xt(t,19)^t>>>10}or.g1_256=z1;var hn=Se,H1=An,G1=or,ca=hn.rotl32,Ln=hn.sum32,V1=hn.sum32_5,W1=G1.ft_1,Vu=H1.BlockHash,J1=[1518500249,1859775393,2400959708,3395469782];function tr(){if(!(this instanceof tr))return new tr;Vu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hn.inherits(tr,Vu);var Z1=tr;tr.blockSize=512;tr.outSize=160;tr.hmacStrength=80;tr.padLength=64;tr.prototype._update=function(e,r){for(var n=this.W,o=0;o<16;o++)n[o]=e[r+o];for(;o<n.length;o++)n[o]=ca(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],a=this.h[1],c=this.h[2],h=this.h[3],v=this.h[4];for(o=0;o<n.length;o++){var u=~~(o/20),p=V1(ca(i,5),W1(u,a,c,h),v,n[o],J1[u]);v=h,h=c,c=ca(a,30),a=i,i=p}this.h[0]=Ln(this.h[0],i),this.h[1]=Ln(this.h[1],a),this.h[2]=Ln(this.h[2],c),this.h[3]=Ln(this.h[3],h),this.h[4]=Ln(this.h[4],v)};tr.prototype._digest=function(e){return e==="hex"?hn.toHex32(this.h,"big"):hn.split32(this.h,"big")};var bn=Se,X1=An,In=or,Y1=Vr,Kt=bn.sum32,Q1=bn.sum32_4,eb=bn.sum32_5,tb=In.ch32,rb=In.maj32,nb=In.s0_256,ib=In.s1_256,ob=In.g0_256,ab=In.g1_256,Wu=X1.BlockHash,cb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rr(){if(!(this instanceof rr))return new rr;Wu.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cb,this.W=new Array(64)}bn.inherits(rr,Wu);var Ju=rr;rr.blockSize=512;rr.outSize=256;rr.hmacStrength=192;rr.padLength=64;rr.prototype._update=function(e,r){for(var n=this.W,o=0;o<16;o++)n[o]=e[r+o];for(;o<n.length;o++)n[o]=Q1(ab(n[o-2]),n[o-7],ob(n[o-15]),n[o-16]);var i=this.h[0],a=this.h[1],c=this.h[2],h=this.h[3],v=this.h[4],u=this.h[5],p=this.h[6],A=this.h[7];for(Y1(this.k.length===n.length),o=0;o<n.length;o++){var S=eb(A,ib(v),tb(v,u,p),this.k[o],n[o]),O=Kt(nb(i),rb(i,a,c));A=p,p=u,u=v,v=Kt(h,S),h=c,c=a,a=i,i=Kt(S,O)}this.h[0]=Kt(this.h[0],i),this.h[1]=Kt(this.h[1],a),this.h[2]=Kt(this.h[2],c),this.h[3]=Kt(this.h[3],h),this.h[4]=Kt(this.h[4],v),this.h[5]=Kt(this.h[5],u),this.h[6]=Kt(this.h[6],p),this.h[7]=Kt(this.h[7],A)};rr.prototype._digest=function(e){return e==="hex"?bn.toHex32(this.h,"big"):bn.split32(this.h,"big")};var Da=Se,Zu=Ju;function dr(){if(!(this instanceof dr))return new dr;Zu.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Da.inherits(dr,Zu);var sb=dr;dr.blockSize=512;dr.outSize=224;dr.hmacStrength=192;dr.padLength=64;dr.prototype._digest=function(e){return e==="hex"?Da.toHex32(this.h.slice(0,7),"big"):Da.split32(this.h.slice(0,7),"big")};var gt=Se,ub=An,fb=Vr,Yt=gt.rotr64_hi,Qt=gt.rotr64_lo,Xu=gt.shr64_hi,Yu=gt.shr64_lo,_r=gt.sum64,sa=gt.sum64_hi,ua=gt.sum64_lo,db=gt.sum64_4_hi,lb=gt.sum64_4_lo,hb=gt.sum64_5_hi,bb=gt.sum64_5_lo,Qu=ub.BlockHash,pb=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ft(){if(!(this instanceof Ft))return new Ft;Qu.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pb,this.W=new Array(160)}gt.inherits(Ft,Qu);var ef=Ft;Ft.blockSize=1024;Ft.outSize=512;Ft.hmacStrength=192;Ft.padLength=128;Ft.prototype._prepareBlock=function(e,r){for(var n=this.W,o=0;o<32;o++)n[o]=e[r+o];for(;o<n.length;o+=2){var i=Ib(n[o-4],n[o-3]),a=Mb(n[o-4],n[o-3]),c=n[o-14],h=n[o-13],v=Ab(n[o-30],n[o-29]),u=xb(n[o-30],n[o-29]),p=n[o-32],A=n[o-31];n[o]=db(i,a,c,h,v,u,p,A),n[o+1]=lb(i,a,c,h,v,u,p,A)}};Ft.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,o=this.h[0],i=this.h[1],a=this.h[2],c=this.h[3],h=this.h[4],v=this.h[5],u=this.h[6],p=this.h[7],A=this.h[8],S=this.h[9],O=this.h[10],B=this.h[11],R=this.h[12],N=this.h[13],$=this.h[14],U=this.h[15];fb(this.k.length===n.length);for(var V=0;V<n.length;V+=2){var C=$,H=U,X=Sb(A,S),L=Eb(A,S),j=yb(A,S,O,B,R),ee=vb(A,S,O,B,R,N),M=this.k[V],s=this.k[V+1],l=n[V],y=n[V+1],g=hb(C,H,X,L,j,ee,M,s,l,y),_=bb(C,H,X,L,j,ee,M,s,l,y);C=_b(o,i),H=wb(o,i),X=gb(o,i,a,c,h),L=mb(o,i,a,c,h,v);var T=sa(C,H,X,L),I=ua(C,H,X,L);$=R,U=N,R=O,N=B,O=A,B=S,A=sa(u,p,g,_),S=ua(p,p,g,_),u=h,p=v,h=a,v=c,a=o,c=i,o=sa(g,_,T,I),i=ua(g,_,T,I)}_r(this.h,0,o,i),_r(this.h,2,a,c),_r(this.h,4,h,v),_r(this.h,6,u,p),_r(this.h,8,A,S),_r(this.h,10,O,B),_r(this.h,12,R,N),_r(this.h,14,$,U)};Ft.prototype._digest=function(e){return e==="hex"?gt.toHex32(this.h,"big"):gt.split32(this.h,"big")};function yb(t,e,r,n,o){var i=t&r^~t&o;return i<0&&(i+=4294967296),i}function vb(t,e,r,n,o,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function gb(t,e,r,n,o){var i=t&r^t&o^r&o;return i<0&&(i+=4294967296),i}function mb(t,e,r,n,o,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function _b(t,e){var r=Yt(t,e,28),n=Yt(e,t,2),o=Yt(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function wb(t,e){var r=Qt(t,e,28),n=Qt(e,t,2),o=Qt(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function Sb(t,e){var r=Yt(t,e,14),n=Yt(t,e,18),o=Yt(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function Eb(t,e){var r=Qt(t,e,14),n=Qt(t,e,18),o=Qt(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function Ab(t,e){var r=Yt(t,e,1),n=Yt(t,e,8),o=Xu(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function xb(t,e){var r=Qt(t,e,1),n=Qt(t,e,8),o=Yu(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function Ib(t,e){var r=Yt(t,e,19),n=Yt(e,t,29),o=Xu(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}function Mb(t,e){var r=Qt(t,e,19),n=Qt(e,t,29),o=Yu(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}var Fa=Se,tf=ef;function lr(){if(!(this instanceof lr))return new lr;tf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Fa.inherits(lr,tf);var Ob=lr;lr.blockSize=1024;lr.outSize=384;lr.hmacStrength=192;lr.padLength=128;lr.prototype._digest=function(e){return e==="hex"?Fa.toHex32(this.h.slice(0,12),"big"):Fa.split32(this.h.slice(0,12),"big")};xn.sha1=Z1;xn.sha224=sb;xn.sha256=Ju;xn.sha384=Ob;xn.sha512=ef;var rf={},Dr=Se,Tb=An,ai=Dr.rotl32,Wc=Dr.sum32,kn=Dr.sum32_3,Jc=Dr.sum32_4,nf=Tb.BlockHash;function nr(){if(!(this instanceof nr))return new nr;nf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Dr.inherits(nr,nf);rf.ripemd160=nr;nr.blockSize=512;nr.outSize=160;nr.hmacStrength=192;nr.padLength=64;nr.prototype._update=function(e,r){for(var n=this.h[0],o=this.h[1],i=this.h[2],a=this.h[3],c=this.h[4],h=n,v=o,u=i,p=a,A=c,S=0;S<80;S++){var O=Wc(ai(Jc(n,Zc(S,o,i,a),e[Cb[S]+r],Bb(S)),Rb[S]),c);n=c,c=a,a=ai(i,10),i=o,o=O,O=Wc(ai(Jc(h,Zc(79-S,v,u,p),e[Nb[S]+r],Pb(S)),Lb[S]),A),h=A,A=p,p=ai(u,10),u=v,v=O}O=kn(this.h[1],i,p),this.h[1]=kn(this.h[2],a,A),this.h[2]=kn(this.h[3],c,h),this.h[3]=kn(this.h[4],n,v),this.h[4]=kn(this.h[0],o,u),this.h[0]=O};nr.prototype._digest=function(e){return e==="hex"?Dr.toHex32(this.h,"little"):Dr.split32(this.h,"little")};function Zc(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Bb(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Pb(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Cb=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Nb=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Rb=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Lb=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],kb=Se,Kb=Vr;function pn(t,e,r){if(!(this instanceof pn))return new pn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(kb.toArray(e,r))}var jb=pn;pn.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Kb(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};pn.prototype.update=function(e,r){return this.inner.update(e,r),this};pn.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Se,e.common=An,e.sha=xn,e.ripemd=rf,e.hmac=jb,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ro);var fa,Xc;function Ub(){return Xc||(Xc=1,fa={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),fa}(function(t){var e=t,r=ro,n=uc,o=Et,i=o.assert;function a(v){v.type==="short"?this.curve=new n.short(v):v.type==="edwards"?this.curve=new n.edwards(v):this.curve=new n.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function c(v,u){Object.defineProperty(e,v,{configurable:!0,enumerable:!0,get:function(){var p=new a(u);return Object.defineProperty(e,v,{configurable:!0,enumerable:!0,value:p}),p}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=Ub()}catch{h=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})})(to);var $b=ro,Ur=cc,of=Vr;function Tr(t){if(!(this instanceof Tr))return new Tr(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ur.toArray(t.entropy,t.entropyEnc||"hex"),r=Ur.toArray(t.nonce,t.nonceEnc||"hex"),n=Ur.toArray(t.pers,t.persEnc||"hex");of(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Db=Tr;Tr.prototype._init=function(e,r,n){var o=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Tr.prototype._hmac=function(){return new $b.hmac(this.hash,this.K)};Tr.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Tr.prototype.reseed=function(e,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),e=Ur.toArray(e,r),n=Ur.toArray(n,o),of(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Tr.prototype.generate=function(e,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=Ur.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,Ur.encode(a,r)};var Fb=br,qb=Et,qa=qb.assert;function ht(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var zb=ht;ht.fromPublic=function(e,r,n){return r instanceof ht?r:new ht(e,{pub:r,pubEnc:n})};ht.fromPrivate=function(e,r,n){return r instanceof ht?r:new ht(e,{priv:r,privEnc:n})};ht.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ht.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ht.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ht.prototype._importPrivate=function(e,r){this.priv=new Fb(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ht.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qa(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qa(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ht.prototype.derive=function(e){return e.validate()||qa(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ht.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ht.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ht.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Si=br,dc=Et,Hb=dc.assert;function io(t,e){if(t instanceof io)return t;this._importDER(t,e)||(Hb(t.r&&t.s,"Signature without r or s"),this.r=new Si(t.r,16),this.s=new Si(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Gb=io;function Vb(){this.place=0}function da(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var o=0,i=0,a=e.place;i<n;i++,a++)o<<=8,o|=t[a],o>>>=0;return o<=127?!1:(e.place=a,o)}function Yc(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}io.prototype._importDER=function(e,r){e=dc.toArray(e,r);var n=new Vb;if(e[n.place++]!==48)return!1;var o=da(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=da(e,n);if(i===!1||e[n.place]&128)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var c=da(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var h=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new Si(a),this.s=new Si(h),this.recoveryParam=null,!0};function la(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}io.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Yc(r),n=Yc(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];la(o,r.length),o=o.concat(r),o.push(2),la(o,n.length);var i=o.concat(n),a=[48];return la(a,i.length),a=a.concat(i),dc.encode(a,e)};var $r=br,af=Db,Wb=Et,ha=to,Jb=ju,cf=Wb.assert,lc=zb,oo=Gb;function Ct(t){if(!(this instanceof Ct))return new Ct(t);typeof t=="string"&&(cf(Object.prototype.hasOwnProperty.call(ha,t),"Unknown curve "+t),t=ha[t]),t instanceof ha.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Zb=Ct;Ct.prototype.keyPair=function(e){return new lc(this,e)};Ct.prototype.keyFromPrivate=function(e,r){return lc.fromPrivate(this,e,r)};Ct.prototype.keyFromPublic=function(e,r){return lc.fromPublic(this,e,r)};Ct.prototype.genKeyPair=function(e){e||(e={});for(var r=new af({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Jb(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new $r(2));;){var i=new $r(r.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Ct.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ct.prototype.sign=function(e,r,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new $r(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),c=e.toArray("be",i),h=new af({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),v=this.n.sub(new $r(1)),u=0;;u++){var p=o.k?o.k(u):new $r(h.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(v)>=0)){var A=this.g.mul(p);if(!A.isInfinity()){var S=A.getX(),O=S.umod(this.n);if(O.cmpn(0)!==0){var B=p.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var R=(A.getY().isOdd()?1:0)|(S.cmp(O)!==0?2:0);return o.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),R^=1),new oo({r:O,s:B,recoveryParam:R})}}}}}};Ct.prototype.verify=function(e,r,n,o){e=this._truncateToN(new $r(e,16)),n=this.keyFromPublic(n,o),r=new oo(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),h=c.mul(e).umod(this.n),v=c.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(h,n.getPublic(),v),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(h,n.getPublic(),v),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Ct.prototype.recoverPubKey=function(t,e,r,n){cf((3&r)===r,"The recovery param is more than two bits"),e=new oo(e,n);var o=this.n,i=new $r(t),a=e.r,c=e.s,h=r&1,v=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&v)throw new Error("Unable to find sencond key candinate");v?a=this.curve.pointFromX(a.add(this.curve.n),h):a=this.curve.pointFromX(a,h);var u=e.r.invm(o),p=o.sub(i).mul(u).umod(o),A=c.mul(u).umod(o);return this.g.mulAdd(p,a,A)};Ct.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new oo(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(t,e,o)}catch{continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var Xn=Et,sf=Xn.assert,Qc=Xn.parseBytes,Mn=Xn.cachedProperty;function at(t,e){this.eddsa=t,this._secret=Qc(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Qc(e.pub)}at.fromPublic=function(e,r){return r instanceof at?r:new at(e,{pub:r})};at.fromSecret=function(e,r){return r instanceof at?r:new at(e,{secret:r})};at.prototype.secret=function(){return this._secret};Mn(at,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Mn(at,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Mn(at,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,o=r.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});Mn(at,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Mn(at,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Mn(at,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});at.prototype.sign=function(e){return sf(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};at.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};at.prototype.getSecret=function(e){return sf(this._secret,"KeyPair is public only"),Xn.encode(this.secret(),e)};at.prototype.getPublic=function(e){return Xn.encode(this.pubBytes(),e)};var Xb=at,Yb=br,ao=Et,es=ao.assert,co=ao.cachedProperty,Qb=ao.parseBytes;function Wr(t,e){this.eddsa=t,typeof e!="object"&&(e=Qb(e)),Array.isArray(e)&&(es(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),es(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Yb&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}co(Wr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});co(Wr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});co(Wr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});co(Wr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Wr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Wr.prototype.toHex=function(){return ao.encode(this.toBytes(),"hex").toUpperCase()};var ep=Wr,tp=ro,rp=to,yn=Et,np=yn.assert,uf=yn.parseBytes,ff=Xb,ts=ep;function mt(t){if(np(t==="ed25519","only tested with ed25519 so far"),!(this instanceof mt))return new mt(t);t=rp[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=tp.sha512}var ip=mt;mt.prototype.sign=function(e,r){e=uf(e);var n=this.keyFromSecret(r),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),a=this.encodePoint(i),c=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),h=o.add(c).umod(this.curve.n);return this.makeSignature({R:i,S:h,Rencoded:a})};mt.prototype.verify=function(e,r,n){if(e=uf(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var o=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),o.pubBytes(),e),a=this.g.mul(r.S()),c=r.R().add(o.pub().mul(i));return c.eq(a)};mt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return yn.intFromLE(e.digest()).umod(this.curve.n)};mt.prototype.keyFromPublic=function(e){return ff.fromPublic(this,e)};mt.prototype.keyFromSecret=function(e){return ff.fromSecret(this,e)};mt.prototype.makeSignature=function(e){return e instanceof ts?e:new ts(this,e)};mt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};mt.prototype.decodePoint=function(e){e=yn.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),o=(e[r]&128)!==0,i=yn.intFromLE(n);return this.curve.pointFromY(i,o)};mt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};mt.prototype.decodeInt=function(e){return yn.intFromLE(e)};mt.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=t1.version,e.utils=Et,e.rand=ju,e.curve=uc,e.curves=to,e.ec=Zb,e.eddsa=ip})(ku);const op=ku.ec,Wt=new op("secp256k1"),Ee=Wt.curve,Be=Ee.n.constructor;function ap(t,e){let r=new Be(e);if(r.cmp(Ee.p)>=0)return null;r=r.toRed(Ee.red);let n=r.redSqr().redIMul(r).redIAdd(Ee.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),Wt.keyPair({pub:{x:r,y:n}})}function cp(t,e,r){let n=new Be(e),o=new Be(r);if(n.cmp(Ee.p)>=0||o.cmp(Ee.p)>=0||(n=n.toRed(Ee.red),o=o.toRed(Ee.red),(t===6||t===7)&&o.isOdd()!==(t===7)))return null;const i=n.redSqr().redIMul(n);return o.redSqr().redISub(i.redIAdd(Ee.b)).isZero()?Wt.keyPair({pub:{x:n,y:o}}):null}function wr(t){const e=t[0];switch(e){case 2:case 3:return t.length!==33?null:ap(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:cp(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function kr(t,e){const r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}var sp={contextRandomize(){return 0},privateKeyVerify(t){const e=new Be(t);return e.cmp(Ee.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){const e=new Be(t),r=Ee.n.sub(e).umod(Ee.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){const r=new Be(e);if(r.cmp(Ee.n)>=0||(r.iadd(new Be(t)),r.cmp(Ee.n)>=0&&r.isub(Ee.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new Be(e);if(r.cmp(Ee.n)>=0||r.isZero())return 1;r.imul(new Be(t)),r.cmp(Ee.n)>=0&&(r=r.umod(Ee.n));const n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return wr(t)===null?1:0},publicKeyCreate(t,e){const r=new Be(e);if(r.cmp(Ee.n)>=0||r.isZero())return 1;const n=Wt.keyFromPrivate(e).getPublic();return kr(t,n),0},publicKeyConvert(t,e){const r=wr(e);if(r===null)return 1;const n=r.getPublic();return kr(t,n),0},publicKeyNegate(t,e){const r=wr(e);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),kr(t,n),0},publicKeyCombine(t,e){const r=new Array(e.length);for(let o=0;o<e.length;++o)if(r[o]=wr(e[o]),r[o]===null)return 1;let n=r[0].getPublic();for(let o=1;o<r.length;++o)n=n.add(r[o].pub);return n.isInfinity()?2:(kr(t,n),0)},publicKeyTweakAdd(t,e,r){const n=wr(e);if(n===null)return 1;if(r=new Be(r),r.cmp(Ee.n)>=0)return 2;const o=n.getPublic().add(Ee.g.mul(r));return o.isInfinity()?2:(kr(t,o),0)},publicKeyTweakMul(t,e,r){const n=wr(e);if(n===null)return 1;if(r=new Be(r),r.cmp(Ee.n)>=0||r.isZero())return 2;const o=n.getPublic().mul(r);return kr(t,o),0},signatureNormalize(t){const e=new Be(t.subarray(0,32)),r=new Be(t.subarray(32,64));return e.cmp(Ee.n)>=0||r.cmp(Ee.n)>=0?1:(r.cmp(Wt.nh)===1&&t.set(Ee.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new Be(r).cmp(Ee.n)>=0||new Be(n).cmp(Ee.n)>=0)return 1;const{output:o}=t;let i=o.subarray(4,37);i[0]=0,i.set(r,1);let a=33,c=0;for(;a>1&&i[c]===0&&!(i[c+1]&128);--a,++c);if(i=i.subarray(c),i[0]&128||a>1&&i[0]===0&&!(i[1]&128))return 1;let h=o.subarray(39,72);h[0]=0,h.set(n,1);let v=33,u=0;for(;v>1&&h[u]===0&&!(h[u+1]&128);--v,++u);return h=h.subarray(u),h[0]&128||v>1&&h[0]===0&&!(h[1]&128)?1:(t.outputlen=6+a+v,o[0]=48,o[1]=t.outputlen-2,o[2]=2,o[3]=i.length,o.set(i,4),o[4+a]=2,o[5+a]=h.length,o.set(h,6+a),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;const r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;const n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let o=e.subarray(4,4+r);if(o.length===33&&o[0]===0&&(o=o.subarray(1)),o.length>32)return 1;let i=e.subarray(6+r);if(i.length===33&&i[0]===0&&(i=i.slice(1)),i.length>32)throw new Error("S length is too long");let a=new Be(o);a.cmp(Ee.n)>=0&&(a=new Be(0));let c=new Be(e.subarray(6+r));return c.cmp(Ee.n)>=0&&(c=new Be(0)),t.set(a.toArrayLike(Uint8Array,"be",32),0),t.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,o){if(o){const c=o;o=h=>{const v=c(e,r,null,n,h);if(!(v instanceof Uint8Array&&v.length===32))throw new Error("This is the way");return new Be(v)}}const i=new Be(r);if(i.cmp(Ee.n)>=0||i.isZero())return 1;let a;try{a=Wt.sign(e,r,{canonical:!0,k:o,pers:n})}catch{return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},o=new Be(n.r),i=new Be(n.s);if(o.cmp(Ee.n)>=0||i.cmp(Ee.n)>=0)return 1;if(i.cmp(Wt.nh)===1||o.isZero()||i.isZero())return 3;const a=wr(r);if(a===null)return 2;const c=a.getPublic();return Wt.verify(e,n,c)?0:3},ecdsaRecover(t,e,r,n){const o={r:e.slice(0,32),s:e.slice(32,64)},i=new Be(o.r),a=new Be(o.s);if(i.cmp(Ee.n)>=0||a.cmp(Ee.n)>=0)return 1;if(i.isZero()||a.isZero())return 2;let c;try{c=Wt.recoverPubKey(n,o,r)}catch{return 2}return kr(t,c),0},ecdh(t,e,r,n,o,i,a){const c=wr(e);if(c===null)return 1;const h=new Be(r);if(h.cmp(Ee.n)>=0||h.isZero())return 2;const v=c.getPublic().mul(h);if(o===void 0){const u=v.encode(null,!0),p=Wt.hash().update(u).digest();for(let A=0;A<32;++A)t[A]=p[A]}else{i||(i=new Uint8Array(32));const u=v.getX().toArray("be",32);for(let O=0;O<32;++O)i[O]=u[O];a||(a=new Uint8Array(32));const p=v.getY().toArray("be",32);for(let O=0;O<32;++O)a[O]=p[O];const A=o(i,a,n);if(!(A instanceof Uint8Array&&A.length===t.length))return 2;t.set(A)}return 0}},df=$h(sp),up=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PublicKey=void 0;const rs=je,fp=Ya,dp=up(df),dt=Gn,hc=it;function lp(t){switch(t){case dt.KeyType.ED25519:return"ed25519";case dt.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${t}`)}}function hp(t){switch(t.toLowerCase()){case"ed25519":return dt.KeyType.ED25519;case"secp256k1":return dt.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${t}`)}}class qg extends hc.Assignable{constructor(){super(...arguments),this.keyType=dt.KeyType.ED25519}}class zg extends hc.Assignable{constructor(){super(...arguments),this.keyType=dt.KeyType.SECP256K1}}class Ei extends hc.Assignable{constructor({keyType:e,data:r}){super({}),e===dt.KeyType.ED25519?this.ed25519Key={keyType:e,data:r}:e===dt.KeyType.SECP256K1&&(this.secp256k1Key={keyType:e,data:r})}static from(e){return typeof e=="string"?Ei.fromString(e):e}static fromString(e){const r=e.split(":");let n,o;if(r.length===1)n=r[0];else if(r.length===2)n=r[1],o=hp(r[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const i=(0,rs.baseDecode)(n);o||(o=i.length===dt.KeySize.SECP256k1_PUBLIC_KEY?dt.KeyType.SECP256K1:dt.KeyType.ED25519);const a=o===dt.KeyType.ED25519?dt.KeySize.ED25519_PUBLIC_KEY:dt.KeySize.SECP256k1_PUBLIC_KEY;if(i.length!==a)throw new Error(`Invalid public key size (${i.length}), must be ${a}`);return new Ei({keyType:o,data:i})}toString(){const e=(0,rs.baseEncode)(this.data);return`${lp(this.keyType)}:${e}`}verify(e,r){const n=this.keyType,o=this.data;switch(n){case dt.KeyType.ED25519:return fp.ed25519.verify(r,e,o);case dt.KeyType.SECP256K1:return dp.default.ecdsaVerify(r.subarray(0,64),e,new Uint8Array([4,...o]));default:throw new Error(`Unknown key type: ${n}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}wn.PublicKey=Ei;var bp=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.KeyPairEd25519=void 0;const ci=je,ba=Ya,pp=bp(Lu),pa=Gn,yp=_n,vp=wn;class bc extends yp.KeyPairBase{constructor(e){super();const r=(0,ci.baseDecode)(e),n=new Uint8Array(r.slice(0,pa.KeySize.SECRET_KEY)),o=ba.ed25519.getPublicKey(new Uint8Array(n));this.publicKey=new vp.PublicKey({keyType:pa.KeyType.ED25519,data:o}),this.secretKey=(0,ci.baseEncode)(n),this.extendedSecretKey=e}static fromRandom(){const e=(0,pp.default)(pa.KeySize.SECRET_KEY),r=ba.ed25519.getPublicKey(new Uint8Array(e)),n=new Uint8Array([...e,...r]);return new bc((0,ci.baseEncode)(n))}sign(e){return{signature:ba.ed25519.sign(e,(0,ci.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(e,r){return this.publicKey.verify(e,r)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}Vn.KeyPairEd25519=bc;var Yn={},lf=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.KeyPairSecp256k1=void 0;const ya=Gn,gp=_n,mp=wn,va=lf(df),_p=lf(Lu),si=je;class pc extends gp.KeyPairBase{constructor(e){super();const r=(0,si.baseDecode)(e),n=new Uint8Array(r.slice(0,ya.KeySize.SECRET_KEY)),o=va.default.publicKeyCreate(new Uint8Array(n),!1),i=o.subarray(1,o.length);this.publicKey=new mp.PublicKey({keyType:ya.KeyType.SECP256K1,data:i}),this.secretKey=(0,si.baseEncode)(n),this.extendedSecretKey=e}static fromRandom(){const e=(0,_p.default)(ya.KeySize.SECRET_KEY),r=va.default.publicKeyCreate(new Uint8Array(e),!1),n=r.subarray(1,r.length),o=new Uint8Array([...e,...n]);return new pc((0,si.baseEncode)(o))}sign(e){const{signature:r,recid:n}=va.default.ecdsaSign(e,(0,si.baseDecode)(this.secretKey));return{signature:new Uint8Array([...r,n]),publicKey:this.publicKey}}verify(e,r){return this.publicKey.verify(e,r)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}Yn.KeyPairSecp256k1=pc;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.KeyPair=void 0;const wp=_n,ns=Vn,is=Yn;class Sp extends wp.KeyPairBase{static fromRandom(e){switch(e.toUpperCase()){case"ED25519":return ns.KeyPairEd25519.fromRandom();case"SECP256K1":return is.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${e}`)}}static fromString(e){const r=e.split(":");if(r.length===2)switch(r[0].toUpperCase()){case"ED25519":return new ns.KeyPairEd25519(r[1]);case"SECP256K1":return new is.KeyPairSecp256k1(r[1]);default:throw new Error(`Unknown curve: ${r[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}Ni.KeyPair=Sp;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairSecp256k1=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var e=Gn;Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return e.KeyType}});var r=Ni;Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return r.KeyPair}});var n=Vn;Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return n.KeyPairEd25519}});var o=Yn;Object.defineProperty(t,"KeyPairSecp256k1",{enumerable:!0,get:function(){return o.KeyPairSecp256k1}});var i=wn;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return i.PublicKey}})})(qt);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.KeyStore=void 0;class Ep{}On.KeyStore=Ep;var Zr=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.InMemoryKeyStore=void 0;const Ap=qt,xp=On;class Ip extends xp.KeyStore{constructor(){super(),this.keys={}}setKey(e,r,n){return Zr(this,void 0,void 0,function*(){this.keys[`${r}:${e}`]=n.toString()})}getKey(e,r){return Zr(this,void 0,void 0,function*(){const n=this.keys[`${r}:${e}`];return n?Ap.KeyPair.fromString(n):null})}removeKey(e,r){return Zr(this,void 0,void 0,function*(){delete this.keys[`${r}:${e}`]})}clear(){return Zr(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return Zr(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(r=>{const n=r.split(":");e.add(n[1])}),Array.from(e.values())})}getAccounts(e){return Zr(this,void 0,void 0,function*(){const r=new Array;return Object.keys(this.keys).forEach(n=>{const o=n.split(":");o[o.length-1]===e&&r.push(o.slice(0,o.length-1).join(":"))}),r})}toString(){return"InMemoryKeyStore"}}Ci.InMemoryKeyStore=Ip;var so={},Xr=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(so,"__esModule",{value:!0});so.MergeKeyStore=void 0;const Mp=On;class Op extends Mp.KeyStore{constructor(e,r={writeKeyStoreIndex:0}){super(),this.options=r,this.keyStores=e}setKey(e,r,n){return Xr(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(e,r,n)})}getKey(e,r){return Xr(this,void 0,void 0,function*(){for(const n of this.keyStores){const o=yield n.getKey(e,r);if(o)return o}return null})}removeKey(e,r){return Xr(this,void 0,void 0,function*(){for(const n of this.keyStores)yield n.removeKey(e,r)})}clear(){return Xr(this,void 0,void 0,function*(){for(const e of this.keyStores)yield e.clear()})}getNetworks(){return Xr(this,void 0,void 0,function*(){const e=new Set;for(const r of this.keyStores)for(const n of yield r.getNetworks())e.add(n);return Array.from(e)})}getAccounts(e){return Xr(this,void 0,void 0,function*(){const r=new Set;for(const n of this.keyStores)for(const o of yield n.getAccounts(e))r.add(o);return Array.from(r)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}so.MergeKeyStore=Op;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.MultiContractKeyStore=void 0;class Tp{}uo.MultiContractKeyStore=Tp;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultiContractKeyStore=t.MergeKeyStore=t.KeyStore=t.InMemoryKeyStore=void 0;var e=Ci;Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return e.InMemoryKeyStore}});var r=On;Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});var n=so;Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return n.MergeKeyStore}});var o=uo;Object.defineProperty(t,"MultiContractKeyStore",{enumerable:!0,get:function(){return o.MultiContractKeyStore}})})(Gr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStore=void 0;var e=Gr;Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return e.KeyStore}})})(js);var hf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryKeyStore=void 0;var e=Gr;Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return e.InMemoryKeyStore}})})(hf);var bf={},pf={},fo={},Yr=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(fo,"__esModule",{value:!0});fo.BrowserLocalStorageKeyStore=void 0;const Bp=qt,Pp=Gr,Cp="near-api-js:keystore:";class Np extends Pp.KeyStore{constructor(e=window.localStorage,r=Cp){super(),this.localStorage=e,this.prefix=r}setKey(e,r,n){return Yr(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,r),n.toString())})}getKey(e,r){return Yr(this,void 0,void 0,function*(){const n=this.localStorage.getItem(this.storageKeyForSecretKey(e,r));return n?Bp.KeyPair.fromString(n):null})}removeKey(e,r){return Yr(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,r))})}clear(){return Yr(this,void 0,void 0,function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)})}getNetworks(){return Yr(this,void 0,void 0,function*(){const e=new Set;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())})}getAccounts(e){return Yr(this,void 0,void 0,function*(){const r=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");o[1]===e&&r.push(o[0])}return r})}storageKeyForSecretKey(e,r){return`${this.prefix}${r}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}fo.BrowserLocalStorageKeyStore=Np;var lo={},Kr=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(lo,"__esModule",{value:!0});lo.MultiContractBrowserLocalStorageKeyStore=void 0;const Rp=qt,Lp=Gr,os="near-api-js:keystore:";class kp extends Lp.MultiContractKeyStore{constructor(e=window.localStorage,r=os){super(),this.localStorage=e,this.prefix=r||os}setKey(e,r,n,o){return Kr(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(e,r,o),n.toString())})}getKey(e,r,n){return Kr(this,void 0,void 0,function*(){const o=this.localStorage.getItem(this.storageKeyForSecretKey(e,r,n));return o?Rp.KeyPair.fromString(o):null})}removeKey(e,r,n){return Kr(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(e,r,n))})}clear(){return Kr(this,void 0,void 0,function*(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)})}getNetworks(){return Kr(this,void 0,void 0,function*(){const e=new Set;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())})}getAccounts(e){return Kr(this,void 0,void 0,function*(){const r=[];for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const o=n.substring(this.prefix.length).split(":");o[1]===e&&r.push(o[0])}return r})}getContracts(e,r){return Kr(this,void 0,void 0,function*(){const n=[];for(const o of this.storageKeys())if(o.startsWith(this.prefix)){const i=o.substring(this.prefix.length).split(":");i[1]===e&&i[0]===r&&n.push(i[2])}return n})}storageKeyForSecretKey(e,r,n){return`${this.prefix}${r}:${e}:${n}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}lo.MultiContractBrowserLocalStorageKeyStore=kp;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultiContractBrowserLocalStorageKeyStore=t.BrowserLocalStorageKeyStore=void 0;var e=fo;Object.defineProperty(t,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return e.BrowserLocalStorageKeyStore}});var r=lo;Object.defineProperty(t,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return r.MultiContractBrowserLocalStorageKeyStore}})})(pf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLocalStorageKeyStore=void 0;var e=pf;Object.defineProperty(t,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return e.BrowserLocalStorageKeyStore}})})(bf);var yf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=void 0;var e=Gr;Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return e.MergeKeyStore}})})(yf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=t.BrowserLocalStorageKeyStore=t.InMemoryKeyStore=t.KeyStore=void 0;const e=js;Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return e.KeyStore}});const r=hf;Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return r.InMemoryKeyStore}});const n=bf;Object.defineProperty(t,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return n.BrowserLocalStorageKeyStore}});const o=yf;Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})})(Ks);var vf={},gf={},mf={},pr={},Tn={},Kp=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.exponentialBackoff=void 0;function jp(t,e,r,n){return Kp(this,void 0,void 0,function*(){let o=t;for(let i=0;i<e;i++){const a=yield n();if(a)return a;yield Up(o),o*=r}return null})}Tn.exponentialBackoff=jp;function Up(t){return new Promise(e=>setTimeout(e,t))}var ho={},Br={},Fr={},xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.Action=xe.SignedDelegate=xe.DeleteAccount=xe.DeleteKey=xe.AddKey=xe.Stake=xe.Transfer=xe.FunctionCall=xe.DeployContract=xe.CreateAccount=xe.IAction=xe.AccessKey=xe.AccessKeyPermission=xe.FullAccessPermission=xe.FunctionCallPermission=void 0;const bo=it;class _f{constructor(e){if(Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this[r]=e[r],this.enum=r})}}class $p extends bo.Assignable{}xe.FunctionCallPermission=$p;class Dp extends bo.Assignable{}xe.FullAccessPermission=Dp;class Fp extends _f{}xe.AccessKeyPermission=Fp;class qp extends bo.Assignable{}xe.AccessKey=qp;class ar extends bo.Assignable{}xe.IAction=ar;class zp extends ar{}xe.CreateAccount=zp;class Hp extends ar{}xe.DeployContract=Hp;class Gp extends ar{}xe.FunctionCall=Gp;class Vp extends ar{}xe.Transfer=Vp;class Wp extends ar{}xe.Stake=Wp;class Jp extends ar{}xe.AddKey=Jp;class Zp extends ar{}xe.DeleteKey=Zp;class Xp extends ar{}xe.DeleteAccount=Xp;class Yp extends ar{}xe.SignedDelegate=Yp;class Qp extends _f{}xe.Action=Qp;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.actionCreators=Fr.stringifyJsonOrBytes=void 0;const Ce=xe;function ey(){return new Ce.AccessKey({nonce:0,permission:new Ce.AccessKeyPermission({fullAccess:new Ce.FullAccessPermission({})})})}function ty(t,e,r){return new Ce.AccessKey({nonce:0,permission:new Ce.AccessKeyPermission({functionCall:new Ce.FunctionCallPermission({receiverId:t,allowance:r,methodNames:e})})})}function ry(){return new Ce.Action({createAccount:new Ce.CreateAccount({})})}function ny(t){return new Ce.Action({deployContract:new Ce.DeployContract({code:t})})}function wf(t){return t.byteLength!==void 0&&t.byteLength===t.length?t:Buffer.from(JSON.stringify(t))}Fr.stringifyJsonOrBytes=wf;function iy(t,e,r=BigInt(0),n=BigInt(0),o=wf,i=!1){return i?new Ce.Action({functionCall:new Ce.FunctionCall({methodName:t,args:e,gas:r,deposit:n})}):new Ce.Action({functionCall:new Ce.FunctionCall({methodName:t,args:o(e),gas:r,deposit:n})})}function oy(t=BigInt(0)){return new Ce.Action({transfer:new Ce.Transfer({deposit:t})})}function ay(t=BigInt(0),e){return new Ce.Action({stake:new Ce.Stake({stake:t,publicKey:e})})}function cy(t,e){return new Ce.Action({addKey:new Ce.AddKey({publicKey:t,accessKey:e})})}function sy(t){return new Ce.Action({deleteKey:new Ce.DeleteKey({publicKey:t})})}function uy(t){return new Ce.Action({deleteAccount:new Ce.DeleteAccount({beneficiaryId:t})})}function fy({delegateAction:t,signature:e}){return new Ce.Action({signedDelegate:new Ce.SignedDelegate({delegateAction:t,signature:e})})}Fr.actionCreators={addKey:cy,createAccount:ry,deleteAccount:uy,deleteKey:sy,deployContract:ny,fullAccessKey:ey,functionCall:iy,functionCallAccessKey:ty,signedDelegate:fy,stake:ay,transfer:oy};var Qn={},po={},Pr={},yo={},Bn={};Bn.__esModule=!0;Bn.integers=void 0;Bn.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"];var qr={};qr.__esModule=!0;qr.DecodeBuffer=qr.EncodeBuffer=void 0;var dy=function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+e);var r=new ArrayBuffer(this.buffer_size);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(r)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(e,r){var n=r.substring(1),o=parseInt(n)/8;this.resize_if_necessary(o);var i=r[0]==="f"?"setFloat".concat(n):r[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[i](this.offset,e,!0),this.offset+=o},t.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},t}();qr.EncodeBuffer=dy;var ly=function(){function t(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(e){var r=e.substring(1),n=parseInt(r)/8;this.assert_enough_buffer(n);var o=e[0]==="f"?"getFloat".concat(r):e[0]==="i"?"getInt".concat(r):"getUint".concat(r),i=this.view[o](this.offset,!0);return this.offset+=n,i},t.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},t}();qr.DecodeBuffer=ly;var ut={},hy=q&&q.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();ut.__esModule=!0;ut.validate_schema=ut.ErrorSchema=ut.expect_enum=ut.expect_same_size=ut.expect_bigint=ut.expect_type=ut.isArrayLike=void 0;var by=Bn;function py(t){return Array.isArray(t)||!!t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}ut.isArrayLike=py;function yy(t,e,r){if(typeof t!==e)throw new Error("Expected ".concat(e," not ").concat(typeof t,"(").concat(t,") at ").concat(r.join(".")))}ut.expect_type=yy;function vy(t,e){var r=["number","string","bigint","boolean"].includes(typeof t),n=typeof t=="object"&&t!==null&&"toString"in t;if(!r&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}ut.expect_bigint=vy;function gy(t,e,r){if(t!==e)throw new Error("Array length ".concat(t," does not match schema length ").concat(e," at ").concat(r.join(".")))}ut.expect_same_size=gy;function my(t,e){if(typeof t!="object"||t===null)throw new Error("Expected object not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}ut.expect_enum=my;var as=by.integers.concat(["bool","string"]),cs=["option","enum","array","set","map","struct"],zr=function(t){hy(e,t);function e(r,n){var o="Invalid schema: ".concat(JSON.stringify(r)," expected ").concat(n);return t.call(this,o)||this}return e}(Error);ut.ErrorSchema=zr;function Cr(t){if(!(typeof t=="string"&&as.includes(t))){if(t&&typeof t=="object"){var e=Object.keys(t);if(e.length===1&&cs.includes(e[0])){var r=e[0];if(r==="option")return Cr(t[r]);if(r==="enum")return _y(t[r]);if(r==="array")return wy(t[r]);if(r==="set")return Cr(t[r]);if(r==="map")return Sy(t[r]);if(r==="struct")return Ey(t[r])}}throw new zr(t,cs.join(", ")+" or "+as.join(", "))}}ut.validate_schema=Cr;function _y(t){if(!Array.isArray(t))throw new zr(t,"Array");for(var e=0,r=t;e<r.length;e++){var n=r[e];if(typeof n!="object"||!("struct"in n))throw new Error('Missing "struct" key in enum schema');if(typeof n.struct!="object"||Object.keys(n.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');Cr({struct:n.struct})}}function wy(t){if(typeof t!="object")throw new zr(t,"{ type, len? }");if(t.len&&typeof t.len!="number")throw new Error("Invalid schema: ".concat(t));if("type"in t)return Cr(t.type);throw new zr(t,"{ type, len? }")}function Sy(t){if(typeof t=="object"&&"key"in t&&"value"in t)Cr(t.key),Cr(t.value);else throw new zr(t,"{ key, value }")}function Ey(t){if(typeof t!="object")throw new zr(t,"object");for(var e in t)Cr(t[e])}var Ay=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xy=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Iy=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ay(e,t,r);return xy(e,t),e};yo.__esModule=!0;yo.BorshSerializer=void 0;var My=Bn,Oy=qr,jt=Iy(ut),Ty=function(){function t(e){this.encoded=new Oy.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=e}return t.prototype.encode=function(e,r){return this.encode_value(e,r),this.encoded.get_used_buffer()},t.prototype.encode_value=function(e,r){if(typeof r=="string"){if(My.integers.includes(r))return this.encode_integer(e,r);if(r==="string")return this.encode_string(e);if(r==="bool")return this.encode_boolean(e)}if(typeof r=="object"){if("option"in r)return this.encode_option(e,r);if("enum"in r)return this.encode_enum(e,r);if("array"in r)return this.encode_array(e,r);if("set"in r)return this.encode_set(e,r);if("map"in r)return this.encode_map(e,r);if("struct"in r)return this.encode_struct(e,r)}},t.prototype.encode_integer=function(e,r){var n=parseInt(r.substring(1));n<=32||r=="f64"?(this.checkTypes&&jt.expect_type(e,"number",this.fieldPath),this.encoded.store_value(e,r)):(this.checkTypes&&jt.expect_bigint(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},t.prototype.encode_bigint=function(e,r){for(var n=r/8,o=new Uint8Array(n),i=0;i<n;i++)o[i]=Number(e&BigInt(255)),e=e>>BigInt(8);this.encoded.store_bytes(new Uint8Array(o))},t.prototype.encode_string=function(e){this.checkTypes&&jt.expect_type(e,"string",this.fieldPath);var r=e;this.encoded.store_value(r.length,"u32");for(var n=0;n<r.length;n++)this.encoded.store_value(r.charCodeAt(n),"u8")},t.prototype.encode_boolean=function(e){this.checkTypes&&jt.expect_type(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},t.prototype.encode_option=function(e,r){e==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,r.option))},t.prototype.encode_enum=function(e,r){this.checkTypes&&jt.expect_enum(e,this.fieldPath);for(var n=Object.keys(e)[0],o=0;o<r.enum.length;o++){var i=r.enum[o];if(n===Object.keys(i.struct)[0])return this.encoded.store_value(o,"u8"),this.encode_struct(e,i)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(r)," at ").concat(this.fieldPath.join(".")))},t.prototype.encode_array=function(e,r){if(jt.isArrayLike(e))return this.encode_arraylike(e,r);if(e instanceof ArrayBuffer)return this.encode_buffer(e,r);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},t.prototype.encode_arraylike=function(e,r){r.array.len?jt.expect_same_size(e.length,r.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],r.array.type)},t.prototype.encode_buffer=function(e,r){r.array.len?jt.expect_same_size(e.byteLength,r.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},t.prototype.encode_set=function(e,r){this.checkTypes&&jt.expect_type(e,"object",this.fieldPath);var n=e instanceof Set,o=n?Array.from(e.values()):Object.values(e);this.encoded.store_value(o.length,"u32");for(var i=0,a=o;i<a.length;i++){var c=a[i];this.encode_value(c,r.set)}},t.prototype.encode_map=function(e,r){this.checkTypes&&jt.expect_type(e,"object",this.fieldPath);var n=e instanceof Map,o=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(o.length,"u32");for(var i=0,a=o;i<a.length;i++){var c=a[i];this.encode_value(c,r.map.key),this.encode_value(n?e.get(c):e[c],r.map.value)}},t.prototype.encode_struct=function(e,r){this.checkTypes&&jt.expect_type(e,"object",this.fieldPath);for(var n=0,o=Object.keys(r.struct);n<o.length;n++){var i=o[n];this.fieldPath.push(i),this.encode_value(e[i],r.struct[i]),this.fieldPath.pop()}},t}();yo.BorshSerializer=Ty;var vo={};vo.__esModule=!0;vo.BorshDeserializer=void 0;var By=Bn,Py=qr,Cy=function(){function t(e){this.buffer=new Py.DecodeBuffer(e)}return t.prototype.decode=function(e){return this.decode_value(e)},t.prototype.decode_value=function(e){if(typeof e=="string"){if(By.integers.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},t.prototype.decode_integer=function(e){var r=parseInt(e.substring(1));return r<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(r,e.startsWith("i"))},t.prototype.decode_bigint=function(e,r){r===void 0&&(r=!1);var n=e/8,o=new Uint8Array(this.buffer.consume_bytes(n)),i=o.reduceRight(function(a,c){return a+c.toString(16).padStart(2,"0")},"");return r&&o[n-1]?BigInt.asIntN(e,BigInt("0x".concat(i))):BigInt("0x".concat(i))},t.prototype.decode_string=function(){var e=this.decode_integer("u32"),r=new Uint8Array(this.buffer.consume_bytes(e));return String.fromCharCode.apply(null,r)},t.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},t.prototype.decode_option=function(e){var r=this.buffer.consume_value("u8");if(r===1)return this.decode_value(e.option);if(r!==0)throw new Error("Invalid option ".concat(r));return null},t.prototype.decode_enum=function(e){var r,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var o=e.enum[n].struct,i=Object.keys(o)[0];return r={},r[i]=this.decode_value(o[i]),r},t.prototype.decode_array=function(e){for(var r=[],n=e.array.len?e.array.len:this.decode_integer("u32"),o=0;o<n;++o)r.push(this.decode_value(e.array.type));return r},t.prototype.decode_set=function(e){for(var r=this.decode_integer("u32"),n=new Set,o=0;o<r;++o)n.add(this.decode_value(e.set));return n},t.prototype.decode_map=function(e){for(var r=this.decode_integer("u32"),n=new Map,o=0;o<r;++o){var i=this.decode_value(e.map.key),a=this.decode_value(e.map.value);n.set(i,a)}return n},t.prototype.decode_struct=function(e){var r={};for(var n in e.struct)r[n]=this.decode_value(e.struct[n]);return r},t}();vo.BorshDeserializer=Cy;var Ny=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ry=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ly=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ny(e,t,r);return Ry(e,t),e};Pr.__esModule=!0;Pr.deserialize=Pr.serialize=void 0;var ky=yo,Ky=vo,Sf=Ly(ut);function jy(t,e,r){r===void 0&&(r=!0),r&&Sf.validate_schema(t);var n=new ky.BorshSerializer(r);return n.encode(e,t)}Pr.serialize=jy;function Uy(t,e,r){r===void 0&&(r=!0),r&&Sf.validate_schema(t);var n=new Ky.BorshDeserializer(e);return n.decode(t)}Pr.deserialize=Uy;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.DelegateActionPrefix=void 0;const $y=it,Dy=Math.pow(2,30),Fy={MetaTransactions:366};class qy extends $y.Assignable{}class zy extends qy{constructor(e){super({prefix:Dy+e})}}class Hy extends zy{constructor(){super(Fy.MetaTransactions)}}go.DelegateActionPrefix=Hy;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SignedTransaction=t.Transaction=t.decodeSignedTransaction=t.decodeTransaction=t.encodeTransaction=t.encodeSignedDelegate=t.encodeDelegateAction=void 0;const e=it,r=Pr,n=go;function o(p){return new Uint8Array([...(0,r.serialize)(t.SCHEMA.DelegateActionPrefix,new n.DelegateActionPrefix),...(0,r.serialize)(t.SCHEMA.DelegateAction,p)])}t.encodeDelegateAction=o;function i(p){return(0,r.serialize)(t.SCHEMA.SignedDelegate,p)}t.encodeSignedDelegate=i;function a(p){const A=p instanceof u?t.SCHEMA.SignedTransaction:t.SCHEMA.Transaction;return(0,r.serialize)(A,p)}t.encodeTransaction=a;function c(p){return new v((0,r.deserialize)(t.SCHEMA.Transaction,p))}t.decodeTransaction=c;function h(p){return new u((0,r.deserialize)(t.SCHEMA.SignedTransaction,p))}t.decodeSignedTransaction=h;class v extends e.Assignable{encode(){return a(this)}static decode(A){return c(A)}}t.Transaction=v;class u extends e.Assignable{encode(){return a(this)}static decode(A){return h(A)}}t.SignedTransaction=u,t.SCHEMA=new class{constructor(){this.Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}},this.Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}},this.Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]},this.Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}},this.Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}},this.PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}})(po);Object.defineProperty(Qn,"__esModule",{value:!0});Qn.createTransaction=void 0;const Gy=po;function Vy(t,e,r,n,o,i){const a=typeof n=="bigint"?n:BigInt(n);return new Gy.Transaction({signerId:t,publicKey:e,nonce:a,receiverId:r,actions:o,blockHash:i})}Qn.createTransaction=Vy;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.buildDelegateAction=vn.DelegateAction=void 0;const Wy=it,Jy=Fr,{addKey:Zy,createAccount:Xy,deleteAccount:Yy,deleteKey:Qy,deployContract:e2,functionCall:t2,stake:r2,transfer:n2}=Jy.actionCreators;class Ef extends Wy.Assignable{}vn.DelegateAction=Ef;function i2({actions:t,maxBlockHeight:e,nonce:r,publicKey:n,receiverId:o,senderId:i}){return new Ef({senderId:i,receiverId:o,actions:t.map(a=>{if(!a.type&&!a.params)return a;switch(a.type){case"AddKey":{const{publicKey:c,accessKey:h}=a.params;return Zy(c,h)}case"CreateAccount":return Xy(a.params.createAccount);case"DeleteAccount":return Yy(a.params.deleteAccount);case"DeleteKey":return Qy(a.params.publicKey);case"DeployContract":return e2(a.params.code);case"FunctionCall":{const{methodName:c,args:h,gas:v,deposit:u}=a.params;return t2(c,h,v,u)}case"Stake":return r2(a.params.stake,a.params.publicKey);case"Transfer":{const{deposit:c}=a.params;return n2(c)}}throw new Error("Unrecognized action")}),nonce:r,maxBlockHeight:e,publicKey:n})}vn.buildDelegateAction=i2;var gn={},Hr={},mo={},yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.output=yt.exists=yt.hash=yt.bytes=yt.bool=yt.number=void 0;function Ai(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}yt.number=Ai;function Af(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}yt.bool=Af;function o2(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function yc(t,...e){if(!o2(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}yt.bytes=yc;function xf(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ai(t.outputLen),Ai(t.blockLen)}yt.hash=xf;function If(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}yt.exists=If;function Mf(t,e){yc(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}yt.output=Mf;const a2={number:Ai,bool:Af,bytes:yc,hash:xf,exists:If,output:Mf};yt.default=a2;var vc={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.crypto=void 0;_o.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=_o,r=L=>new Uint8Array(L.buffer,L.byteOffset,L.byteLength);t.u8=r;const n=L=>new Uint32Array(L.buffer,L.byteOffset,Math.floor(L.byteLength/4));t.u32=n;function o(L){return L instanceof Uint8Array||L!=null&&typeof L=="object"&&L.constructor.name==="Uint8Array"}const i=L=>new DataView(L.buffer,L.byteOffset,L.byteLength);t.createView=i;const a=(L,j)=>L<<32-j|L>>>j;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(L,j)=>j.toString(16).padStart(2,"0"));function h(L){if(!o(L))throw new Error("Uint8Array expected");let j="";for(let ee=0;ee<L.length;ee++)j+=c[L[ee]];return j}t.bytesToHex=h;const v={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function u(L){if(L>=v._0&&L<=v._9)return L-v._0;if(L>=v._A&&L<=v._F)return L-(v._A-10);if(L>=v._a&&L<=v._f)return L-(v._a-10)}function p(L){if(typeof L!="string")throw new Error("hex string expected, got "+typeof L);const j=L.length,ee=j/2;if(j%2)throw new Error("padded hex string expected, got unpadded hex of length "+j);const M=new Uint8Array(ee);for(let s=0,l=0;s<ee;s++,l+=2){const y=u(L.charCodeAt(l)),g=u(L.charCodeAt(l+1));if(y===void 0||g===void 0){const _=L[l]+L[l+1];throw new Error('hex string expected, got non-hex character "'+_+'" at index '+l)}M[s]=y*16+g}return M}t.hexToBytes=p;const A=async()=>{};t.nextTick=A;async function S(L,j,ee){let M=Date.now();for(let s=0;s<L;s++){ee(s);const l=Date.now()-M;l>=0&&l<j||(await(0,t.nextTick)(),M+=l)}}t.asyncLoop=S;function O(L){if(typeof L!="string")throw new Error(`utf8ToBytes expected string, got ${typeof L}`);return new Uint8Array(new TextEncoder().encode(L))}t.utf8ToBytes=O;function B(L){if(typeof L=="string"&&(L=O(L)),!o(L))throw new Error(`expected Uint8Array, got ${typeof L}`);return L}t.toBytes=B;function R(...L){let j=0;for(let M=0;M<L.length;M++){const s=L[M];if(!o(s))throw new Error("Uint8Array expected");j+=s.length}const ee=new Uint8Array(j);for(let M=0,s=0;M<L.length;M++){const l=L[M];ee.set(l,s),s+=l.length}return ee}t.concatBytes=R;class N{clone(){return this._cloneInto()}}t.Hash=N;const $={}.toString;function U(L,j){if(j!==void 0&&$.call(j)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(L,j)}t.checkOpts=U;function V(L){const j=M=>L().update(B(M)).digest(),ee=L();return j.outputLen=ee.outputLen,j.blockLen=ee.blockLen,j.create=()=>L(),j}t.wrapConstructor=V;function C(L){const j=(M,s)=>L(s).update(B(M)).digest(),ee=L({});return j.outputLen=ee.outputLen,j.blockLen=ee.blockLen,j.create=M=>L(M),j}t.wrapConstructorWithOpts=C;function H(L){const j=(M,s)=>L(s).update(B(M)).digest(),ee=L({});return j.outputLen=ee.outputLen,j.blockLen=ee.blockLen,j.create=M=>L(M),j}t.wrapXOFConstructorWithOpts=H;function X(L=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(L));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=X})(vc);Object.defineProperty(mo,"__esModule",{value:!0});mo.SHA2=void 0;const ga=yt,Kn=vc;function c2(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(r>>o&i),c=Number(r&i),h=n?4:0,v=n?0:4;t.setUint32(e+h,a,n),t.setUint32(e+v,c,n)}class s2 extends Kn.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Kn.createView)(this.buffer)}update(e){(0,ga.exists)(this);const{view:r,buffer:n,blockLen:o}=this;e=(0,Kn.toBytes)(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(o-this.pos,i-a);if(c===o){const h=(0,Kn.createView)(e);for(;o<=i-a;a+=o)this.process(h,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ga.exists)(this),(0,ga.output)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let p=a;p<o;p++)r[p]=0;c2(n,o-8,BigInt(this.length*8),i),this.process(n,0);const c=(0,Kn.createView)(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const v=h/4,u=this.get();if(v>u.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<v;p++)c.setUint32(4*p,u[p],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:i,destroyed:a,pos:c}=this;return e.length=o,e.pos=c,e.finished=i,e.destroyed=a,o%r&&e.buffer.set(n),e}}mo.SHA2=s2;Object.defineProperty(Hr,"__esModule",{value:!0});Hr.sha224=Hr.sha256=void 0;const u2=mo,At=vc,f2=(t,e,r)=>t&e^~t&r,d2=(t,e,r)=>t&e^t&r^e&r,l2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Er=new Uint32Array(64);class Of extends u2.SHA2{constructor(){super(64,32,8,!1),this.A=Sr[0]|0,this.B=Sr[1]|0,this.C=Sr[2]|0,this.D=Sr[3]|0,this.E=Sr[4]|0,this.F=Sr[5]|0,this.G=Sr[6]|0,this.H=Sr[7]|0}get(){const{A:e,B:r,C:n,D:o,E:i,F:a,G:c,H:h}=this;return[e,r,n,o,i,a,c,h]}set(e,r,n,o,i,a,c,h){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=h|0}process(e,r){for(let p=0;p<16;p++,r+=4)Er[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){const A=Er[p-15],S=Er[p-2],O=(0,At.rotr)(A,7)^(0,At.rotr)(A,18)^A>>>3,B=(0,At.rotr)(S,17)^(0,At.rotr)(S,19)^S>>>10;Er[p]=B+Er[p-7]+O+Er[p-16]|0}let{A:n,B:o,C:i,D:a,E:c,F:h,G:v,H:u}=this;for(let p=0;p<64;p++){const A=(0,At.rotr)(c,6)^(0,At.rotr)(c,11)^(0,At.rotr)(c,25),S=u+A+f2(c,h,v)+l2[p]+Er[p]|0,B=((0,At.rotr)(n,2)^(0,At.rotr)(n,13)^(0,At.rotr)(n,22))+d2(n,o,i)|0;u=v,v=h,h=c,c=a+S|0,a=i,i=o,o=n,n=S+B|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,h=h+this.F|0,v=v+this.G|0,u=u+this.H|0,this.set(n,o,i,a,c,h,v,u)}roundClean(){Er.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class h2 extends Of{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Hr.sha256=(0,At.wrapConstructor)(()=>new Of);Hr.sha224=(0,At.wrapConstructor)(()=>new h2);var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.Signature=void 0;const xi=qt,gc=it;class Gg extends gc.Assignable{constructor(){super(...arguments),this.keyType=xi.KeyType.ED25519}}class Vg extends gc.Assignable{constructor(){super(...arguments),this.keyType=xi.KeyType.SECP256K1}}class b2 extends gc.Assignable{constructor({keyType:e,data:r}){super({}),e===xi.KeyType.ED25519?this.ed25519Signature={keyType:e,data:r}:e===xi.KeyType.SECP256K1&&(this.secp256k1Signature={keyType:e,data:r})}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}ei.Signature=b2;var mc=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(gn,"__esModule",{value:!0});gn.signDelegateAction=gn.signTransaction=void 0;const Tf=Hr,p2=xe,y2=Qn,Ii=po,Bf=ei,Mi=qt;function ss(t,e,r,n){return mc(this,void 0,void 0,function*(){const o=(0,Ii.encodeTransaction)(t),i=new Uint8Array((0,Tf.sha256)(o)),a=yield e.signMessage(o,r,n),c=t.publicKey.ed25519Key?Mi.KeyType.ED25519:Mi.KeyType.SECP256K1,h=new Ii.SignedTransaction({transaction:t,signature:new Bf.Signature({keyType:c,data:a.signature})});return[i,h]})}function v2(...t){return mc(this,void 0,void 0,function*(){if(t[0].constructor===Ii.Transaction){const[e,r,n,o]=t;return ss(e,r,n,o)}else{const[e,r,n,o,i,a,c]=t,h=yield i.getPublicKey(a,c),v=(0,y2.createTransaction)(a,h,e,r,n,o);return ss(v,i,a,c)}})}gn.signTransaction=v2;function g2({delegateAction:t,signer:e}){return mc(this,void 0,void 0,function*(){const r=(0,Ii.encodeDelegateAction)(t),n=yield e.sign(r),o=t.publicKey.ed25519Key?Mi.KeyType.ED25519:Mi.KeyType.SECP256K1,i=new p2.SignedDelegate({delegateAction:t,signature:new Bf.Signature({keyType:o,data:n})});return{hash:new Uint8Array((0,Tf.sha256)(r)),signedDelegateAction:i}})}gn.signDelegateAction=g2;(function(t){var e=q&&q.__createBinding||(Object.create?function(n,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,a,c)}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]}),r=q&&q.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fr,t),r(xe,t),r(Qn,t),r(vn,t),r(po,t),r(gn,t),r(ei,t)})(Br);var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Provider=void 0;class m2{}Pn.Provider=m2;var ti={},Pf={exports:{}};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var _2=w2;function w2(t){if(!t)throw new TypeError("argument namespace is required");function e(r){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=S2,e.property=E2,e}function S2(t,e){if(typeof t!="function")throw new TypeError("argument fn must be a function");return t}function E2(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}var A2=Object.setPrototypeOf||({__proto__:[]}instanceof Array?x2:I2);function x2(t,e){return t.__proto__=e,t}function I2(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}const M2={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var Cf=M2,O2=er;er.STATUS_CODES=Cf;er.codes=T2(er,Cf);er.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};er.empty={204:!0,205:!0,304:!0};er.retry={502:!0,503:!0,504:!0};function T2(t,e){var r=[];return Object.keys(e).forEach(function(o){var i=e[o],a=Number(o);t[a]=i,t[i]=a,t[i.toLowerCase()]=a,r.push(a)}),r}function er(t){if(typeof t=="number"){if(!er[t])throw new Error("invalid status code: "+t);return t}if(typeof t!="string")throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!er[e])throw new Error("invalid status code: "+e);return e}if(e=er[t.toLowerCase()],!e)throw new Error('invalid status message: "'+t+'"');return e}var za={exports:{}};typeof Object.create=="function"?za.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:za.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var B2=za.exports;/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var P2=C2;function C2(t){return t.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=_2("http-errors"),r=A2,n=O2,o=B2,i=P2;t.exports=c,t.exports.HttpError=h(),A(t.exports,n.codes,t.exports.HttpError);function a(S){return+(String(S).charAt(0)+"00")}function c(){for(var S,O,B=500,R={},N=0;N<arguments.length;N++){var $=arguments[N];if($ instanceof Error){S=$,B=S.status||S.statusCode||B;continue}switch(typeof $){case"string":O=$;break;case"number":B=$;break;case"object":R=$;break}}(typeof B!="number"||!n[B]&&(B<400||B>=600))&&(B=500);var U=c[B]||c[a(B)];S||(S=U?new U(O):new Error(O||n[B]),Error.captureStackTrace(S,c)),(!U||!(S instanceof U)||S.status!==B)&&(S.expose=B<500,S.status=S.statusCode=B);for(var V in R)V!=="status"&&V!=="statusCode"&&(S[V]=R[V]);return S}function h(){function S(){throw new TypeError("cannot construct abstract class")}return o(S,Error),S}function v(S,O,B){var R=O.match(/Error$/)?O:O+"Error";function N($){var U=$??n[B],V=new Error(U);return Error.captureStackTrace(V,N),r(V,N.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:U,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:R,writable:!0}),V}return o(N,S),p(N,R),N.prototype.status=B,N.prototype.statusCode=B,N.prototype.expose=!0,N}function u(S,O,B){var R=O.match(/Error$/)?O:O+"Error";function N($){var U=$??n[B],V=new Error(U);return Error.captureStackTrace(V,N),r(V,N.prototype),Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,value:U,writable:!0}),Object.defineProperty(V,"name",{enumerable:!1,configurable:!0,value:R,writable:!0}),V}return o(N,S),p(N,R),N.prototype.status=B,N.prototype.statusCode=B,N.prototype.expose=!1,N}function p(S,O){var B=Object.getOwnPropertyDescriptor(S,"name");B&&B.configurable&&(B.value=O,Object.defineProperty(S,"name",B))}function A(S,O,B){O.forEach(function(N){var $,U=i(n[N]);switch(a(N)){case 400:$=v(B,U,N);break;case 500:$=u(B,U,N);break}$&&(S[N]=$,S[U]=$)}),S["I'mateapot"]=e.function(S.ImATeapot,`"I'mateapot"; use "ImATeapot" instead`)}})(Pf);var N2=Pf.exports,ui={},fi={exports:{}},us;function R2(){return us||(us=1,function(t,e){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof n<"u")return n;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}(fi,fi.exports)),fi.exports}var fs;function L2(){if(fs)return ui;fs=1;var t=q&&q.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ui,"__esModule",{value:!0});const e=t(R2()),r=t(ln),n=t(ln),o=new r.default.Agent({keepAlive:!0}),i=new n.default.Agent({keepAlive:!0});function a(h){return h.protocol==="http:"?o:i}function c(h,v){return(0,e.default)(h,Object.assign({agent:a(new URL(h.toString()))},v))}return ui.default=c,ui}var k2=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K2=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),j2=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k2(e,t,r);return K2(e,t),e},ds=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})},U2=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});ti.fetchJson=void 0;const $2=it,ma=je,D2=U2(N2),F2=Tn,q2=1e3,z2=1.5,ls=10;function H2(t,e){return ds(this,void 0,void 0,function*(){let r={url:null};typeof t=="string"?r.url=t:r=t;const n=yield(0,F2.exponentialBackoff)(q2,ls,z2,()=>ds(this,void 0,void 0,function*(){var o;try{const i=yield((o=q.fetch)!==null&&o!==void 0?o:(yield Promise.resolve().then(()=>j2(L2()))).default)(r.url,{method:e?"POST":"GET",body:e||void 0,headers:Object.assign(Object.assign({},r.headers),{"Content-Type":"application/json"})});if(!i.ok){if(i.status===503)return ma.Logger.warn(`Retrying HTTP request for ${r.url} as it's not available now`),null;if(i.status===408)return ma.Logger.warn(`Retrying HTTP request for ${r.url} as the previous connection was unused for some time`),null;throw(0,D2.default)(i.status,yield i.text())}return i}catch(i){if(i.toString().includes("FetchError")||i.toString().includes("Failed to fetch"))return ma.Logger.warn(`Retrying HTTP request for ${r.url} because of error: ${i}`),null;throw i}}));if(!n)throw new $2.TypedError(`Exceeded ${ls} attempts for ${r.url}.`,"RetriesExceeded");return yield n.json()})}ti.fetchJson=H2;var Le=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})},hs=q&&q.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};Object.defineProperty(ho,"__esModule",{value:!0});ho.JsonRpcProvider=void 0;const zt=je,Qr=it,G2=Br,V2=Tn,W2=Pn,J2=ti,Z2=12,X2=500,Y2=1.5;let Q2=123;class ev extends W2.Provider{constructor(e,r){super(),this.connection=e||{url:""};const n={retries:Z2,wait:X2,backoff:Y2};this.options=Object.assign({},n,r)}status(){return Le(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransactionUntil(e,r){return Le(this,void 0,void 0,function*(){const n=(0,G2.encodeTransaction)(e);return this.sendJsonRpc("send_tx",{signed_tx_base64:Buffer.from(n).toString("base64"),wait_until:r})})}sendTransaction(e){return Le(this,void 0,void 0,function*(){return this.sendTransactionUntil(e,"EXECUTED_OPTIMISTIC")})}sendTransactionAsync(e){return Le(this,void 0,void 0,function*(){return this.sendTransactionUntil(e,"NONE")})}txStatus(e,r,n="EXECUTED_OPTIMISTIC"){return Le(this,void 0,void 0,function*(){return typeof e=="string"?this.txStatusString(e,r,n):this.txStatusUint8Array(e,r,n)})}txStatusUint8Array(e,r,n){return Le(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:(0,zt.baseEncode)(e),sender_account_id:r,wait_until:n})})}txStatusString(e,r,n){return Le(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:e,sender_account_id:r,wait_until:n})})}txStatusReceipts(e,r,n="EXECUTED_OPTIMISTIC"){return Le(this,void 0,void 0,function*(){return typeof e=="string"?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:e,sender_account_id:r,wait_until:n}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,zt.baseEncode)(e),sender_account_id:r,wait_until:n})})}query(...e){return Le(this,void 0,void 0,function*(){let r;if(e.length===1){const n=e[0],{block_id:o,blockId:i}=n,a=hs(n,["block_id","blockId"]);r=yield this.sendJsonRpc("query",Object.assign(Object.assign({},a),{block_id:o||i}))}else{const[n,o]=e;r=yield this.sendJsonRpc("query",[n,o])}if(r&&r.error)throw new Qr.TypedError(`Querying failed: ${r.error}.
${JSON.stringify(r,null,2)}`,(0,zt.getErrorTypeFromErrorMessage)(r.error,r.error.name));return r})}block(e){return Le(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("block",{block_id:n,finality:r})})}blockChanges(e){return Le(this,void 0,void 0,function*(){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:r})})}chunk(e){return Le(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[e])})}validators(e){return Le(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[e])})}experimental_protocolConfig(e){return Le(this,void 0,void 0,function*(){const r=e,{blockId:n}=r,o=hs(r,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},o),{block_id:n}))})}lightClientProof(e){return Le(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",e)})}nextLightClientBlock(e){return Le(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",e)})}accessKeyChanges(e,r){return Le(this,void 0,void 0,function*(){const{finality:n}=r,{blockId:o}=r;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:e,block_id:o,finality:n})})}singleAccessKeyChanges(e,r){return Le(this,void 0,void 0,function*(){const{finality:n}=r,{blockId:o}=r;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:e,block_id:o,finality:n})})}accountChanges(e,r){return Le(this,void 0,void 0,function*(){const{finality:n}=r,{blockId:o}=r;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:e,block_id:o,finality:n})})}contractStateChanges(e,r,n=""){return Le(this,void 0,void 0,function*(){const{finality:o}=r,{blockId:i}=r;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:e,key_prefix_base64:n,block_id:i,finality:o})})}contractCodeChanges(e,r){return Le(this,void 0,void 0,function*(){const{finality:n}=r,{blockId:o}=r;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:e,block_id:o,finality:n})})}gasPrice(e){return Le(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[e])})}sendJsonRpc(e,r){return Le(this,void 0,void 0,function*(){const n=yield(0,V2.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,()=>Le(this,void 0,void 0,function*(){var i;try{const a={method:e,params:r,id:Q2++,jsonrpc:"2.0"},c=yield(0,J2.fetchJson)(this.connection,JSON.stringify(a));if(c.error){if(typeof c.error.data=="object")throw typeof c.error.data.error_message=="string"&&typeof c.error.data.error_type=="string"?new Qr.TypedError(c.error.data.error_message,c.error.data.error_type):(0,zt.parseRpcError)(c.error.data);{const h=`[${c.error.code}] ${c.error.message}: ${c.error.data}`;if(c.error.data==="Timeout"||h.includes("Timeout error")||h.includes("query has timed out"))throw new Qr.TypedError(h,"TimeoutError");const v=(0,zt.getErrorTypeFromErrorMessage)(c.error.data,"");throw v?new Qr.TypedError((0,zt.formatError)(v,r),v):new Qr.TypedError(h,c.error.name)}}else if(typeof((i=c.result)===null||i===void 0?void 0:i.error)=="string"){const h=(0,zt.getErrorTypeFromErrorMessage)(c.result.error,"");if(h)throw new zt.ServerError((0,zt.formatError)(h,r),h)}return c}catch(a){if(a.type==="TimeoutError")return zt.Logger.warn(`Retrying request to ${e} as it has timed out`,r),null;throw a}})),{result:o}=n;if(typeof o>"u")throw new Qr.TypedError(`Exceeded ${this.options.retries} attempts for request to ${e}.`,"RetriesExceeded");return o})}}ho.JsonRpcProvider=ev;var wo={},Ue=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(wo,"__esModule",{value:!0});wo.FailoverRpcProvider=void 0;const tv=je,rv=it,nv=Pn;class iv extends nv.Provider{constructor(e){if(super(),e.length===0)throw new Error("At least one provider must be specified");this.providers=e,this.currentProviderIndex=0}switchToNextProvider(){this.providers.length!==1&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,tv.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){const e=this.providers[this.currentProviderIndex];if(!e)throw new Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return e}withBackoff(e){return Ue(this,void 0,void 0,function*(){for(let r=0;r<this.providers.length;r++)try{const n=yield e(this.currentProvider);if(n)return n}catch{this.switchToNextProvider()}throw new rv.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")})}status(){return Ue(this,void 0,void 0,function*(){return this.withBackoff(e=>e.status())})}sendTransactionUntil(e,r){return Ue(this,void 0,void 0,function*(){return this.withBackoff(n=>n.sendTransactionUntil(e,r))})}sendTransaction(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.sendTransaction(e))})}sendTransactionAsync(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.sendTransactionAsync(e))})}txStatus(e,r,n){return Ue(this,void 0,void 0,function*(){return this.withBackoff(o=>o.txStatus(e,r,n))})}txStatusReceipts(e,r,n){return Ue(this,void 0,void 0,function*(){return this.withBackoff(o=>o.txStatusReceipts(e,r,n))})}query(e,r){return Ue(this,void 0,void 0,function*(){return r?this.withBackoff(n=>n.query(e,r)):this.withBackoff(n=>n.query(e))})}block(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.block(e))})}blockChanges(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.blockChanges(e))})}chunk(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.chunk(e))})}validators(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.validators(e))})}experimental_protocolConfig(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.experimental_protocolConfig(e))})}lightClientProof(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.lightClientProof(e))})}nextLightClientBlock(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.nextLightClientBlock(e))})}accessKeyChanges(e,r){return Ue(this,void 0,void 0,function*(){return this.withBackoff(n=>n.accessKeyChanges(e,r))})}singleAccessKeyChanges(e,r){return Ue(this,void 0,void 0,function*(){return this.withBackoff(n=>n.singleAccessKeyChanges(e,r))})}accountChanges(e,r){return Ue(this,void 0,void 0,function*(){return this.withBackoff(n=>n.accountChanges(e,r))})}contractStateChanges(e,r,n=""){return Ue(this,void 0,void 0,function*(){return this.withBackoff(o=>o.contractStateChanges(e,r,n))})}contractCodeChanges(e,r){return Ue(this,void 0,void 0,function*(){return this.withBackoff(n=>n.contractCodeChanges(e,r))})}gasPrice(e){return Ue(this,void 0,void 0,function*(){return this.withBackoff(r=>r.gasPrice(e))})}}wo.FailoverRpcProvider=iv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=t.Provider=t.FailoverRpcProvider=t.JsonRpcProvider=t.exponentialBackoff=void 0;var e=Tn;Object.defineProperty(t,"exponentialBackoff",{enumerable:!0,get:function(){return e.exponentialBackoff}});var r=ho;Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}});var n=wo;Object.defineProperty(t,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}});var o=Pn;Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return o.Provider}});var i=ti;Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return i.fetchJson}})})(pr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=t.Provider=t.getTransactionLastResult=void 0;var e=je;Object.defineProperty(t,"getTransactionLastResult",{enumerable:!0,get:function(){return e.getTransactionLastResult}});var r=pr;Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return r.Provider}});var n=it;Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return n.IdType}}),Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return n.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}})})(mf);var Nf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=t.TypedError=t.ErrorContext=void 0;var e=it;Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return e.ErrorContext}}),Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return e.TypedError}});var r=pr;Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}})})(Nf);var Rf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FailoverRpcProvider=void 0;var e=pr;Object.defineProperty(t,"FailoverRpcProvider",{enumerable:!0,get:function(){return e.FailoverRpcProvider}})})(Rf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.getTransactionLastResult=t.FinalExecutionStatusBasic=t.FailoverRpcProvider=t.JsonRpcProvider=t.Provider=void 0;const e=mf;Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return e.Provider}}),Object.defineProperty(t,"getTransactionLastResult",{enumerable:!0,get:function(){return e.getTransactionLastResult}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return e.FinalExecutionStatusBasic}});const r=Nf;Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return r.JsonRpcProvider}}),Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return r.TypedError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return r.ErrorContext}});const n=Rf;Object.defineProperty(t,"FailoverRpcProvider",{enumerable:!0,get:function(){return n.FailoverRpcProvider}})})(gf);var Lf={},Oi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyType=t.KeyPairEd25519=t.KeyPair=void 0;var e=qt;Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return e.KeyPair}}),Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return e.KeyPairEd25519}}),Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return e.KeyType}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return e.PublicKey}})})(Oi);var kf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.base_decode=t.base_encode=t.deserialize=t.serialize=void 0;var e=Pr;Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return e.serialize}}),Object.defineProperty(t,"deserialize",{enumerable:!0,get:function(){return e.deserialize}});var r=je;Object.defineProperty(t,"base_encode",{enumerable:!0,get:function(){return r.baseEncode}}),Object.defineProperty(t,"base_decode",{enumerable:!0,get:function(){return r.baseDecode}})})(kf);var Kf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=void 0;var e=pr;Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return e.fetchJson}})})(Kf);var jf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Enum=t.Assignable=void 0;var e=it;Object.defineProperty(t,"Assignable",{enumerable:!0,get:function(){return e.Assignable}});class r{constructor(o){if(Object.keys(o).length!==1)throw new Error("Enum can only take single value");Object.keys(o).map(i=>{this[i]=o[i],this.enum=i})}}t.Enum=r})(jf);var Uf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseNearAmount=t.formatNearAmount=t.NEAR_NOMINATION_EXP=t.NEAR_NOMINATION=void 0;var e=je;Object.defineProperty(t,"NEAR_NOMINATION",{enumerable:!0,get:function(){return e.NEAR_NOMINATION}}),Object.defineProperty(t,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return e.NEAR_NOMINATION_EXP}}),Object.defineProperty(t,"formatNearAmount",{enumerable:!0,get:function(){return e.formatNearAmount}}),Object.defineProperty(t,"parseNearAmount",{enumerable:!0,get:function(){return e.parseNearAmount}})})(Uf);var $f={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ServerError=t.getErrorTypeFromErrorMessage=t.formatError=t.parseResultError=t.parseRpcError=void 0;var e=je;Object.defineProperty(t,"parseRpcError",{enumerable:!0,get:function(){return e.parseRpcError}}),Object.defineProperty(t,"parseResultError",{enumerable:!0,get:function(){return e.parseResultError}}),Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return e.formatError}}),Object.defineProperty(t,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return e.getErrorTypeFromErrorMessage}}),Object.defineProperty(t,"ServerError",{enumerable:!0,get:function(){return e.ServerError}})})($f);var Df={},yr={},Cn={},Pt={},Ff=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.viewFunction=Pt.viewState=Pt.encodeJSContractArgs=Pt.validateArgs=void 0;const ov=it,av=je;function cv(t){return JSON.parse(Buffer.from(t).toString())}function sv(t){return Buffer.from(JSON.stringify(t))}function qf(t){if(!(t.byteLength!==void 0&&t.byteLength===t.length)&&(Array.isArray(t)||typeof t!="object"))throw new ov.PositionalArgsError}Pt.validateArgs=qf;function zf(t,e,r){return Buffer.concat([Buffer.from(t),Buffer.from([0]),Buffer.from(e),Buffer.from([0]),Buffer.from(r)])}Pt.encodeJSContractArgs=zf;function uv(t,e,r,n={finality:"optimistic"}){return Ff(this,void 0,void 0,function*(){const{values:o}=yield t.provider.query(Object.assign(Object.assign({request_type:"view_state"},n),{account_id:e,prefix_base64:Buffer.from(r).toString("base64")}));return o.map(({key:i,value:a})=>({key:Buffer.from(i,"base64"),value:Buffer.from(a,"base64")}))})}Pt.viewState=uv;function fv(t,{contractId:e,methodName:r,args:n={},parse:o=cv,stringify:i=sv,jsContract:a=!1,blockQuery:c={finality:"optimistic"}}){return Ff(this,void 0,void 0,function*(){let h;qf(n),a?h=zf(e,r,Object.keys(n).length>0?JSON.stringify(n):""):h=i(n);const v=yield t.provider.query(Object.assign(Object.assign({request_type:"call_function"},c),{account_id:a?t.jsvmAccountId:e,method_name:a?"view_js_contract":r,args_base64:h.toString("base64")}));return v.logs&&(0,av.printTxOutcomeLogs)({contractId:e,logs:v.logs}),v.result&&v.result.length>0&&o(Buffer.from(v.result))})}Pt.viewFunction=fv;var ke=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Account=void 0;const jn=qt,dv=pr,qn=Br,en=it,Ht=je,bs=Pt,{addKey:_a,createAccount:ps,deleteAccount:lv,deleteKey:hv,deployContract:ys,fullAccessKey:wa,functionCall:bv,functionCallAccessKey:pv,stake:yv,transfer:Sa}=qn.actionCreators,vv=12,gv=500,mv=1.5;class _c{constructor(e,r){this.accessKeyByPublicKeyCache={},this.connection=e,this.accountId=r}getConnection(){return this.connection}state(){return ke(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(e,r){return ke(this,void 0,void 0,function*(){const n=yield this.findAccessKey(e,r);if(!n)throw new en.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");const{accessKey:o}=n,a=(yield this.connection.provider.block({finality:"final"})).header.hash,c=o.nonce+BigInt(1);return yield(0,qn.signTransaction)(e,c,r,(0,Ht.baseDecode)(a),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:e,actions:r,returnError:n}){return ke(this,void 0,void 0,function*(){let o,i;const a=yield(0,dv.exponentialBackoff)(gv,vv,mv,()=>ke(this,void 0,void 0,function*(){[o,i]=yield this.signTransaction(e,r);const c=i.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(i)}catch(h){if(h.type==="InvalidNonce")return Ht.Logger.warn(`Retrying transaction ${e}:${(0,Ht.baseEncode)(o)} with new nonce.`),delete this.accessKeyByPublicKeyCache[c.toString()],null;if(h.type==="Expired")return Ht.Logger.warn(`Retrying transaction ${e}:${(0,Ht.baseEncode)(o)} due to expired block hash`),null;throw h.context=new en.ErrorContext((0,Ht.baseEncode)(o)),h}}));if(!a)throw new en.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,Ht.printTxOutcomeLogsAndFailures)({contractId:i.transaction.receiverId,outcome:a}),!n&&typeof a.status=="object"&&typeof a.status.Failure=="object"&&a.status.Failure!==null)throw a.status.Failure.error_message&&a.status.Failure.error_type?new en.TypedError(`Transaction ${a.transaction_outcome.id} failed. ${a.status.Failure.error_message}`,a.status.Failure.error_type):(0,Ht.parseResultError)(a);return a})}findAccessKey(e,r){return ke(this,void 0,void 0,function*(){const n=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!n)throw new en.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");const o=this.accessKeyByPublicKeyCache[n.toString()];if(o!==void 0)return{publicKey:n,accessKey:o};try{const i=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:n.toString(),finality:"optimistic"}),a=Object.assign(Object.assign({},i),{nonce:BigInt(i.nonce||0)});return this.accessKeyByPublicKeyCache[n.toString()]?{publicKey:n,accessKey:this.accessKeyByPublicKeyCache[n.toString()]}:(this.accessKeyByPublicKeyCache[n.toString()]=a,{publicKey:n,accessKey:a})}catch(i){if(i.type=="AccessKeyDoesNotExist")return null;throw i}})}createAndDeployContract(e,r,n,o){return ke(this,void 0,void 0,function*(){const i=wa();return yield this.signAndSendTransaction({receiverId:e,actions:[ps(),Sa(o),_a(jn.PublicKey.from(r),i),ys(n)]}),new _c(this.connection,e)})}sendMoney(e,r){return ke(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:e,actions:[Sa(r)]})})}createAccount(e,r,n){return ke(this,void 0,void 0,function*(){const o=wa();return this.signAndSendTransaction({receiverId:e,actions:[ps(),Sa(n),_a(jn.PublicKey.from(r),o)]})})}deleteAccount(e){return ke(this,void 0,void 0,function*(){return Ht.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[lv(e)]})})}deployContract(e){return ke(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[ys(e)]})})}encodeJSContractArgs(e,r,n){return Buffer.concat([Buffer.from(e),Buffer.from([0]),Buffer.from(r),Buffer.from([0]),Buffer.from(n)])}functionCall({contractId:e,methodName:r,args:n={},gas:o=Ht.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:i,walletMeta:a,walletCallbackUrl:c,stringify:h,jsContract:v}){return ke(this,void 0,void 0,function*(){this.validateArgs(n);let u;if(v)u=["call_js_contract",this.encodeJSContractArgs(e,r,JSON.stringify(n)),o,i,null,!0];else{const p=h===void 0?qn.stringifyJsonOrBytes:h;u=[r,n,o,i,p,!1]}return this.signAndSendTransaction({receiverId:v?this.connection.jsvmAccountId:e,actions:[bv.apply(void 0,u)],walletMeta:a,walletCallbackUrl:c})})}addKey(e,r,n,o){return ke(this,void 0,void 0,function*(){n||(n=[]),Array.isArray(n)||(n=[n]);let i;return r?i=pv(r,n,o):i=wa(),this.signAndSendTransaction({receiverId:this.accountId,actions:[_a(jn.PublicKey.from(e),i)]})})}deleteKey(e){return ke(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[hv(jn.PublicKey.from(e))]})})}stake(e,r){return ke(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[yv(r,jn.PublicKey.from(e))]})})}signedDelegate({actions:e,blockHeightTtl:r,receiverId:n}){return ke(this,void 0,void 0,function*(){const{provider:o,signer:i}=this.connection,{header:a}=yield o.block({finality:"final"}),{accessKey:c,publicKey:h}=yield this.findAccessKey(null,null),v=(0,qn.buildDelegateAction)({actions:e,maxBlockHeight:BigInt(a.height)+BigInt(r),nonce:BigInt(c.nonce)+BigInt(1),publicKey:h,receiverId:n,senderId:this.accountId}),{signedDelegateAction:u}=yield(0,qn.signDelegateAction)({delegateAction:v,signer:{sign:p=>ke(this,void 0,void 0,function*(){const{signature:A}=yield i.signMessage(p,v.senderId,this.connection.networkId);return A})}});return u})}validateArgs(e){if(!(e.byteLength!==void 0&&e.byteLength===e.length)&&(Array.isArray(e)||typeof e!="object"))throw new en.PositionalArgsError}viewFunction(e){return ke(this,void 0,void 0,function*(){return yield(0,bs.viewFunction)(this.connection,e)})}viewState(e,r={finality:"optimistic"}){return ke(this,void 0,void 0,function*(){return yield(0,bs.viewState)(this.connection,this.accountId,e,r)})}getAccessKeys(){var e;return ke(this,void 0,void 0,function*(){const r=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return(e=r==null?void 0:r.keys)===null||e===void 0?void 0:e.map(n=>Object.assign(Object.assign({},n),{access_key:Object.assign(Object.assign({},n.access_key),{nonce:BigInt(n.access_key.nonce)})}))})}getAccountDetails(){return ke(this,void 0,void 0,function*(){return{authorizedApps:(yield this.getAccessKeys()).filter(n=>n.access_key.permission!=="FullAccess").map(n=>{const o=n.access_key.permission;return{contractId:o.FunctionCall.receiver_id,amount:o.FunctionCall.allowance,publicKey:n.public_key}})}})}getAccountBalance(){return ke(this,void 0,void 0,function*(){const e=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),r=yield this.state(),n=BigInt(e.runtime_config.storage_amount_per_byte),o=BigInt(r.storage_usage)*n,i=BigInt(r.locked),a=BigInt(r.amount)+i,c=a-(i>o?i:o);return{total:a.toString(),stateStaked:o.toString(),staked:i.toString(),available:c.toString()}})}getActiveDelegatedStakeBalance(){return ke(this,void 0,void 0,function*(){const e=yield this.connection.provider.block({finality:"final"}),r=e.header.hash,n=e.header.epoch_id,{current_validators:o,next_validators:i,current_proposals:a}=yield this.connection.provider.validators(n),c=new Set;[...o,...i,...a].forEach(S=>c.add(S.account_id));const h=[...c],v=h.map(S=>this.viewFunction({contractId:S,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:r}})),u=yield Promise.allSettled(v);if(u.some(S=>S.status==="rejected"&&S.reason.type==="TimeoutError"))throw new Error("Failed to get delegated stake balance");const A=u.reduce((S,O,B)=>{const R=h[B];if(O.status==="fulfilled"){const N=BigInt(O.value);if(N!==BigInt(0))return Object.assign(Object.assign({},S),{stakedValidators:[...S.stakedValidators,{validatorId:R,amount:N.toString()}],total:S.total+N})}return O.status==="rejected"?Object.assign(Object.assign({},S),{failedValidators:[...S.failedValidators,{validatorId:R,error:O.reason}]}):S},{stakedValidators:[],failedValidators:[],total:BigInt(0)});return Object.assign(Object.assign({},A),{total:A.total.toString()})})}}Cn.Account=_c;var So={},ri={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.MULTISIG_CONFIRM_METHODS=lt.MULTISIG_CHANGE_METHODS=lt.MULTISIG_DEPOSIT=lt.MULTISIG_GAS=lt.MULTISIG_ALLOWANCE=lt.MULTISIG_STORAGE_KEY=void 0;const _v=je;lt.MULTISIG_STORAGE_KEY="__multisigRequest";lt.MULTISIG_ALLOWANCE=BigInt((0,_v.parseNearAmount)("1"));lt.MULTISIG_GAS=BigInt("100000000000000");lt.MULTISIG_DEPOSIT=BigInt("0");lt.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"];lt.MULTISIG_CONFIRM_METHODS=["confirm"];var Eo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigStateStatus=t.MultisigDeleteRequestRejectionError=void 0,function(e){e.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",e.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",e.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",e.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",e.METHOD_NOT_FOUND="Contract method is not found"}(t.MultisigDeleteRequestRejectionError||(t.MultisigDeleteRequestRejectionError={})),function(e){e[e.INVALID_STATE=0]="INVALID_STATE",e[e.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",e[e.VALID_STATE=2]="VALID_STATE",e[e.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(t.MultisigStateStatus||(t.MultisigStateStatus={}))})(Eo);var tn=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(ri,"__esModule",{value:!0});ri.AccountMultisig=void 0;const wv=Br,Sv=je,Ev=Cn,bt=lt,cr=Eo,{deployContract:Av,functionCall:di}=wv.actionCreators;var cn;(function(t){t[t.INVALID_CODE=0]="INVALID_CODE",t[t.VALID_CODE=1]="VALID_CODE",t[t.UNKNOWN_CODE=2]="UNKNOWN_CODE"})(cn||(cn={}));const vs={[bt.MULTISIG_STORAGE_KEY]:null};class xv extends Ev.Account{constructor(e,r,n){super(e,r),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}signAndSendTransactionWithAccount(e,r){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return tn(this,void 0,void 0,function*(){return n.signAndSendTransaction.call(this,{receiverId:e,actions:r})})}signAndSendTransaction({receiverId:e,actions:r}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return tn(this,void 0,void 0,function*(){const{accountId:o}=this,i=Buffer.from(JSON.stringify({request:{receiver_id:e,actions:Mv(r,o,e)}}));let a;try{a=yield n.signAndSendTransaction.call(this,{receiverId:o,actions:[di("add_request_and_confirm",i,bt.MULTISIG_GAS,bt.MULTISIG_DEPOSIT)]})}catch(h){if(h.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:e,actions:r});throw h}if(!a.status)throw new Error("Request failed");const c=Object.assign({},a.status);if(!c.SuccessValue||typeof c.SuccessValue!="string")throw new Error("Request failed");return this.setRequest({accountId:o,actions:r,requestId:parseInt(Buffer.from(c.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(a)),this.deleteUnconfirmedRequests(),a})}checkMultisigCodeAndStateStatus(e){const r=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return tn(this,void 0,void 0,function*(){const o=e?cn.UNKNOWN_CODE:cn.VALID_CODE;try{return e?yield r.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[Av(e),di("delete_request",{request_id:4294967295},bt.MULTISIG_GAS,bt.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(4294967295),{codeStatus:cn.VALID_CODE,stateStatus:cr.MultisigStateStatus.VALID_STATE}}catch(i){if(new RegExp(cr.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(i&&i.kind&&i.kind.ExecutionError))return{codeStatus:o,stateStatus:cr.MultisigStateStatus.INVALID_STATE};if(new RegExp(cr.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(i&&i.kind&&i.kind.ExecutionError))return{codeStatus:o,stateStatus:cr.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(cr.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(i&&i.kind&&i.kind.ExecutionError))return{codeStatus:o,stateStatus:cr.MultisigStateStatus.VALID_STATE};if(new RegExp(cr.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(i&&i.message))return{codeStatus:cn.INVALID_CODE,stateStatus:cr.MultisigStateStatus.UNKNOWN_STATE};throw i}})}deleteRequest(e){return super.signAndSendTransaction({receiverId:this.accountId,actions:[di("delete_request",{request_id:e},bt.MULTISIG_GAS,bt.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return tn(this,void 0,void 0,function*(){const e=yield this.getRequestIds();e.length&&(yield Promise.all(e.map(r=>this.deleteRequest(r))))})}deleteUnconfirmedRequests(){const e=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return tn(this,void 0,void 0,function*(){const r=yield this.getRequestIds(),{requestId:n}=this.getRequest();for(const o of r)if(o!=n)try{yield e.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[di("delete_request",{request_id:o},bt.MULTISIG_GAS,bt.MULTISIG_DEPOSIT)]})}catch{Sv.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return tn(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(bt.MULTISIG_STORAGE_KEY)||"{}"):vs[bt.MULTISIG_STORAGE_KEY]}setRequest(e){if(this.storage)return this.storage.setItem(bt.MULTISIG_STORAGE_KEY,JSON.stringify(e));vs[bt.MULTISIG_STORAGE_KEY]=e}}ri.AccountMultisig=xv;const Iv=t=>t.toString().replace("ed25519:",""),Mv=(t,e,r)=>t.map(n=>{const o=n.enum,{gas:i,publicKey:a,methodName:c,args:h,deposit:v,accessKey:u,code:p}=n[o],A={type:o[0].toUpperCase()+o.substr(1),gas:i&&i.toString()||void 0,public_key:a&&Iv(a)||void 0,method_name:c,args:h&&Buffer.from(h).toString("base64")||void 0,code:p&&Buffer.from(p).toString("base64")||void 0,amount:v&&v.toString()||void 0,deposit:v&&v.toString()||"0",permission:void 0};if(u&&(r===e&&u.permission.enum!=="fullAccess"&&(A.permission={receiver_id:e,allowance:bt.MULTISIG_ALLOWANCE.toString(),method_names:bt.MULTISIG_CHANGE_METHODS}),u.permission.enum==="functionCall")){const{receiverId:S,methodNames:O,allowance:B}=u.permission.functionCall;A.permission={receiver_id:S,allowance:B&&B.toString()||void 0,method_names:O}}return A});var vt=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(So,"__esModule",{value:!0});So.Account2FA=void 0;const pi=qt,Un=it,Ov=pr,Tv=Br,Ea=je,Bv=ri,$n=lt,Dn=Eo,{addKey:Aa,deleteKey:xa,deployContract:li,fullAccessKey:Pv,functionCall:gs,functionCallAccessKey:ms}=Tv.actionCreators;class Cv extends Bv.AccountMultisig{constructor(e,r,n){super(e,r,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}signAndSendTransaction({receiverId:e,actions:r}){const n=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return vt(this,void 0,void 0,function*(){yield n.signAndSendTransaction.call(this,{receiverId:e,actions:r}),yield this.sendCode();const o=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(o)),o})}deployMultisig(e){const r=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return vt(this,void 0,void 0,function*(){const{accountId:n}=this,o=(yield this.getRecoveryMethods()).data.filter(({kind:p,publicKey:A})=>(p==="phrase"||p==="ledger")&&A!==null).map(p=>p.publicKey),i=(yield this.getAccessKeys()).filter(({public_key:p,access_key:{permission:A}})=>A==="FullAccess"&&!o.includes(p)).map(p=>p.public_key).map(_s),a=_s((yield this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),c=Buffer.from(JSON.stringify({num_confirmations:2})),h=[...i.map(p=>xa(p)),...i.map(p=>Aa(p,ms(n,$n.MULTISIG_CHANGE_METHODS,null))),Aa(a,ms(n,$n.MULTISIG_CONFIRM_METHODS,null)),li(e)],v=h.concat(gs("new",c,$n.MULTISIG_GAS,$n.MULTISIG_DEPOSIT));Ea.Logger.log("deploying multisig contract for",n);const{stateStatus:u}=yield this.checkMultisigCodeAndStateStatus(e);switch(u){case Dn.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield r.signAndSendTransactionWithAccount.call(this,n,v);case Dn.MultisigStateStatus.VALID_STATE:return yield r.signAndSendTransactionWithAccount.call(this,n,h);case Dn.MultisigStateStatus.INVALID_STATE:throw new Un.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new Un.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:e,cleanupContractBytes:r}){return vt(this,void 0,void 0,function*(){let n=[];r&&(yield this.deleteAllRequests().catch(c=>c),n=yield this.get2faDisableCleanupActions(r));const o=yield this.get2faDisableKeyConversionActions(),i=[...n,...o,li(e)],a=yield this.findAccessKey(this.accountId,i);if(a&&a.accessKey&&a.accessKey.permission!=="FullAccess")throw new Un.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,i)})}get2faDisableCleanupActions(e){return vt(this,void 0,void 0,function*(){const r=yield this.viewState("").catch(o=>{const i=o.cause&&o.cause.name;if(i=="NO_CONTRACT_CODE")return[];throw i=="TOO_LARGE_CONTRACT_STATE"?new Un.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):o}),n=r.map(({key:o})=>o.toString("base64"));return r.length?[li(e),gs("clean",{keys:n},$n.MULTISIG_GAS,BigInt("0"))]:[]})}get2faDisableKeyConversionActions(){return vt(this,void 0,void 0,function*(){const{accountId:e}=this,n=(yield this.getAccessKeys()).filter(({access_key:i})=>i.permission!=="FullAccess").filter(({access_key:i})=>{const a=i.permission.FunctionCall;return a.receiver_id===e&&a.method_names.length===4&&a.method_names.includes("add_request_and_confirm")}),o=pi.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:e})).publicKey);return[xa(o),...n.map(({public_key:i})=>xa(pi.PublicKey.from(i))),...n.map(({public_key:i})=>Aa(pi.PublicKey.from(i),Pv()))]})}disable(e,r){return vt(this,void 0,void 0,function*(){const{stateStatus:n}=yield this.checkMultisigCodeAndStateStatus();if(n!==Dn.MultisigStateStatus.VALID_STATE&&n!==Dn.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new Un.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let o;yield this.deleteAllRequests().catch(c=>o=c);const a=[...yield this.get2faDisableCleanupActions(r).catch(c=>{throw c.type==="ContractHasExistingState"&&o||c}),...yield this.get2faDisableKeyConversionActions(),li(e)];return Ea.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:a})})}sendCodeDefault(){return vt(this,void 0,void 0,function*(){const{accountId:e}=this,{requestId:r}=this.getRequest(),n=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:e,method:n,requestId:r}),r})}getCodeDefault(){return vt(this,void 0,void 0,function*(){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return vt(this,void 0,void 0,function*(){const e=yield this.get2faMethod(),r=yield this.getCode(e);try{return yield this.verifyCode(r)}catch(n){if(Ea.Logger.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw n}})}verifyCodeDefault(e){return vt(this,void 0,void 0,function*(){const{accountId:r}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:o}=n;return yield this.postSignedJson("/2fa/verify",{accountId:r,securityCode:e,requestId:o})})}getRecoveryMethods(){return vt(this,void 0,void 0,function*(){const{accountId:e}=this;return{accountId:e,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:e})}})}get2faMethod(){return vt(this,void 0,void 0,function*(){let{data:e}=yield this.getRecoveryMethods();if(e&&e.length&&(e=e.find(o=>o.kind.indexOf("2fa-")===0)),!e)return null;const{kind:r,detail:n}=e;return{kind:r,detail:n}})}signatureFor(){return vt(this,void 0,void 0,function*(){const{accountId:e}=this,n=(yield this.connection.provider.block({finality:"final"})).header.height.toString(),o=yield this.connection.signer.signMessage(Buffer.from(n),e,this.connection.networkId),i=Buffer.from(o.signature).toString("base64");return{blockNumber:n,blockNumberSignature:i}})}postSignedJson(e,r){return vt(this,void 0,void 0,function*(){return yield(0,Ov.fetchJson)(this.helperUrl+e,JSON.stringify(Object.assign(Object.assign({},r),yield this.signatureFor())))})}}So.Account2FA=Cv;const _s=t=>pi.PublicKey.from(t);var Or={},Hf=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Or,"__esModule",{value:!0});Or.UrlAccountCreator=Or.LocalAccountCreator=Or.AccountCreator=void 0;const Nv=pr;class wc{}Or.AccountCreator=wc;class Rv extends wc{constructor(e,r){super(),this.masterAccount=e,this.initialBalance=r}createAccount(e,r){return Hf(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(e,r,this.initialBalance)})}}Or.LocalAccountCreator=Rv;class Lv extends wc{constructor(e,r){super(),this.connection=e,this.helperUrl=r}createAccount(e,r){return Hf(this,void 0,void 0,function*(){yield(0,Nv.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:e,newAccountPublicKey:r.toString()}))})}}Or.UrlAccountCreator=Lv;var Ao={},Sc={},xo={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.Signer=void 0;class kv{}ni.Signer=kv;var hi=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(xo,"__esModule",{value:!0});xo.InMemorySigner=void 0;const Ia=qt,Kv=Gr,jv=Hr,Uv=ni;class Ec extends Uv.Signer{constructor(e){super(),this.keyStore=e}static fromKeyPair(e,r,n){return hi(this,void 0,void 0,function*(){const o=new Kv.InMemoryKeyStore;return yield o.setKey(e,r,n),new Ec(o)})}createKey(e,r,n){return hi(this,void 0,void 0,function*(){const o=n===Ia.KeyType.SECP256K1?Ia.KeyPair.fromRandom("secp256k1"):Ia.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(r,e,o),o.getPublicKey()})}getPublicKey(e,r){return hi(this,void 0,void 0,function*(){const n=yield this.keyStore.getKey(r,e);return n===null?null:n.getPublicKey()})}signMessage(e,r,n){return hi(this,void 0,void 0,function*(){const o=new Uint8Array((0,jv.sha256)(e));if(!r)throw new Error("InMemorySigner requires provided account id");const i=yield this.keyStore.getKey(n,r);if(i===null)throw new Error(`Key for ${r} not found in ${n}`);return i.sign(o)})}toString(){return`InMemorySigner(${this.keyStore})`}}xo.InMemorySigner=Ec;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=t.InMemorySigner=void 0;var e=xo;Object.defineProperty(t,"InMemorySigner",{enumerable:!0,get:function(){return e.InMemorySigner}});var r=ni;Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return r.Signer}})})(Sc);Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Connection=void 0;const $v=Sc,Ma=pr;function Dv(t){switch(t.type){case void 0:return t;case"JsonRpcProvider":return new Ma.JsonRpcProvider(Object.assign({},t.args));case"FailoverRpcProvider":{const e=((t==null?void 0:t.args)||[]).map(r=>new Ma.JsonRpcProvider(r));return new Ma.FailoverRpcProvider(e)}default:throw new Error(`Unknown provider type ${t.type}`)}}function Fv(t){switch(t.type){case void 0:return t;case"InMemorySigner":return new $v.InMemorySigner(t.keyStore);default:throw new Error(`Unknown signer type ${t.type}`)}}class Ac{constructor(e,r,n,o){this.networkId=e,this.provider=r,this.signer=n,this.jsvmAccountId=o}getConnection(){return this}static fromConfig(e){const r=Dv(e.provider),n=Fv(e.signer);return new Ac(e.networkId,r,n,e.jsvmAccountId)}}Ao.Connection=Ac;var Io={},Mo={},Oo={},Ha={exports:{}};(function(t,e){(function(r,n){n(e)})(q,function(r){const n=Symbol("newer"),o=Symbol("older");class i{constructor(p,A){typeof p!="number"&&(A=p,p=0),this.size=0,this.limit=p,this.oldest=this.newest=void 0,this._keymap=new Map,A&&(this.assign(A),p<1&&(this.limit=this.size))}_markEntryAsUsed(p){p!==this.newest&&(p[n]&&(p===this.oldest&&(this.oldest=p[n]),p[n][o]=p[o]),p[o]&&(p[o][n]=p[n]),p[n]=void 0,p[o]=this.newest,this.newest&&(this.newest[n]=p),this.newest=p)}assign(p){let A,S=this.limit||Number.MAX_VALUE;this._keymap.clear();let O=p[Symbol.iterator]();for(let B=O.next();!B.done;B=O.next()){let R=new a(B.value[0],B.value[1]);if(this._keymap.set(R.key,R),A?(A[n]=R,R[o]=A):this.oldest=R,A=R,S--==0)throw new Error("overflow")}this.newest=A,this.size=this._keymap.size}get(p){var A=this._keymap.get(p);return A?(this._markEntryAsUsed(A),A.value):void 0}set(p,A){var S=this._keymap.get(p);return S?(S.value=A,this._markEntryAsUsed(S),this):(this._keymap.set(p,S=new a(p,A)),this.newest?(this.newest[n]=S,S[o]=this.newest):this.oldest=S,this.newest=S,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var p=this.oldest;if(p)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[o]=void 0):(this.oldest=void 0,this.newest=void 0),p[n]=p[o]=void 0,this._keymap.delete(p.key),--this.size,[p.key,p.value]}find(p){let A=this._keymap.get(p);return A?A.value:void 0}has(p){return this._keymap.has(p)}delete(p){var A=this._keymap.get(p);return A?(this._keymap.delete(A.key),A[n]&&A[o]?(A[o][n]=A[n],A[n][o]=A[o]):A[n]?(A[n][o]=void 0,this.oldest=A[n]):A[o]?(A[o][n]=void 0,this.newest=A[o]):this.oldest=this.newest=void 0,this.size--,A.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new h(this.oldest)}values(){return new v(this.oldest)}entries(){return this}[Symbol.iterator](){return new c(this.oldest)}forEach(p,A){typeof A!="object"&&(A=this);let S=this.oldest;for(;S;)p.call(A,S.value,S.key,this),S=S[n]}toJSON(){for(var p=new Array(this.size),A=0,S=this.oldest;S;)p[A++]={key:S.key,value:S.value},S=S[n];return p}toString(){for(var p="",A=this.oldest;A;)p+=String(A.key)+":"+A.value,A=A[n],A&&(p+=" < ");return p}}r.LRUMap=i;function a(u,p){this.key=u,this.value=p,this[n]=void 0,this[o]=void 0}function c(u){this.entry=u}c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:[u.key,u.value]}):{done:!0,value:void 0}};function h(u){this.entry=u}h.prototype[Symbol.iterator]=function(){return this},h.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:u.key}):{done:!0,value:void 0}};function v(u){this.entry=u}v.prototype[Symbol.iterator]=function(){return this},v.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:u.value}):{done:!0,value:void 0}}})})(Ha,Ha.exports);var qv=Ha.exports;Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Storage=void 0;const zv=qv;class To{constructor(e={max:To.MAX_ELEMENTS}){this.cache=new zv.LRUMap(e.max),this.blockHeights=new Map}load(e){if(!("blockId"in e))return;let n=e.blockId;return n.toString().length==44&&(n=this.blockHeights.get(n.toString())),this.cache.get(n)}save(e,{blockHeight:r,blockTimestamp:n,contractCode:o,contractState:i}){this.blockHeights.set(e,r),this.cache.set(r,{blockHeight:r,blockTimestamp:n,contractCode:o,contractState:i})}}Oo.Storage=To;To.MAX_ELEMENTS=100;var Bo={},Hv=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})},Gv=q&&q.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Runtime=void 0;const Vv=ln,Ut=t=>()=>{throw new Error("method not implemented: "+t)},Te=t=>()=>{throw new Error("method not available for view calls: "+t)};class Wv{constructor(e){var{contractCode:r}=e,n=Gv(e,["contractCode"]);this.context=n,this.wasm=this.prepareWASM(Buffer.from(r,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=Buffer.from([])}readUTF16CStr(e){const r=[],n=new Uint16Array(this.memory.buffer);let o=Number(e)/2;for(;n[o]!=0;)r.push(n[o]),o++;return Buffer.from(Uint16Array.from(r).buffer).toString("ucs2")}readUTF8CStr(e,r){const n=[],o=new Uint8Array(this.memory.buffer);let i=Number(r);for(let a=0;a<e&&o[i]!=0;a++)n.push(o[i]),i++;return Buffer.from(n).toString("utf8")}storageRead(e,r){const n=Buffer.from(new Uint8Array(this.memory.buffer,Number(r),Number(e))),o=this.context.contractState.filter(i=>Buffer.compare(i.key,n)===0).map(i=>i.value);return o.length===0?null:o.length>1?o:o[0]}prepareWASM(e){const r=[];if(e.subarray(0,4).toString("utf8")!=="\0asm")throw new Error("Invalid magic number");const o=e.readUInt32LE(4);if(o!=1)throw new Error("Invalid version: "+o);let i=8;r.push(e.subarray(0,i));function a(){let p=0,A=0,S;do S=e[i++],p|=(S&127)<<A,A+=7;while(S&128);return p}function c(){const A=e[i++]&1,S=a(),O=A?a():null;return{initial:S,max:O}}function h(){const p=a(),A=e.subarray(i,i+p);return i+=p,A.toString("utf8")}function v(p){const A=[];do{let S=p&127;p>>=7,p!==0&&(S|=128),A.push(S)}while(p!==0);return Buffer.from(A)}function u(p){const A=Buffer.from(p,"utf8");return Buffer.concat([v(A.length),A])}do{const p=i,A=e.readUInt8(i);i++;const S=a(),O=i+S;if(A==5)r.push(Buffer.from([5,1,0]));else if(A==2){const B=[],R=a();for(let U=0;U<R;U++){const V=i;h(),h();const C=e.readUInt8(i);i++;let H=!1;switch(C){case 0:a();break;case 1:i++,c();break;case 2:c(),H=!0;break;case 3:i++,i++;break;default:throw new Error("Invalid import kind: "+C)}H||B.push(e.subarray(V,i))}const N=Buffer.concat([u("env"),u("memory"),Buffer.from([2]),Buffer.from([0]),v(1)]);B.push(N);const $=Buffer.concat([v(B.length),...B]);r.push(Buffer.concat([Buffer.from([2]),v($.length),$]))}else if(A==7){const B=[],R=a();for(let $=0;$<R;$++){const U=i;h();const V=e.readUInt8(i);i++,a(),V!==2&&B.push(e.subarray(U,i))}const N=Buffer.concat([v(B.length),...B]);r.push(Buffer.concat([Buffer.from([7]),v(N.length),N]))}else r.push(e.subarray(p,O));i=O}while(i<e.length);return Buffer.concat(r)}getRegisterLength(e){return BigInt(this.registers[e.toString()]?this.registers[e.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(e,r){new Uint8Array(this.memory.buffer).set(this.registers[e.toString()]||Buffer.from([]),Number(r))}getCurrentAccountId(e){this.registers[e.toString()]=Buffer.from(this.context.contractId)}inputMethodArgs(e){this.registers[e.toString()]=Buffer.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(e,r,n){const o=new Uint8Array(this.memory.buffer,Number(r),Number(e)),i=(0,Vv.createHash)("sha256");i.update(o),this.registers[n.toString()]=i.digest()}returnValue(e,r){this.result=Buffer.from(new Uint8Array(this.memory.buffer,Number(r),Number(e)))}panic(e){throw new Error("panic: "+e)}abort(e,r,n,o){const i=this.readUTF16CStr(e),a=this.readUTF16CStr(r),c=`${i} ${a}:${n}:${o}`;throw!i||!a?new Error("abort: String encoding is bad UTF-16 sequence."):new Error("abort: "+c)}appendToLog(e,r){this.logs.push(this.readUTF8CStr(e,r))}readStorage(e,r,n){const o=this.storageRead(e,r);return o==null?BigInt(0):(this.registers[n]=o,BigInt(1))}hasStorageKey(e,r){return this.storageRead(e,r)==null?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(e,r)=>this.panic(this.readUTF8CStr(e,r)),epoch_height:Ut("epoch_height"),storage_usage:Ut("storage_usage"),account_balance:Ut("account_balance"),account_locked_balance:Ut("account_locked_balance"),random_seed:Ut("random_seed"),ripemd160:Ut("ripemd160"),keccak256:Ut("keccak256"),keccak512:Ut("keccak512"),ecrecover:Ut("ecrecover"),validator_stake:Ut("validator_stake"),validator_total_stake:Ut("validator_total_stake"),write_register:Te("write_register"),signer_account_id:Te("signer_account_id"),signer_account_pk:Te("signer_account_pk"),predecessor_account_id:Te("predecessor_account_id"),attached_deposit:Te("attached_deposit"),prepaid_gas:Te("prepaid_gas"),used_gas:Te("used_gas"),promise_create:Te("promise_create"),promise_then:Te("promise_then"),promise_and:Te("promise_and"),promise_batch_create:Te("promise_batch_create"),promise_batch_then:Te("promise_batch_then"),promise_batch_action_create_account:Te("promise_batch_action_create_account"),promise_batch_action_deploy_contract:Te("promise_batch_action_deploy_contract"),promise_batch_action_function_call:Te("promise_batch_action_function_call"),promise_batch_action_function_call_weight:Te("promise_batch_action_function_call_weight"),promise_batch_action_transfer:Te("promise_batch_action_transfer"),promise_batch_action_stake:Te("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:Te("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:Te("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:Te("promise_batch_action_delete_key"),promise_batch_action_delete_account:Te("promise_batch_action_delete_account"),promise_results_count:Te("promise_results_count"),promise_result:Te("promise_result"),promise_return:Te("promise_return"),storage_write:Te("storage_write"),storage_remove:Te("storage_remove")}}execute(e){return Hv(this,void 0,void 0,function*(){const r=yield WebAssembly.compile(this.wasm),o=(yield WebAssembly.instantiate(r,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})})).exports[e];if(o==null)throw new Error(`Contract method '${e}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return o(),{result:this.result,logs:this.logs}})}}Bo.Runtime=Wv;var Fn=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})},ws=q&&q.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.LocalViewExecution=void 0;const Jv=je,Zv=Oo,Xv=Bo,Yv=Pt;class Qv{constructor(e){this.connection=e.getConnection(),this.storage=new Zv.Storage}fetchContractCode(e,r){return Fn(this,void 0,void 0,function*(){return(yield this.connection.provider.query(Object.assign({request_type:"view_code",account_id:e},r))).code_base64})}fetchContractState(e,r){return Fn(this,void 0,void 0,function*(){return(0,Yv.viewState)(this.connection,e,"",r)})}fetch(e,r){return Fn(this,void 0,void 0,function*(){const n=yield this.connection.provider.block(r),o=n.header.hash,i=n.header.height,a=n.header.timestamp,c=yield this.fetchContractCode(e,r),h=yield this.fetchContractState(e,r);return{blockHash:o,blockHeight:i,blockTimestamp:a,contractCode:c,contractState:h}})}loadOrFetch(e,r){return Fn(this,void 0,void 0,function*(){const n=this.storage.load(r);if(n)return n;const o=yield this.fetch(e,r),{blockHash:i}=o,a=ws(o,["blockHash"]);return this.storage.save(i,a),a})}viewFunction(e){var{contractId:r,methodName:n,args:o={},blockQuery:i={finality:"optimistic"}}=e;return ws(e,["contractId","methodName","args","blockQuery"]),Fn(this,void 0,void 0,function*(){const a=JSON.stringify(o),{contractCode:c,contractState:h,blockHeight:v,blockTimestamp:u}=yield this.loadOrFetch(r,i),p=new Xv.Runtime({contractId:r,contractCode:c,contractState:h,blockHeight:v,blockTimestamp:u,methodArgs:a}),{result:A,logs:S}=yield p.execute(n);return S&&(0,Jv.printTxOutcomeLogs)({contractId:r,logs:S}),JSON.parse(Buffer.from(A).toString())})}}Mo.LocalViewExecution=Qv;var xc={exports:{}};function eg(t){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(t)}var Gf=eg,Ic=Gf,Mc=function(t,e){return Ic(e)?t+"."+e:t+"["+JSON.stringify(e)+"]"};Mc.valid=Ic;Mc.property=function(t){return Ic(t)?t:JSON.stringify(t)};var tg=Mc,Ss=ln,Vf=Gf,Es=/[\{\[]/,As=/[\}\]]/,xs=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],Wf={};for(var Oa=0;Oa<xs.length;Oa++)Wf[xs[Oa]]=!0;var rg=function(t){return Vf(t)&&!Wf.hasOwnProperty(t)},Jf={s:function(t){return""+t},d:function(t){return""+Number(t)},o:function(t){return JSON.stringify(t)}},Zf=function(){var t=[],e=0,r={},n=function(a){for(var c="";c.length<e*2;)c+="  ";t.push(c+a)},o=function(a){if(As.test(a.trim()[0])&&Es.test(a[a.length-1])){e--,n(a),e++;return}if(Es.test(a[a.length-1])){n(a),e++;return}if(As.test(a.trim()[0])){e--,n(a);return}n(a)},i=function(a){if(!a)return i;if(arguments.length===1&&a.indexOf(`
`)>-1)for(var c=a.trim().split(`
`),h=0;h<c.length;h++)o(c[h].trim());else o(Ss.format.apply(Ss,arguments));return i};return i.scope={},i.formats=Jf,i.sym=function(a){return(!a||!rg(a))&&(a="tmp"),r[a]||(r[a]=0),a+(r[a]++||"")},i.property=function(a,c){return arguments.length===1&&(c=a,a=""),c=c+"",Vf(c)?a?a+"."+c:c:a?a+"["+JSON.stringify(c)+"]":JSON.stringify(c)},i.toString=function(){return t.join(`
`)},i.toFunction=function(a){a||(a={});var c="return ("+i.toString()+")";Object.keys(i.scope).forEach(function(u){a[u]||(a[u]=i.scope[u])});var h=Object.keys(a).map(function(u){return u}),v=h.map(function(u){return a[u]});return Function.apply(null,h.concat(c)).apply(null,v)},arguments.length&&i.apply(null,arguments),i};Zf.formats=Jf;var ng=Zf,Po={},ig=/~/,og=/~[01]/g;function ag(t){switch(t){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+t)}function Xf(t){return ig.test(t)?t.replace(og,ag):t}function cg(t,e,r){for(var n,o,i=1,a=e.length;i<a;){if(e[i]==="constructor"||e[i]==="prototype"||e[i]==="__proto__")return t;if(n=Xf(e[i++]),o=a>i,typeof t[n]>"u"&&(Array.isArray(t)&&n==="-"&&(n=t.length),o&&(e[i]!==""&&e[i]<1/0||e[i]==="-"?t[n]=[]:t[n]={})),!o)break;t=t[n]}var c=t[n];return r===void 0?delete t[n]:t[n]=r,c}function Oc(t){if(typeof t=="string"){if(t=t.split("/"),t[0]==="")return t;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(t)){for(const e of t)if(typeof e!="string"&&typeof e!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return t}throw new Error("Invalid JSON pointer.")}function Yf(t,e){if(typeof t!="object")throw new Error("Invalid input object.");e=Oc(e);var r=e.length;if(r===1)return t;for(var n=1;n<r;){if(t=t[Xf(e[n++])],r===n)return t;if(typeof t!="object"||t===null)return}}function Qf(t,e,r){if(typeof t!="object")throw new Error("Invalid input object.");if(e=Oc(e),e.length===0)throw new Error("Invalid JSON pointer for set.");return cg(t,e,r)}function sg(t){var e=Oc(t);return{get:function(r){return Yf(r,e)},set:function(r,n){return Qf(r,e,n)}}}Po.get=Yf;Po.set=Qf;Po.compile=sg;var ug=dg,fg=Object.prototype.hasOwnProperty;function dg(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)fg.call(r,n)&&(t[n]=r[n])}return t}var ed={},td={exports:{}};(function(t){var e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r=/\/\d{1,3}(?=%|$)/,n=/\//,o=/%.*$/,i=/([^0-9a-f:/%])/i,a=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function c(u){if(!e.test(u))return!1;var p=u.split(".");if(p.length!==4||p[0][0]==="0"&&p[0].length>1||p[1][0]==="0"&&p[1].length>1||p[2][0]==="0"&&p[2].length>1||p[3][0]==="0"&&p[3].length>1)return!1;var A=Number(p[0]),S=Number(p[1]),O=Number(p[2]),B=Number(p[3]);return A>=0&&A<256&&S>=0&&S<256&&O>=0&&O<256&&B>=0&&B<256}function h(u){var p=u.replace(r,""),A=u.length!==p.length;if(A||!A&&n.test(u))return!1;var S=p.replace(o,""),O=S.lastIndexOf(":");if(O===-1)return!1;var B=S.substring(O+1),R=c(B),N=R?S.substring(0,O+1)+"1234:5678":S;if(i.test(N)||a.test(N))return!1;var $=N.split("::");if($.length>2)return!1;if($.length===2){var U=$[0]===""?[]:$[0].split(":"),V=$[1]===""?[]:$[1].split(":"),C=8-(U.length+V.length);if(C<=0)return!1}else if(N.split(":").length!==8)return!1;return!0}function v(u){return c(u)||h(u)}t.exports=function(p){if(p||(p={}),p.version===4)return c;if(p.version===6)return h;if(p.version==null)return v;throw new Error("Unknown version: "+p.version)},t.exports.__all_regexes__=[e,r,n,o,i,a]})(td);var lg=td.exports;(function(t){var e=lg,r=/\s/,n=/^[a-zA-Z0-9.-]+$/,o=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,i=/^\+[0-9][0-9 ]{5,27}[0-9]$/,a=/ {2}/,c=/ /g;t["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,t.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,t.time=/^\d{2}:\d{2}:\d{2}$/,t.email=function(h){return h.indexOf("@")!==-1&&!r.test(h)},t["ip-address"]=t.ipv4=e({version:4}),t.ipv6=e({version:6}),t.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,t.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,t.hostname=function(h){if(!n.test(h))return!1;for(var v=h.split("."),u=0;u<v.length;u++)if(!o.test(v[u]))return!1;return!0},t.alpha=/^[a-zA-Z]+$/,t.alphanumeric=/^[a-zA-Z0-9]+$/,t.style=/.:\s*[^;]/g,t.phone=function(h){if(!i.test(h)||a.test(h))return!1;var v=h.substring(1).replace(c,"").length;return v>=7&&v<=15},t["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/})(ed);xc.exports;(function(t){var e=tg,r=ng,n=Po,o=ug,i=ed,a=function(A,S,O){var B=function(C){return C&&C.id===O?C:typeof C!="object"||!C?null:Object.keys(C).reduce(function(H,X){return H||B(C[X])},null)},R=B(A);if(R)return R;O=O.replace(/^#/,""),O=O.replace(/\/$/,"");try{return n.get(A,decodeURI(O))}catch{var N=O.indexOf("#"),$;if(N!==0)if(N===-1)$=S[O];else{var U=O.slice(0,N);$=S[U];var V=O.slice(N).replace(/^#/,"");try{return n.get($,V)}catch{}}else $=S[O];return $||null}},c={};c.any=function(){return"true"},c.null=function(A){return A+" === null"},c.boolean=function(A){return"typeof "+A+' === "boolean"'},c.array=function(A){return"Array.isArray("+A+")"},c.object=function(A){return"typeof "+A+' === "object" && '+A+" && !Array.isArray("+A+")"},c.number=function(A){return"typeof "+A+' === "number" && isFinite('+A+")"},c.integer=function(A){return"typeof "+A+' === "number" && (Math.floor('+A+") === "+A+" || "+A+" > 9007199254740992 || "+A+" < -9007199254740992)"},c.string=function(A){return"typeof "+A+' === "string"'};var h=function(A,S){S=Math.min(S===-1?A.length:S,A.length);for(var O=[],B=0;B<S;B++)O.push(typeof A[B]=="object"?JSON.stringify(A[B]):A[B]);for(var B=1;B<O.length;B++)if(O.indexOf(O[B])!==B)return!1;return!0},v=function(A,S){var O,B=(S|0)!==S?Math.pow(10,S.toString().split(".").pop().length):1;if(B>1){var R=(A|0)!==A?Math.pow(10,A.toString().split(".").pop().length):1;R>B?O=!0:O=Math.round(B*A)%(B*S)}else O=A%S;return!O},u=function(A,S,O){return O>-1&&S.length>O?!0:A.test(S)},p=function(A,S,O,B,R){var N=R?o(i,R.formats):i,$={unique:h,formats:N,isMultipleOf:v,testLimitedRegex:u},U=R?!!R.verbose:!1,V=R&&R.greedy!==void 0?R.greedy:!1,C={},H=[],X=function(g){var _=g+(C[g]=(C[g]||0)+1);return H.push(_),_},L=function(g){var _=JSON.stringify(g);try{for(var T=/\[([^\[\]"]+)\]/;T.test(_);)_=_.replace(T,I);return _}catch{return JSON.stringify(g)}function I(m,f){if(H.indexOf(f)===-1)throw new Error("Unreplaceable");return'." + '+f+' + "'}},j={},ee=function(g){if(j[g])return j[g];var _=X("pattern");return $[_]=new RegExp(g),j[g]=_,_},M=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],s=function(){var g=M.shift();return M.push(g+g[0]),H.push(g),g},l=function(g,_,T,I,m){var f=_.properties,w=_.type,F=!1;Array.isArray(_.items)&&(f={},_.items.forEach(function(ue,ie){f[ie]=ue}),w="array",F=!0);var G=0,z=function(ue,ie,ae){y("errors++"),T===!0&&(y("if (validate.errors === null) validate.errors = []"),U?y("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",L(ie||g),JSON.stringify(ue),ae||g,JSON.stringify(w),JSON.stringify(m)):y("validate.errors.push({field:%s,message:%s})",L(ie||g),JSON.stringify(ue)))};_.required===!0?(G++,y("if (%s === undefined) {",g),z("is required"),y("} else {")):(G++,y("if (%s !== undefined) {",g));var ne=[].concat(w).map(function(ue){if(ue&&!c.hasOwnProperty(ue))throw new Error("Unknown type: "+ue);return c[ue||"any"](g)}).join(" || ")||"true";if(ne!=="true"&&(G++,y("if (!(%s)) {",ne),z("is the wrong type"),y("} else {")),F){if(_.additionalItems===!1)y("if (%s.length > %d) {",g,_.items.length),z("has additional items"),y("}");else if(_.additionalItems){var J=s();y("for (var %s = %d; %s < %s.length; %s++) {",J,_.items.length,J,g,J),l(g+"["+J+"]",_.additionalItems,T,I,m.concat("additionalItems")),y("}")}}if(_.format&&N[_.format]){w!=="string"&&i[_.format]&&y("if (%s) {",c.string(g));var Z=X("format");$[Z]=N[_.format],typeof $[Z]=="function"?y("if (!%s(%s)) {",Z,g):y("if (!testLimitedRegex(%s, %s, %d)) {",Z,g,typeof _.maxLength>"u"?-1:_.maxLength),z("must be "+_.format+" format"),y("}"),w!=="string"&&i[_.format]&&y("}")}if(Array.isArray(_.required)){var Z=X("missing");y("var %s = 0",Z);var be=function(ie){var ae=e(g,ie);y("if (%s === undefined) {",ae),z("is required",ae),y("%s++",Z),y("}")};y("if ((%s)) {",w!=="object"?c.object(g):"true"),_.required.map(be),y("}"),V||(y("if (%s === 0) {",Z),G++)}if(_.uniqueItems&&(w!=="array"&&y("if (%s) {",c.array(g)),y("if (!(unique(%s, %d))) {",g,_.maxItems||-1),z("must be unique"),y("}"),w!=="array"&&y("}")),_.enum){var re=_.enum.some(function(ue){return typeof ue=="object"}),le=re?function(ue){return"JSON.stringify("+g+") !== JSON.stringify("+JSON.stringify(ue)+")"}:function(ue){return g+" !== "+JSON.stringify(ue)};y("if (%s) {",_.enum.map(le).join(" && ")||"false"),z("must be an enum value"),y("}")}if(_.dependencies&&(w!=="object"&&y("if (%s) {",c.object(g)),Object.keys(_.dependencies).forEach(function(ue){var ie=_.dependencies[ue];typeof ie=="string"&&(ie=[ie]);var ae=function(Oe){return e(g,Oe)+" !== undefined"};Array.isArray(ie)&&(y("if (%s !== undefined && !(%s)) {",e(g,ue),ie.map(ae).join(" && ")||"true"),z("dependencies not set"),y("}")),typeof ie=="object"&&(y("if (%s !== undefined) {",e(g,ue)),l(g,ie,T,I,m.concat(["dependencies",ue])),y("}"))}),w!=="object"&&y("}")),_.additionalProperties||_.additionalProperties===!1){w!=="object"&&y("if (%s) {",c.object(g));var J=s(),Q=X("keys"),D=function(ie){return Q+"["+J+"] !== "+JSON.stringify(ie)},W=function(ie){return"!"+ee(ie)+".test("+Q+"["+J+"])"},ce=Object.keys(f||{}).map(D).concat(Object.keys(_.patternProperties||{}).map(W)).join(" && ")||"true";y("var %s = Object.keys(%s)",Q,g)("for (var %s = 0; %s < %s.length; %s++) {",J,J,Q,J)("if (%s) {",ce),_.additionalProperties===!1?(I&&y("delete %s",g+"["+Q+"["+J+"]]"),z("has additional properties",null,JSON.stringify(g+".")+" + "+Q+"["+J+"]")):l(g+"["+Q+"["+J+"]]",_.additionalProperties,T,I,m.concat(["additionalProperties"])),y("}")("}"),w!=="object"&&y("}")}if(_.$ref){var oe=a(O,R&&R.schemas||{},_.$ref);if(oe){var Y=S[_.$ref];Y||(S[_.$ref]=function(ae){return Y(ae)},Y=p(oe,S,O,!1,R));var Z=X("ref");$[Z]=Y,y("if (!(%s(%s))) {",Z,g),z("referenced schema does not match"),y("}")}}if(_.not){var te=X("prev");y("var %s = errors",te),l(g,_.not,!1,I,m.concat("not")),y("if (%s === errors) {",te),z("negative schema matches"),y("} else {")("errors = %s",te)("}")}if(_.items&&!F){w!=="array"&&y("if (%s) {",c.array(g));var J=s();y("for (var %s = 0; %s < %s.length; %s++) {",J,J,g,J),l(g+"["+J+"]",_.items,T,I,m.concat("items")),y("}"),w!=="array"&&y("}")}if(_.patternProperties){w!=="object"&&y("if (%s) {",c.object(g));var Q=X("keys"),J=s();y("var %s = Object.keys(%s)",Q,g)("for (var %s = 0; %s < %s.length; %s++) {",J,J,Q,J),Object.keys(_.patternProperties).forEach(function(ae){var Oe=ee(ae);y("if (%s.test(%s)) {",Oe,Q+"["+J+"]"),l(g+"["+Q+"["+J+"]]",_.patternProperties[ae],T,I,m.concat(["patternProperties",ae])),y("}")}),y("}"),w!=="object"&&y("}")}if(_.pattern){var se=ee(_.pattern);w!=="string"&&y("if (%s) {",c.string(g)),y("if (!(testLimitedRegex(%s, %s, %d))) {",se,g,typeof _.maxLength>"u"?-1:_.maxLength),z("pattern mismatch"),y("}"),w!=="string"&&y("}")}if(_.allOf&&_.allOf.forEach(function(ue,ie){l(g,ue,T,I,m.concat(["allOf",ie]))}),_.anyOf&&_.anyOf.length){var te=X("prev");_.anyOf.forEach(function(ie,ae){ae===0?y("var %s = errors",te):y("if (errors !== %s) {",te)("errors = %s",te),l(g,ie,!1,!1,m)}),_.anyOf.forEach(function(ie,ae){ae&&y("}")}),y("if (%s !== errors) {",te),z("no schemas match"),y("}")}if(_.oneOf&&_.oneOf.length){var te=X("prev"),de=X("passes");y("var %s = errors",te)("var %s = 0",de),_.oneOf.forEach(function(ie,ae){l(g,ie,!1,!1,m),y("if (%s === errors) {",te)("%s++",de)("} else {")("errors = %s",te)("}")}),y("if (%s !== 1) {",de),z("no (or more than one) schemas match"),y("}")}for(_.multipleOf!==void 0&&(w!=="number"&&w!=="integer"&&y("if (%s) {",c.number(g)),y("if (!isMultipleOf(%s, %d)) {",g,_.multipleOf),z("has a remainder"),y("}"),w!=="number"&&w!=="integer"&&y("}")),_.maxProperties!==void 0&&(w!=="object"&&y("if (%s) {",c.object(g)),y("if (Object.keys(%s).length > %d) {",g,_.maxProperties),z("has more properties than allowed"),y("}"),w!=="object"&&y("}")),_.minProperties!==void 0&&(w!=="object"&&y("if (%s) {",c.object(g)),y("if (Object.keys(%s).length < %d) {",g,_.minProperties),z("has less properties than allowed"),y("}"),w!=="object"&&y("}")),_.maxItems!==void 0&&(w!=="array"&&y("if (%s) {",c.array(g)),y("if (%s.length > %d) {",g,_.maxItems),z("has more items than allowed"),y("}"),w!=="array"&&y("}")),_.minItems!==void 0&&(w!=="array"&&y("if (%s) {",c.array(g)),y("if (%s.length < %d) {",g,_.minItems),z("has less items than allowed"),y("}"),w!=="array"&&y("}")),_.maxLength!==void 0&&(w!=="string"&&y("if (%s) {",c.string(g)),y("if (%s.length > %d) {",g,_.maxLength),z("has longer length than allowed"),y("}"),w!=="string"&&y("}")),_.minLength!==void 0&&(w!=="string"&&y("if (%s) {",c.string(g)),y("if (%s.length < %d) {",g,_.minLength),z("has less length than allowed"),y("}"),w!=="string"&&y("}")),_.minimum!==void 0&&(w!=="number"&&w!=="integer"&&y("if (%s) {",c.number(g)),y("if (%s %s %d) {",g,_.exclusiveMinimum?"<=":"<",_.minimum),z("is less than minimum"),y("}"),w!=="number"&&w!=="integer"&&y("}")),_.maximum!==void 0&&(w!=="number"&&w!=="integer"&&y("if (%s) {",c.number(g)),y("if (%s %s %d) {",g,_.exclusiveMaximum?">=":">",_.maximum),z("is more than maximum"),y("}"),w!=="number"&&w!=="integer"&&y("}")),f&&Object.keys(f).forEach(function(ue){Array.isArray(w)&&w.indexOf("null")!==-1&&y("if (%s !== null) {",g),l(e(g,ue),f[ue],T,I,m.concat(F?ue:["properties",ue])),Array.isArray(w)&&w.indexOf("null")!==-1&&y("}")});G--;)y("}")},y=r("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return l("data",A,B,R&&R.filter,[]),y("return errors === 0")("}"),y=y.toFunction($),y.errors=null,Object.defineProperty&&Object.defineProperty(y,"error",{get:function(){return y.errors?y.errors.map(function(g){return g.field+" "+g.message}).join(`
`):""}}),y.toJSON=function(){return A},y};t.exports=function(A,S){return typeof A=="string"&&(A=JSON.parse(A)),p(A,{},A,!0,S)},t.exports.filter=function(A,S){var O=t.exports(A,o(S,{filter:!0}));return function(B){return O(B),B}}})(xc);var hg=xc.exports,rd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbiSerializationType=t.AbiFunctionModifier=t.AbiFunctionKind=t.SCHEMA_VERSION=void 0,t.SCHEMA_VERSION="0.3.0",function(e){e.View="view",e.Call="call"}(t.AbiFunctionKind||(t.AbiFunctionKind={})),function(e){e.Init="init",e.Private="private",e.Payable="payable"}(t.AbiFunctionModifier||(t.AbiFunctionModifier={})),function(e){e.Json="json",e.Borsh="borsh"}(t.AbiSerializationType||(t.AbiSerializationType={}))})(rd);var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.ConflictingOptions=Dt.ArgumentSchemaError=Dt.UnknownArgumentError=Dt.UnsupportedSerializationError=void 0;class bg extends Error{constructor(e,r){super(`Contract method '${e}' is using an unsupported serialization type ${r}`)}}Dt.UnsupportedSerializationError=bg;class pg extends Error{constructor(e,r){super(`Unrecognized argument '${e}', expected '${JSON.stringify(r)}'`)}}Dt.UnknownArgumentError=pg;class yg extends Error{constructor(e,r){super(`Argument '${e}' does not conform to the specified ABI schema: '${JSON.stringify(r)}'`)}}Dt.ArgumentSchemaError=yg;class vg extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}Dt.ConflictingOptions=vg;var Ta=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})},nd=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});Io.Contract=void 0;const Ba=je,Ga=it,gg=Mo,mg=nd(hg),Is=nd(Js),Ti=rd,_g=Cn,zn=Dt,wg=Pt;function Ms(t,e){return{[t](...r){return e(...r)}}[t]}function Os(t,e,r){var n;if(!yi(t))return;if(e.params&&e.params.serialization_type!==Ti.AbiSerializationType.Json)throw new zn.UnsupportedSerializationError(e.name,e.params.serialization_type);if(e.result&&e.result.serialization_type!==Ti.AbiSerializationType.Json)throw new zn.UnsupportedSerializationError(e.name,e.result.serialization_type);const o=((n=e.params)===null||n===void 0?void 0:n.args)||[];for(const i of o){const a=t[i.name],c=i.type_schema;c.definitions=r.body.root_schema.definitions;const h=(0,mg.default)(c);if(!h(a))throw new zn.ArgumentSchemaError(i.name,h.errors)}for(const i of Object.keys(t))if(!o.find(c=>c.name===i))throw new zn.UnknownArgumentError(i,o.map(c=>c.name))}const Ts=t=>t&&t.byteLength!==void 0&&t.byteLength===t.length,yi=t=>Object.prototype.toString.call(t)==="[object Object]";class Sg{constructor(e,r,n){this.connection=e.getConnection(),e instanceof _g.Account&&((0,Is.default)("new Contract(account, contractId, options)")("use `new Contract(connection, contractId, options)` instead"),this.account=e),this.contractId=r,this.lve=new gg.LocalViewExecution(e);const{viewMethods:o=[],changeMethods:i=[],abi:a,useLocalViewExecution:c}=n;let h=o.map(u=>({name:u,abi:null})),v=i.map(u=>({name:u,abi:null}));if(a){if(h.length>0||v.length>0)throw new zn.ConflictingOptions;h=a.body.functions.filter(u=>u.kind===Ti.AbiFunctionKind.View).map(u=>({name:u.name,abi:u})),v=a.body.functions.filter(u=>u.kind===Ti.AbiFunctionKind.Call).map(u=>({name:u.name,abi:u}))}h.forEach(({name:u,abi:p})=>{Object.defineProperty(this,u,{writable:!1,enumerable:!0,value:Ms(u,(A={},S={},...O)=>Ta(this,void 0,void 0,function*(){if(O.length||!(yi(A)||Ts(A))||!yi(S))throw new Ga.PositionalArgsError;if(p&&Os(A,p,a),c)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:u,args:A},S))}catch(B){Ba.Logger.warn(`Local view execution failed with: "${B.message}"`),Ba.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:u,args:A},S)):(0,wg.viewFunction)(this.connection,Object.assign({contractId:this.contractId,methodName:u,args:A},S))}))})}),v.forEach(({name:u,abi:p})=>{Object.defineProperty(this,u,{writable:!1,enumerable:!0,value:Ms(u,(...A)=>Ta(this,void 0,void 0,function*(){if(A.length&&(A.length>3||!(yi(A[0])||Ts(A[0]))))throw new Ga.PositionalArgsError;return(A.length>1||!(A[0]&&A[0].args))&&((0,Is.default)("contract.methodName(args, gas, amount)")("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),A[0]={args:A[0],gas:A[1],amount:A[2]}),p&&Os(A[0].args,p,a),this._changeMethod(Object.assign({methodName:u},A[0]))}))})})}_changeMethod({signerAccount:e,args:r,methodName:n,gas:o,amount:i,meta:a,callbackUrl:c}){return Ta(this,void 0,void 0,function*(){Eg({gas:o,amount:i});const h=this.account||e;if(!h)throw new Error("signerAccount must be specified");const v=yield h.functionCall({contractId:this.contractId,methodName:n,args:r,gas:o,attachedDeposit:i,walletMeta:a,walletCallbackUrl:c});return(0,Ba.getTransactionLastResult)(v)})}}Io.Contract=Sg;function Eg(t){const e="number, decimal string or BigInt";for(const r of Object.keys(t)){const n=t[r];if(n&&typeof n!="bigint"&&isNaN(n))throw new Ga.ArgumentTypeError(r,e,n)}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigStateStatus=t.MultisigDeleteRequestRejectionError=t.UnsupportedSerializationError=t.UnknownArgumentError=t.ConflictingOptions=t.ArgumentSchemaError=t.Contract=t.MULTISIG_CONFIRM_METHODS=t.MULTISIG_CHANGE_METHODS=t.MULTISIG_DEPOSIT=t.MULTISIG_GAS=t.MULTISIG_ALLOWANCE=t.MULTISIG_STORAGE_KEY=t.Connection=t.AccountMultisig=t.UrlAccountCreator=t.LocalAccountCreator=t.AccountCreator=t.Account2FA=t.Account=void 0;var e=Cn;Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return e.Account}});var r=So;Object.defineProperty(t,"Account2FA",{enumerable:!0,get:function(){return r.Account2FA}});var n=Or;Object.defineProperty(t,"AccountCreator",{enumerable:!0,get:function(){return n.AccountCreator}}),Object.defineProperty(t,"LocalAccountCreator",{enumerable:!0,get:function(){return n.LocalAccountCreator}}),Object.defineProperty(t,"UrlAccountCreator",{enumerable:!0,get:function(){return n.UrlAccountCreator}});var o=ri;Object.defineProperty(t,"AccountMultisig",{enumerable:!0,get:function(){return o.AccountMultisig}});var i=Ao;Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return i.Connection}});var a=lt;Object.defineProperty(t,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return a.MULTISIG_STORAGE_KEY}}),Object.defineProperty(t,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return a.MULTISIG_ALLOWANCE}}),Object.defineProperty(t,"MULTISIG_GAS",{enumerable:!0,get:function(){return a.MULTISIG_GAS}}),Object.defineProperty(t,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return a.MULTISIG_DEPOSIT}}),Object.defineProperty(t,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return a.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(t,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return a.MULTISIG_CONFIRM_METHODS}});var c=Io;Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return c.Contract}});var h=Dt;Object.defineProperty(t,"ArgumentSchemaError",{enumerable:!0,get:function(){return h.ArgumentSchemaError}}),Object.defineProperty(t,"ConflictingOptions",{enumerable:!0,get:function(){return h.ConflictingOptions}}),Object.defineProperty(t,"UnknownArgumentError",{enumerable:!0,get:function(){return h.UnknownArgumentError}}),Object.defineProperty(t,"UnsupportedSerializationError",{enumerable:!0,get:function(){return h.UnsupportedSerializationError}});var v=Eo;Object.defineProperty(t,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return v.MultisigDeleteRequestRejectionError}}),Object.defineProperty(t,"MultisigStateStatus",{enumerable:!0,get:function(){return v.MultisigStateStatus}})})(yr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.TypedError=t.PositionalArgsError=t.ErrorContext=t.ArgumentTypeError=t.UnsupportedSerializationError=t.UnknownArgumentError=t.ConflictingOptions=t.ArgumentSchemaError=void 0;var e=yr;Object.defineProperty(t,"ArgumentSchemaError",{enumerable:!0,get:function(){return e.ArgumentSchemaError}}),Object.defineProperty(t,"ConflictingOptions",{enumerable:!0,get:function(){return e.ConflictingOptions}}),Object.defineProperty(t,"UnknownArgumentError",{enumerable:!0,get:function(){return e.UnknownArgumentError}}),Object.defineProperty(t,"UnsupportedSerializationError",{enumerable:!0,get:function(){return e.UnsupportedSerializationError}});var r=it;Object.defineProperty(t,"ArgumentTypeError",{enumerable:!0,get:function(){return r.ArgumentTypeError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return r.ErrorContext}}),Object.defineProperty(t,"PositionalArgsError",{enumerable:!0,get:function(){return r.PositionalArgsError}}),Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return r.TypedError}});var n=je;Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return n.logWarning}})})(Df);var id={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var e=je;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return e.Logger}})})(id);(function(t){var e=q&&q.__createBinding||(Object.create?function(S,O,B,R){R===void 0&&(R=B);var N=Object.getOwnPropertyDescriptor(O,B);(!N||("get"in N?!O.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return O[B]}}),Object.defineProperty(S,R,N)}:function(S,O,B,R){R===void 0&&(R=B),S[R]=O[B]}),r=q&&q.__setModuleDefault||(Object.create?function(S,O){Object.defineProperty(S,"default",{enumerable:!0,value:O})}:function(S,O){S.default=O}),n=q&&q.__importStar||function(S){if(S&&S.__esModule)return S;var O={};if(S!=null)for(var B in S)B!=="default"&&Object.prototype.hasOwnProperty.call(S,B)&&e(O,S,B);return r(O,S),O};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.logWarning=t.rpc_errors=t.KeyPairEd25519=t.KeyPair=t.PublicKey=t.format=t.enums=t.web=t.serialize=t.key_pair=void 0;const o=n(Oi);t.key_pair=o;const i=n(kf);t.serialize=i;const a=n(Kf);t.web=a;const c=n(jf);t.enums=c;const h=n(Uf);t.format=h;const v=n($f);t.rpc_errors=v;const u=Oi;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return u.PublicKey}}),Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return u.KeyPair}}),Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return u.KeyPairEd25519}});const p=Df;Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return p.logWarning}});const A=id;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return A.Logger}})})(Lf);var od={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.transfer=t.stake=t.functionCallAccessKey=t.functionCall=t.fullAccessKey=t.deployContract=t.deleteKey=t.deleteAccount=t.createAccount=t.addKey=t.encodeTransaction=t.encodeDelegateAction=t.encodeSignedDelegate=t.Transaction=t.SignedTransaction=t.Signature=t.signTransaction=t.createTransaction=t.SCHEMA=t.Transfer=t.Stake=t.FunctionCallPermission=t.FunctionCall=t.FullAccessPermission=t.DeployContract=t.DeleteKey=t.DeleteAccount=t.CreateAccount=t.AddKey=t.AccessKeyPermission=t.AccessKey=t.Action=t.stringifyJsonOrBytes=void 0;var e=Br;Object.defineProperty(t,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return e.stringifyJsonOrBytes}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return e.Action}}),Object.defineProperty(t,"AccessKey",{enumerable:!0,get:function(){return e.AccessKey}}),Object.defineProperty(t,"AccessKeyPermission",{enumerable:!0,get:function(){return e.AccessKeyPermission}}),Object.defineProperty(t,"AddKey",{enumerable:!0,get:function(){return e.AddKey}}),Object.defineProperty(t,"CreateAccount",{enumerable:!0,get:function(){return e.CreateAccount}}),Object.defineProperty(t,"DeleteAccount",{enumerable:!0,get:function(){return e.DeleteAccount}}),Object.defineProperty(t,"DeleteKey",{enumerable:!0,get:function(){return e.DeleteKey}}),Object.defineProperty(t,"DeployContract",{enumerable:!0,get:function(){return e.DeployContract}}),Object.defineProperty(t,"FullAccessPermission",{enumerable:!0,get:function(){return e.FullAccessPermission}}),Object.defineProperty(t,"FunctionCall",{enumerable:!0,get:function(){return e.FunctionCall}}),Object.defineProperty(t,"FunctionCallPermission",{enumerable:!0,get:function(){return e.FunctionCallPermission}}),Object.defineProperty(t,"Stake",{enumerable:!0,get:function(){return e.Stake}}),Object.defineProperty(t,"Transfer",{enumerable:!0,get:function(){return e.Transfer}}),Object.defineProperty(t,"SCHEMA",{enumerable:!0,get:function(){return e.SCHEMA}}),Object.defineProperty(t,"createTransaction",{enumerable:!0,get:function(){return e.createTransaction}}),Object.defineProperty(t,"signTransaction",{enumerable:!0,get:function(){return e.signTransaction}}),Object.defineProperty(t,"Signature",{enumerable:!0,get:function(){return e.Signature}}),Object.defineProperty(t,"SignedTransaction",{enumerable:!0,get:function(){return e.SignedTransaction}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return e.Transaction}}),Object.defineProperty(t,"encodeSignedDelegate",{enumerable:!0,get:function(){return e.encodeSignedDelegate}}),Object.defineProperty(t,"encodeDelegateAction",{enumerable:!0,get:function(){return e.encodeDelegateAction}}),Object.defineProperty(t,"encodeTransaction",{enumerable:!0,get:function(){return e.encodeTransaction}});const r=Br,n=(S,O)=>r.actionCreators.addKey(S,O);t.addKey=n;const o=()=>r.actionCreators.createAccount();t.createAccount=o;const i=S=>r.actionCreators.deleteAccount(S);t.deleteAccount=i;const a=S=>r.actionCreators.deleteKey(S);t.deleteKey=a;const c=S=>r.actionCreators.deployContract(S);t.deployContract=c;const h=()=>r.actionCreators.fullAccessKey();t.fullAccessKey=h;const v=(S,O,B,R,N,$)=>r.actionCreators.functionCall(S,O,B,R,N,$);t.functionCall=v;const u=(S,O,B)=>r.actionCreators.functionCallAccessKey(S,O,B);t.functionCallAccessKey=u;const p=(S,O)=>r.actionCreators.stake(S,O);t.stake=p;const A=S=>r.actionCreators.transfer(S);t.transfer=A})(od);var ad={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.findSeatPrice=t.diffEpochValidators=void 0;var e=je;Object.defineProperty(t,"diffEpochValidators",{enumerable:!0,get:function(){return e.diffEpochValidators}}),Object.defineProperty(t,"findSeatPrice",{enumerable:!0,get:function(){return e.findSeatPrice}})})(ad);var cd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0;var e=yr;Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return e.Account}})})(cd);var sd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MultisigStateStatus=t.MultisigDeleteRequestRejectionError=t.MULTISIG_CONFIRM_METHODS=t.MULTISIG_CHANGE_METHODS=t.MULTISIG_DEPOSIT=t.MULTISIG_GAS=t.MULTISIG_ALLOWANCE=t.MULTISIG_STORAGE_KEY=t.AccountMultisig=t.Account2FA=void 0;var e=yr;Object.defineProperty(t,"Account2FA",{enumerable:!0,get:function(){return e.Account2FA}}),Object.defineProperty(t,"AccountMultisig",{enumerable:!0,get:function(){return e.AccountMultisig}}),Object.defineProperty(t,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return e.MULTISIG_STORAGE_KEY}}),Object.defineProperty(t,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return e.MULTISIG_ALLOWANCE}}),Object.defineProperty(t,"MULTISIG_GAS",{enumerable:!0,get:function(){return e.MULTISIG_GAS}}),Object.defineProperty(t,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return e.MULTISIG_DEPOSIT}}),Object.defineProperty(t,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return e.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(t,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return e.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(t,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return e.MultisigDeleteRequestRejectionError}}),Object.defineProperty(t,"MultisigStateStatus",{enumerable:!0,get:function(){return e.MultisigStateStatus}})})(sd);var ud={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UrlAccountCreator=t.LocalAccountCreator=t.AccountCreator=void 0;var e=yr;Object.defineProperty(t,"AccountCreator",{enumerable:!0,get:function(){return e.AccountCreator}}),Object.defineProperty(t,"LocalAccountCreator",{enumerable:!0,get:function(){return e.LocalAccountCreator}}),Object.defineProperty(t,"UrlAccountCreator",{enumerable:!0,get:function(){return e.UrlAccountCreator}})})(ud);var fd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var e=yr;Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return e.Connection}})})(fd);var dd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=t.InMemorySigner=void 0;var e=Sc;Object.defineProperty(t,"InMemorySigner",{enumerable:!0,get:function(){return e.InMemorySigner}}),Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return e.Signer}})})(dd);var ld={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Contract=void 0;var e=yr;Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return e.Contract}})})(ld);var Tc={},Bc={},Co={},Bs=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(Co,"__esModule",{value:!0});Co.Near=void 0;const rn=yr;class Ag{constructor(e){var r;if(this.config=e,this.connection=rn.Connection.fromConfig({networkId:e.networkId,provider:e.provider||{type:"JsonRpcProvider",args:{url:e.nodeUrl,headers:e.headers}},signer:e.signer||{type:"InMemorySigner",keyStore:e.keyStore||((r=e.deps)===null||r===void 0?void 0:r.keyStore)},jsvmAccountId:e.jsvmAccountId||`jsvm.${e.networkId}`}),e.masterAccount){const n=e.initialBalance?BigInt(e.initialBalance):BigInt("500000000000000000000000000");this.accountCreator=new rn.LocalAccountCreator(new rn.Account(this.connection,e.masterAccount),n)}else e.helperUrl?this.accountCreator=new rn.UrlAccountCreator(this.connection,e.helperUrl):this.accountCreator=null}account(e){return Bs(this,void 0,void 0,function*(){return new rn.Account(this.connection,e)})}createAccount(e,r){return Bs(this,void 0,void 0,function*(){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(e,r),new rn.Account(this.connection,e)})}}Co.Near=Ag;var mn={},Ir=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(mn,"__esModule",{value:!0});mn.ConnectedWalletAccount=mn.WalletConnection=void 0;const xg=yr,hd=qt,Ig=je,bd=Br,Mg=Pr,Og="/login/",Tg="add_request_and_confirm",Bg="_wallet_auth_key",Pa="pending_key";class Pg{constructor(e,r){if(typeof r!="string")throw new Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if(typeof window>"u")return new Proxy(this,{get(i,a){return a==="isSignedIn"?()=>!1:a==="getAccountId"?()=>"":i[a]&&typeof i[a]=="function"?()=>{throw new Error("No window found in context, please ensure you are using WalletConnection on the browser")}:i[a]}});this._near=e;const n=r+Bg,o=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,r=r||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=o||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return Ir(this,void 0,void 0,function*(){return this._completeSignInPromise?(yield this._completeSignInPromise,this.isSignedIn()):this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:e,methodNames:r,successUrl:n,failureUrl:o,keyType:i="ed25519"}){return Ir(this,void 0,void 0,function*(){const a=new URL(window.location.href),c=new URL(this._walletBaseUrl+Og);if(c.searchParams.set("success_url",n||a.href),c.searchParams.set("failure_url",o||a.href),e){yield(yield this._near.account(e)).state(),c.searchParams.set("contract_id",e);const v=hd.KeyPair.fromRandom(i);c.searchParams.set("public_key",v.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,Pa+v.getPublicKey(),v)}return r&&r.forEach(h=>{c.searchParams.append("methodNames",h)}),c.toString()})}requestSignIn(e){return Ir(this,void 0,void 0,function*(){const r=yield this.requestSignInUrl(e);window.location.assign(r)})}requestSignTransactionsUrl({transactions:e,meta:r,callbackUrl:n}){const o=new URL(window.location.href),i=new URL("sign",this._walletBaseUrl);return i.searchParams.set("transactions",e.map(a=>(0,Mg.serialize)(bd.SCHEMA.Transaction,a)).map(a=>Buffer.from(a).toString("base64")).join(",")),i.searchParams.set("callbackUrl",n||o.href),r&&i.searchParams.set("meta",r),i.toString()}requestSignTransactions(e){const r=this.requestSignTransactionsUrl(e);window.location.assign(r)}_completeSignInWithAccessKey(){return Ir(this,void 0,void 0,function*(){const e=new URL(window.location.href),r=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),o=e.searchParams.get("account_id")||"";if(o){const i={accountId:o,allKeys:n};window.localStorage.setItem(this._authDataKey,JSON.stringify(i)),r&&(yield this._moveKeyFromTempToPermanent(o,r)),this._authData=i}e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())})}_moveKeyFromTempToPermanent(e,r){return Ir(this,void 0,void 0,function*(){const n=yield this._keyStore.getKey(this._networkId,Pa+r);yield this._keyStore.setKey(this._networkId,e,n),yield this._keyStore.removeKey(this._networkId,Pa+r)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new pd(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}mn.WalletConnection=Pg;class pd extends xg.Account{constructor(e,r,n){super(r,n),this.walletConnection=e}signAndSendTransaction({receiverId:e,actions:r,walletMeta:n,walletCallbackUrl:o=window.location.href}){const i=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return Ir(this,void 0,void 0,function*(){const a=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let c=yield this.accessKeyForTransaction(e,r,a);if(!c)throw new Error(`Cannot find matching key for transaction sent to ${e}`);if(a&&a.toString()===c.public_key)try{return yield i.signAndSendTransaction.call(this,{receiverId:e,actions:r})}catch(S){if(S.type==="NotEnoughAllowance")c=yield this.accessKeyForTransaction(e,r);else throw S}const h=yield this.connection.provider.block({finality:"final"}),v=(0,Ig.baseDecode)(h.header.hash),u=hd.PublicKey.from(c.public_key),p=c.access_key.nonce+BigInt(1),A=(0,bd.createTransaction)(this.accountId,u,e,p,r,v);return yield this.walletConnection.requestSignTransactions({transactions:[A],meta:n,callbackUrl:o}),new Promise((S,O)=>{setTimeout(()=>{O(new Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(e,r,n){return Ir(this,void 0,void 0,function*(){const{access_key:{permission:o}}=e;if(o==="FullAccess")return!0;if(o.FunctionCall){const{receiver_id:i,method_names:a}=o.FunctionCall;if(i===this.accountId&&a.includes(Tg))return!0;if(i===r){if(n.length!==1)return!1;const[{functionCall:c}]=n;return c&&(!c.deposit||c.deposit.toString()==="0")&&(a.length===0||a.includes(c.methodName))}}return!1})}accessKeyForTransaction(e,r,n){return Ir(this,void 0,void 0,function*(){const o=yield this.getAccessKeys();if(n){const a=o.find(c=>c.public_key.toString()===n.toString());if(a&&(yield this.accessKeyMatchesTransaction(a,e,r)))return a}const i=this.walletConnection._authData.allKeys;for(const a of o)if(i.indexOf(a.public_key)!==-1&&(yield this.accessKeyMatchesTransaction(a,e,r)))return a;return null})}}mn.ConnectedWalletAccount=pd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnection=t.ConnectedWalletAccount=t.Near=void 0;var e=Co;Object.defineProperty(t,"Near",{enumerable:!0,get:function(){return e.Near}});var r=mn;Object.defineProperty(t,"ConnectedWalletAccount",{enumerable:!0,get:function(){return r.ConnectedWalletAccount}}),Object.defineProperty(t,"WalletConnection",{enumerable:!0,get:function(){return r.WalletConnection}})})(Bc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Near=void 0;var e=Bc;Object.defineProperty(t,"Near",{enumerable:!0,get:function(){return e.Near}})})(Tc);var yd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnection=t.ConnectedWalletAccount=void 0;var e=Bc;Object.defineProperty(t,"ConnectedWalletAccount",{enumerable:!0,get:function(){return e.ConnectedWalletAccount}}),Object.defineProperty(t,"WalletConnection",{enumerable:!0,get:function(){return e.WalletConnection}})})(yd);(function(t){var e=q&&q.__createBinding||(Object.create?function(N,$,U,V){V===void 0&&(V=U);var C=Object.getOwnPropertyDescriptor($,U);(!C||("get"in C?!$.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return $[U]}}),Object.defineProperty(N,V,C)}:function(N,$,U,V){V===void 0&&(V=U),N[V]=$[U]}),r=q&&q.__setModuleDefault||(Object.create?function(N,$){Object.defineProperty(N,"default",{enumerable:!0,value:$})}:function(N,$){N.default=$}),n=q&&q.__importStar||function(N){if(N&&N.__esModule)return N;var $={};if(N!=null)for(var U in N)U!=="default"&&Object.prototype.hasOwnProperty.call(N,U)&&e($,N,U);return r($,N),$};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnection=t.ConnectedWalletAccount=t.Near=t.KeyPair=t.Signer=t.InMemorySigner=t.Contract=t.Connection=t.Account=t.multisig=t.validators=t.transactions=t.utils=t.providers=t.accountCreator=void 0;const o=n(gf);t.providers=o;const i=n(Lf);t.utils=i;const a=n(od);t.transactions=a;const c=n(ad);t.validators=c;const h=cd;Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return h.Account}});const v=n(sd);t.multisig=v;const u=n(ud);t.accountCreator=u;const p=fd;Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return p.Connection}});const A=dd;Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return A.Signer}}),Object.defineProperty(t,"InMemorySigner",{enumerable:!0,get:function(){return A.InMemorySigner}});const S=ld;Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return S.Contract}});const O=Oi;Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return O.KeyPair}});const B=Tc;Object.defineProperty(t,"Near",{enumerable:!0,get:function(){return B.Near}});const R=yd;Object.defineProperty(t,"ConnectedWalletAccount",{enumerable:!0,get:function(){return R.ConnectedWalletAccount}}),Object.defineProperty(t,"WalletConnection",{enumerable:!0,get:function(){return R.WalletConnection}})})(vf);var No={},Cg=q&&q.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(u){try{v(n.next(u))}catch(p){a(p)}}function h(u){try{v(n.throw(u))}catch(p){a(p)}}function v(u){u.done?i(u.value):o(u.value).then(c,h)}v((n=n.apply(t,e||[])).next())})};Object.defineProperty(No,"__esModule",{value:!0});No.connect=void 0;const Ng=Tc;function Rg(t){return Cg(this,void 0,void 0,function*(){return new Ng.Near(t)})}No.connect=Rg;(function(t){var e=q&&q.__createBinding||(Object.create?function(i,a,c,h){h===void 0&&(h=c);var v=Object.getOwnPropertyDescriptor(a,c);(!v||("get"in v?!a.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,h,v)}:function(i,a,c,h){h===void 0&&(h=c),i[h]=a[c]}),r=q&&q.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),n=q&&q.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&e(a,i,c);return r(a,i),a},o=q&&q.__exportStar||function(i,a){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,i,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.keyStores=void 0,t.keyStores=n(Ks),o(vf,t),o(No,t)})(Mt);const vd={networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://testnet.nearblocks.io",indexerUrl:"https://testnet-api.kitwallet.app"};let Pc;const Lg=new Mt.providers.FailoverRpcProvider([new Mt.providers.JsonRpcProvider({url:vd.nodeUrl})]),kg=async()=>{const t=new Mt.keyStores.BrowserLocalStorageKeyStore,e=await Mt.connect({keyStore:t,walletUrl:"https://testnet.mynearwallet.com",...vd,headers:{}});return{wallet:new Mt.WalletConnection(e,"near_app"),keyStore:t}};(async()=>Pc=await kg())();const Kg=document.getElementById("sign-in"),jg=document.getElementById("sign-transaction");Kg.addEventListener("click",()=>{Pc.wallet.requestSignIn({contractId:"guest-book.testnet",methodNames:["getMessages","addMessage"]})});jg.addEventListener("click",async()=>{const t="guest-book.testnet",e={text:"test"},r=[Mt.transactions.functionCall("addMessage",Bi.Buffer.from(JSON.stringify(e)),BigInt(1e13),BigInt(0))],n=await Pc.wallet.account(),{networkId:o,signer:i}=n.connection,a=await i.getPublicKey(n.accountId,o),c=await n.accessKeyForTransaction(t,r,a);if(!c)throw new Error(`Failed to find matching key for transaction sent to ${t}`);const h=await Lg.block({finality:"final"}),v=c.access_key.nonce+BigInt(1),u=Mt.transactions.createTransaction(n.accountId,Mt.utils.PublicKey.from(c.public_key),t,v,r,Mt.utils.serialize.base_decode(h.header.hash)),p=u.encode(),A=Mt.transactions.Transaction.decode(p);console.log({originalTX:u}),console.log({publicKey:A.publicKey.toString()}),await Mt.transactions.signTransaction(u,i,n.accountId,o)});
